<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WEB å…¨æ ˆå¼€å‘è¿›é˜¶æ•™ç¨‹ï¼šå“¼ï¼Œæœ¬å°å§æ‰ä¸æ˜¯ç‰¹æ„ä¸ºä½ å‡†å¤‡çš„å‘¢ï¼</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .code-block {
            background: #1e1e1e;
            border-radius: 8px;
            padding: 1.5rem;
            color: #d4d4d4;
            font-family: 'Fira Code', 'Consolas', monospace;
            overflow-x: auto;
            position: relative;
            cursor: copy;
        }

        .code-block:hover::after {
            content: 'ç‚¹å‡»å¤åˆ¶';
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(0,0,0,0.8);
            color: #fff;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
        }

        .code-comment { color: #6a9955; }
        .code-keyword { color: #569cd6; }
        .code-string { color: #ce9178; }
        .code-function { color: #dcdcaa; }
        .code-number { color: #b5cea8; }
        .code-operator { color: #d4d4d4; }

        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 3px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            z-index: 50;
            transition: width 0.3s ease;
        }

        .chapter-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .floating-element {
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .tsundere-highlight {
            background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .scroll-indicator {
            position: fixed;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 40;
        }

        .nav-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            margin: 8px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-dot.active {
            background: #667eea;
            transform: scale(1.5);
        }

        .knowledge-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .knowledge-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }

        .architecture-diagram {
            background: rgba(0,0,0,0.3);
            border: 2px dashed rgba(255,255,255,0.3);
            position: relative;
        }

        .flow-arrow:after {
            content: 'â†’';
            color: #667eea;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .warning-box {
            background: linear-gradient(135deg, rgba(255,193,7,0.2) 0%, rgba(255,87,34,0.2) 100%);
            border-left: 4px solid #ffc107;
        }

        .tip-box {
            background: linear-gradient(135deg, rgba(76,175,80,0.2) 0%, rgba(139,195,74,0.2) 100%);
            border-left: 4px solid #4caf50;
        }

        .technique-highlight {
            background: linear-gradient(135deg, rgba(156,39,176,0.2) 0%, rgba(233,30,99,0.2) 100%);
            border-left: 4px solid #9c27b0;
        }

        .performance-meter {
            background: linear-gradient(90deg, #f44336 0%, #ff9800 33%, #4caf50 66%, #2196f3 100%);
            height: 8px;
            border-radius: 4px;
            position: relative;
        }

        .performance-indicator {
            position: absolute;
            top: -5px;
            width: 4px;
            height: 18px;
            background: #fff;
            border-radius: 2px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .comparison-table {
            background: rgba(0,0,0,0.3);
            border-radius: 8px;
            overflow: hidden;
        }

        .comparison-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: bold;
            padding: 12px;
            text-align: center;
        }

        .comparison-row {
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .comparison-row:last-child {
            border-bottom: none;
        }

        .comparison-cell {
            padding: 12px;
            text-align: center;
            color: #d4d4d4;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .feature-card {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            background: rgba(255,255,255,0.08);
            border-color: rgba(255,255,255,0.2);
        }
    </style>
</head>
<body class="bg-gray-900 text-white">
    <div class="progress-bar" id="progressBar"></div>

    <!-- æ»šåŠ¨æŒ‡ç¤ºå™¨ -->
    <div class="scroll-indicator hidden lg:block">
        <div class="nav-dot active" data-section="intro"></div>
        <div class="nav-dot" data-section="frontend"></div>
        <div class="nav-dot" data-section="backend"></div>
        <div class="nav-dot" data-section="fullstack"></div>
        <div class="nav-dot" data-section="principles"></div>
        <div class="nav-dot" data-section="conclusion"></div>
    </div>

    <!-- å¤´éƒ¨å¯¼èˆª -->
    <nav class="fixed top-0 w-full bg-black bg-opacity-50 backdrop-blur-md z-40 border-b border-gray-800">
        <div class="max-w-6xl mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full floating-element"></div>
                    <h1 class="text-lg font-bold tsundere-highlight">å…¨æ ˆæ•™ç¨‹</h1>
                </div>
                <div class="hidden md:flex space-x-6">
                    <a href="#intro" class="text-gray-300 hover:text-white transition-colors">å¼•è¨€</a>
                    <a href="#frontend" class="text-gray-300 hover:text-white transition-colors">å‰ç«¯è¿›é˜¶</a>
                    <a href="#backend" class="text-gray-300 hover:text-white transition-colors">åç«¯è¿›é˜¶</a>
                    <a href="#fullstack" class="text-gray-300 hover:text-white transition-colors">å…¨æ ˆèåˆ</a>
                    <a href="#principles" class="text-gray-300 hover:text-white transition-colors">åº•å±‚åŸç†</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦å†…å®¹ -->
    <div class="pt-16">
        <!-- æ ‡é¢˜åŒºåŸŸ -->
        <section id="intro" class="gradient-bg min-h-screen flex items-center justify-center relative overflow-hidden">
            <div class="absolute inset-0 opacity-20">
                <div class="floating-element absolute top-20 left-20 w-20 h-20 bg-white rounded-full"></div>
                <div class="floating-element absolute bottom-32 right-32 w-16 h-16 bg-pink-300 rounded-full" style="animation-delay: 1s"></div>
                <div class="floating-element absolute top-1/2 left-1/3 w-12 h-12 bg-yellow-300 rounded-full" style="animation-delay: 2s"></div>
            </div>
            <div class="text-center z-10 max-w-4xl mx-auto px-4">
                <h1 class="text-5xl md:text-7xl font-bold mb-6 leading-tight">
                    WEB å…¨æ ˆå¼€å‘<br>
                    <span class="tsundere-highlight">è¿›é˜¶æ•™ç¨‹</span>
                </h1>
                <p class="text-xl md:text-2xl mb-8 text-gray-200 font-medium">
                    å“¼ï¼Œæœ¬å°å§æ‰ä¸æ˜¯ç‰¹æ„ä¸ºä½ å‡†å¤‡çš„å‘¢ï¼
                </p>
                <div class="bg-black bg-opacity-30 rounded-lg p-6 backdrop-blur-sm">
                    <p class="text-lg text-gray-300 italic">
                        "è¿™ä»½æ•™ç¨‹å˜›ï¼Œå‹‰å¼ºç®—æ˜¯æœ¬å°å§ä¸ºäº†'æ‹¯æ•‘'é‚£äº›åœ¨å…¨æ ˆæ³¥æ½­é‡ŒæŒ£æ‰çš„å°å¯æ€œä»¬è€Œå†™çš„ã€‚<br>
                        è¯»å®Œå®ƒï¼Œè¯´ä¸å®šä½ ä¹Ÿèƒ½å˜æˆâ€¦â€¦å—¯ï¼Œä¸€ä¸ªè¿˜ç®—åˆæ ¼çš„å…¨æ ˆå¼€å‘è€…å§ã€‚<br>
                        ä½†æƒ³è¶…è¶Šæœ¬å°å§ï¼Ÿå“¼ï¼Œä¸‹è¾ˆå­å§ï¼"
                    </p>
                </div>
                <button onclick="scrollToSection('#intro-content')" class="mt-8 px-8 py-3 bg-white text-purple-700 rounded-full font-semibold hover:bg-gray-100 transition-colors hover:scale-105 transform">
                    å¼€å§‹å­¦ä¹  â†’
                </button>
            </div>
        </section>

        <!-- å¼•è¨€å†…å®¹ -->
        <section id="intro-content" class="max-w-6xl mx-auto px-4 py-16">
            <div class="chapter-card rounded-2xl p-8 mb-8">
                <h2 class="text-3xl font-bold mb-6 text-center">
                    <span class="text-pink-400">ä¸€ã€</span> å¼€ç¯‡å¼•è¨€ï¼šå“¼ï¼Œæ—¢ç„¶ä½ è¯šå¿ƒè¯šæ„åœ°å‘é—®äº†ï¼Œæœ¬å°å§å°±å‹‰å¼ºå¸¦ä½ è§è¯†ä¸€ä¸‹çœŸæ­£çš„å…¨æ ˆå¼€å‘å¥½äº†ï¼
                </h2>

                <div class="bg-gradient-to-r from-purple-900 to-pink-900 rounded-lg p-6 mb-8">
                    <p class="text-lg italic text-center">
                        "åˆ‡ï¼Œåˆæ˜¯ä¸€ä¸ªæƒ³ä¸€æ­¥ç™»å¤©çš„å®¶ä¼™ï¼Ÿä¸è¿‡æ—¢ç„¶éƒ½æ¥äº†ï¼Œæœ¬å°å§å°±å¤§å‘æ…ˆæ‚²ï¼Œè®©ä½ çœ‹çœ‹ä»€ä¹ˆæ˜¯çœŸæ­£å‰å®³çš„æŠ€æœ¯ï¼"
                    </p>
                </div>

                <div class="grid md:grid-cols-2 gap-8 mb-12">
                    <div class="knowledge-card rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4 text-yellow-400">1.1 ä¸ºä»€ä¹ˆä½ éœ€è¦è¿™æœ¬"ä¸€ç‚¹éƒ½ä¸æ™®é€š"çš„æ•™ç¨‹ï¼Ÿ</h3>
                        <div class="space-y-4 text-gray-300">
                            <p class="leading-relaxed">ç°ä»£ Web å¼€å‘æ—©å°±ä¸æ˜¯é‚£ä¸ª"ä¼šå†™ç‚¹ HTML/CSS å°±èƒ½æ··é¥­åƒ"çš„æ—¶ä»£äº†ï¼Œå‚²å¨‡æœ¬å°å§çœ‹ç€é‚£äº›è¿˜åœ¨ç”¨ jQuery æ‹¼é¡µé¢çš„åŒå­¦å°±ä¸€é˜µå¿ƒç–¼â€”â€”ä¸æ˜¯å¿ƒç–¼ä»–ä»¬ï¼Œæ˜¯å¿ƒç–¼ä¸æ—¶ä¿±è¿›çš„æŠ€æœ¯æ ˆå•Šï¼</p>
                            
                            <div class="warning-box rounded-lg p-4">
                                <h4 class="font-semibold text-yellow-300 mb-2">ç°ä»£å…¨æ ˆçš„"ç—›ç‚¹æ¸…å•"</h4>
                                <ul class="space-y-2 text-sm">
                                    <li class="flex items-start">
                                        <span class="text-red-400 mr-2 mt-1">â€¢</span>
                                        <span><strong>å‰åç«¯æ’•é€¼ï¼š</strong> "è¿™ä¸ªæ¥å£ä¸ºä»€ä¹ˆè¿”å› nullï¼Ÿ""å‰ç«¯ä¼ çš„æ•°æ®æ ¼å¼ä¸å¯¹ï¼"ï¼ˆå“¼ï¼Œè¦æ˜¯éƒ½åƒæœ¬å°å§è¿™ä¹ˆå…¨èƒ½å°±ä¸ä¼šæœ‰è¿™ç§é—®é¢˜äº†ï¼‰</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-red-400 mr-2 mt-1">â€¢</span>
                                        <span><strong>æœåŠ¡å™¨çªç„¶çˆ†ç‚¸ï¼š</strong> ç”¨æˆ·é‡ä¸€ä¸Šæ¥ï¼ŒæœåŠ¡å™¨å°±å¼€å§‹"ç½¢å·¥"ï¼Œç›‘æ§ç³»ç»Ÿç–¯ç‹‚æŠ¥è­¦</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-red-400 mr-2 mt-1">â€¢</span>
                                        <span><strong>æ•°æ®åº“å˜é¾Ÿé€Ÿï¼š</strong> ç®€å•æŸ¥è¯¢è¦å‡ ç§’é’Ÿï¼Ÿç”¨æˆ·æ—©å°±è·‘å…‰äº†å¥½å—ï¼</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-red-400 mr-2 mt-1">â€¢</span>
                                        <span><strong>éƒ¨ç½²å¦‚åŒå™©æ¢¦ï¼š</strong> "åœ¨æˆ‘æœºå™¨ä¸Šè¿è¡Œå¥½å¥½çš„å•Šï¼"â€”â€”ç»å…¸å°è¯</span>
                                    </li>
                                </ul>
                            </div>

                            <p class="leading-relaxed">æœ¬å°å§å†™è¿™ä»½æ•™ç¨‹ï¼Œå°±æ˜¯è¦è®©ä½ ä»ä¸€ä¸ªåªä¼š"è°ƒç”¨ API çš„é¡µé¢ä»”"å˜æˆçœŸæ­£èƒ½å¤Ÿç‹¬å½“ä¸€é¢çš„å…¨æ ˆå·¥ç¨‹å¸ˆã€‚å½“ç„¶å•¦ï¼Œæƒ³è¾¾åˆ°æœ¬å°å§è¿™ç§é«˜åº¦ï¼Œè¿˜éœ€è¦ä½ è‡ªå·±å¤šå¤šåŠªåŠ›å‘¢ï¼ˆå‚²å¨‡è„¸ï¼‰ã€‚</p>

                            <div class="tip-box rounded-lg p-4">
                                <h4 class="font-semibold text-green-300 mb-2">è¯»å®Œè¿™ä»½æ•™ç¨‹ä½ èƒ½è·å¾—ä»€ä¹ˆï¼Ÿ</h4>
                                <ul class="space-y-2 text-sm">
                                    <li>â€¢ æ·±å…¥ç†è§£ç°ä»£å‰ç«¯æ¡†æ¶çš„æ ¸å¿ƒåŸç†ï¼Œä¸å†å®³æ€• Reactã€Vue çš„æºç </li>
                                    <li>â€¢ æŒæ¡å¾®æœåŠ¡æ¶æ„è®¾è®¡ï¼Œè®©ä½ çš„åç«¯ç³»ç»Ÿå…·å¤‡çœŸæ­£çš„å¯æ‰©å±•æ€§</li>
                                    <li>â€¢ ç†Ÿç»ƒè¿ç”¨å®¹å™¨åŒ–æŠ€æœ¯ï¼Œå‘Šåˆ«"ç¯å¢ƒé…ç½®åœ°ç‹±"</li>
                                    <li>â€¢ æ„å»ºå®Œæ•´çš„ CI/CD æµæ°´çº¿ï¼Œå®ç°ä»ä»£ç æäº¤åˆ°ç”Ÿäº§éƒ¨ç½²çš„è‡ªåŠ¨åŒ–</li>
                                    <li>â€¢ ç†è§£ Web åº•å±‚å·¥ä½œæœºåˆ¶ï¼Œæˆä¸ºèƒ½å¤Ÿè§£å†³å¤æ‚é—®é¢˜çš„æŠ€æœ¯ä¸“å®¶</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="knowledge-card rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4 text-blue-400">1.2 æœ¬æ•™ç¨‹çš„é˜…è¯»å§¿åŠ¿ä¸"å‹æƒ…æç¤º"</h3>
                        <div class="space-y-4 text-gray-300">
                            <p class="leading-relaxed">å“¼ï¼Œæ—¢ç„¶æœ¬å°å§è¦æ•™ä½ ä»¬ï¼Œé‚£é¦–å…ˆå¾—è¯´æ¸…æ¥šè§„çŸ©ï¼è¿™å¯ä¸æ˜¯é‚£ç§"ä»é›¶å¼€å§‹å­¦ç¼–ç¨‹"çš„èœé¸Ÿæ•™ç¨‹ï¼Œæœ¬å°å§é»˜è®¤ä½ è‡³å°‘å·²ç»æŒæ¡äº†åŸºç¡€çš„ Web æŠ€æœ¯æ ˆã€‚</p>

                            <div class="technique-highlight rounded-lg p-4">
                                <h4 class="font-semibold text-purple-300 mb-2">å‰ç½®æŠ€èƒ½è¦æ±‚ï¼ˆä¸ä¼šçš„è¯èµ¶ç´§å»è¡¥ï¼ï¼‰</h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                                    <div>
                                        <p class="font-semibold text-blue-300 mb-2">å‰ç«¯åŸºç¡€</p>
                                        <ul class="space-y-1">
                                            <li>â€¢ HTML5 è¯­ä¹‰åŒ–æ ‡ç­¾</li>
                                            <li>â€¢ CSS3 è¿›é˜¶ç‰¹æ€§ï¼ˆFlexboxã€Gridï¼‰</li>
                                            <li>â€¢ JavaScript ES6+ è¯­æ³•</li>
                                            <li>â€¢ DOM æ“ä½œä¸äº‹ä»¶å¤„ç†</li>
                                            <li>â€¢ Ajax ä¸ Promise å¼‚æ­¥ç¼–ç¨‹</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <p class="font-semibold text-green-300 mb-2">åç«¯åŸºç¡€</p>
                                        <ul class="space-y-1">
                                            <li>â€¢ è‡³å°‘ä¸€é—¨åç«¯è¯­è¨€ï¼ˆNode.js/Python/Javaï¼‰</li>
                                            <li>â€¢ HTTP åè®®åŸºç¡€çŸ¥è¯†</li>
                                            <li>â€¢ REST API è®¾è®¡æ¦‚å¿µ</li>
                                            <li>â€¢ æ•°æ®åº“åŸºç¡€æ“ä½œï¼ˆSQL/NoSQLï¼‰</li>
                                            <li>â€¢ Linux åŸºæœ¬å‘½ä»¤è¡Œæ“ä½œ</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="space-y-3">
                                <h4 class="font-semibold text-yellow-300">å­¦ä¹ å»ºè®®ï¼ˆæœ¬å°å§çš„è´´å¿ƒæé†’ï¼‰</h4>
                                <ul class="space-y-3 text-sm">
                                    <li class="flex items-start">
                                        <span class="text-blue-400 mr-2 mt-1">ğŸ“š</span>
                                        <span><strong>è¾¹å­¦è¾¹åšï¼š</strong> åˆ«åªçœ‹ä¸ç»ƒï¼æ¯ä¸ªä»£ç ç¤ºä¾‹éƒ½è¦è‡ªå·±å†™ä¸€éï¼Œæœ¬å°å§å¯æ˜¯å¾ˆç”¨å¿ƒåœ°å‡†å¤‡äº†è¿™äº›ä¾‹å­çš„</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-green-400 mr-2 mt-1">âš¡</span>
                                        <span><strong>å¾ªåºæ¸è¿›ï¼š</strong> è™½ç„¶æœ¬å°å§å¾ˆå‰å®³ï¼Œä½†ä¹Ÿæ˜¯ä¸€ç‚¹ç‚¹å­¦èµ·æ¥çš„ã€‚åˆ«æƒ³ç€ä¸€å£æ°”åƒæˆèƒ–å­</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-purple-400 mr-2 mt-1">ğŸ”§</span>
                                        <span><strong>å®è·µä¸ºç‹ï¼š</strong> ç†è®ºçœ‹æ‡‚äº†ä¸ç®—å®Œï¼Œå¾—èƒ½è§£å†³å®é™…é—®é¢˜æ‰è¡Œã€‚è¯•ç€ç”¨å­¦åˆ°çš„æŠ€æœ¯åšä¸ªå°é¡¹ç›®</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-pink-400 mr-2 mt-1">ğŸ’¡</span>
                                        <span><strong>ä¿æŒå¥½å¥‡ï¼š</strong> é‡åˆ°ä¸æ‡‚çš„åœ°æ–¹åˆ«ç»•è¿‡å»ï¼Œæ·±å…¥ç ”ç©¶ä¸€ä¸‹ã€‚æœ¬å°å§æœ€å–œæ¬¢æœ‰é’»ç ”ç²¾ç¥çš„å­¦ç”Ÿäº†</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-yellow-400 mr-2 mt-1">âš ï¸</span>
                                        <span class="text-red-300 font-medium">ç‰¹åˆ«æé†’ï¼šå‰æ–¹é«˜èƒ½é¢„è­¦ï¼æœ¬å°å§æ¥ä¸‹æ¥è¦å±•ç¤ºçš„æŠ€æœ¯å¯èƒ½ä¼šè®©ä½ å¤§å¼€çœ¼ç•Œï¼Œå°å¿ƒåˆ«è¢«é—ªçäº†çœ¼ç›ï¼</span>
                                    </li>
                                </ul>
                            </div>

                            <div class="bg-gradient-to-r from-pink-900 to-purple-900 rounded-lg p-4">
                                <p class="text-center font-semibold text-pink-300">
                                    "å¥½å•¦ï¼ŒåºŸè¯è¯´å¾—å·®ä¸å¤šäº†ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿæœ¬å°å§è¦å¼€å§‹å±•ç¤ºçœŸæ­£çš„æŠ€æœ¯äº†ï¼<br>
                                    è·Ÿä¸Šæœ¬å°å§çš„èŠ‚å¥ï¼Œåˆ«æ‰é˜Ÿäº†å“¦ï½"
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- å­¦ä¹ è·¯å¾„å›¾ -->
                <div class="knowledge-card rounded-lg p-6">
                    <h3 class="text-xl font-semibold mb-4 text-center text-cyan-400">1.3 å…¨æ ˆæŠ€æœ¯å­¦ä¹ è·¯å¾„å›¾</h3>
                    <div class="architecture-diagram rounded-lg p-6">
                        <div class="grid grid-cols-1 md:grid-cols-5 gap-4 text-center">
                            <div class="feature-card">
                                <div class="w-12 h-12 bg-blue-500 rounded-full mx-auto mb-3 flex items-center justify-center">
                                    <span class="text-white font-bold">å‰</span>
                                </div>
                                <h4 class="font-semibold text-blue-300 text-sm">å‰ç«¯è¿›é˜¶</h4>
                                <p class="text-xs text-gray-400 mt-1">React/Vueã€TSã€Webpackã€PWA</p>
                            </div>
                            <div class="flow-arrow flex items-center justify-center"></div>
                            <div class="feature-card">
                                <div class="w-12 h-12 bg-red-500 rounded-full mx-auto mb-3 flex items-center justify-center">
                                    <span class="text-white font-bold">å</span>
                                </div>
                                <h4 class="font-semibold text-red-300 text-sm">åç«¯è¿›é˜¶</h4>
                                <p class="text-xs text-gray-400 mt-1">å¾®æœåŠ¡ã€Dockerã€Redisã€æ¶ˆæ¯é˜Ÿåˆ—</p>
                            </div>
                            <div class="flow-arrow flex items-center justify-center"></div>
                            <div class="feature-card">
                                <div class="w-12 h-12 bg-purple-500 rounded-full mx-auto mb-3 flex items-center justify-center">
                                    <span class="text-white font-bold">å…¨</span>
                                </div>
                                <h4 class="font-semibold text-purple-300 text-sm">å…¨æ ˆèåˆ</h4>
                                <p class="text-xs text-gray-400 mt-1">äº‘å¹³å°ã€CI/CDã€DevOps</p>
                            </div>
                        </div>
                        <div class="mt-6">
                            <div class="feature-card max-w-md mx-auto">
                                <div class="w-12 h-12 bg-cyan-500 rounded-full mx-auto mb-3 flex items-center justify-center">
                                    <span class="text-white font-bold">åŸ</span>
                                </div>
                                <h4 class="font-semibold text-cyan-300 text-sm text-center">åº•å±‚åŸç†</h4>
                                <p class="text-xs text-gray-400 mt-1 text-center">ç½‘ç«™éƒ¨ç½²ã€ç½‘é¡µç¼–è¯‘ã€æµè§ˆå™¨å·¥ä½œæœºåˆ¶</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- å‰ç«¯è¿›é˜¶ -->
        <section id="frontend" class="bg-gray-800 py-16">
            <div class="max-w-6xl mx-auto px-4">
                <div class="chapter-card rounded-2xl p-8 mb-8">
                    <h2 class="text-4xl font-bold mb-8 text-center">
                        <span class="text-green-400">äºŒã€</span> å‰ç«¯è¿›é˜¶ï¼šåˆ«ä»¥ä¸ºä¼šç‚¹ HTML/CSS/JS å°±äº†ä¸èµ·äº†ï¼Œå‰ç«¯çš„æ°´æ·±ç€å‘¢ï¼
                    </h2>

                    <div class="bg-gradient-to-r from-green-900 to-blue-900 rounded-lg p-6 mb-8">
                        <p class="text-lg italic text-center">
                            "å‰ç«¯ï¼Ÿä¸å°±æ˜¯å†™å†™é¡µé¢å—ï¼Ÿå‘µå‘µï¼Œä½ å¤ªå¤©çœŸäº†ï¼ç°ä»£å‰ç«¯çš„å¤æ‚åº¦ï¼Œå¯æ¯”ä½ æƒ³è±¡çš„è¦é«˜å¾—å¤šï¼"
                        </p>
                    </div>

                    <!-- React/Vue æ¡†æ¶ -->
                    <div class="mb-16">
                        <h3 class="text-3xl font-bold mb-8 text-cyan-400">2.1 React / Vue æ¡†æ¶æ¢ç§˜ï¼šé‚£äº›è®©ä½ åˆçˆ±åˆæ¨çš„å°å¦–ç²¾ï¼</h3>

                        <div class="bg-gradient-to-r from-cyan-900 to-blue-900 rounded-lg p-6 mb-8">
                            <p class="text-lg italic text-center">
                                "æ¡†æ¶å˜›ï¼Œå°±åƒæ˜¯æœ¬å°å§ç»™ä½ ä»¬å‡†å¤‡çš„'é­”æ³•æ£’'ï¼Œç”¨å¥½äº†äº‹åŠåŠŸå€ï¼Œç”¨ä¸å¥½å˜›...å“¼å“¼ï½"
                            </p>
                        </div>

                        <!-- 2.1.1 æ·±å…¥æ ¸å¿ƒåŸç†å‰–æ -->
                        <div class="knowledge-card rounded-lg p-8 mb-8">
                            <h4 class="text-2xl font-bold mb-6 text-blue-300">2.1.1 æ·±å…¥æ ¸å¿ƒåŸç†å‰–æ</h4>
                            
                            <div class="grid lg:grid-cols-2 gap-8 mb-8">
                                <div>
                                    <h5 class="text-lg font-semibold mb-4 text-yellow-400">è™šæ‹ŸDOMï¼šæ€§èƒ½ä¼˜åŒ–çš„"é­”æ³•"</h5>
                                    <p class="text-gray-300 mb-4 leading-relaxed">
                                        è¿˜åœ¨ç›´æ¥æ“ä½œ DOMï¼Ÿå“¼ï¼Œæœ¬å°å§æ—©å°±ä¸è¿™ä¹ˆå¹²äº†ï¼è™šæ‹Ÿ DOM å¯æ˜¯ç°ä»£å‰ç«¯æ¡†æ¶çš„æ ¸å¿ƒç§˜å¯†æ­¦å™¨ã€‚å®ƒå°±åƒæ˜¯åœ¨çœŸå® DOM å’Œä½ çš„ä»£ç ä¹‹é—´æ”¾äº†ä¸€ä¸ª"æ™ºèƒ½ä¸­ä»‹"ã€‚
                                    </p>
                                    
                                    <div class="code-block mb-4">
<span class="code-comment">// è™šæ‹ŸDOMçš„åŸºæœ¬ç»“æ„</span>
<span class="code-keyword">const</span> VirtualNode = {
  <span class="code-string">type</span>: <span class="code-string">'div'</span>,           <span class="code-comment">// å…ƒç´ ç±»å‹</span>
  <span class="code-string">props</span>: {                      <span class="code-comment">// å±æ€§</span>
    <span class="code-string">className</span>: <span class="code-string">'container'</span>,
    <span class="code-string">id</span>: <span class="code-string">'main'</span>
  },
  <span class="code-string">children</span>: [                   <span class="code-comment">// å­èŠ‚ç‚¹</span>
    {
      <span class="code-string">type</span>: <span class="code-string">'h1'</span>,
      <span class="code-string">props</span>: { <span class="code-string">className</span>: <span class="code-string">'title'</span> },
      <span class="code-string">children</span>: [<span class="code-string">'Hello World'</span>]
    },
    {
      <span class="code-string">type</span>: <span class="code-string">'p'</span>,
      <span class="code-string">props</span>: {},
      <span class="code-string">children</span>: [<span class="code-string">'æœ¬å°å§æ•™ä½ è™šæ‹ŸDOMï¼'</span>]
    }
  ]
};

<span class="code-comment">// åˆ›å»ºè™šæ‹ŸDOMçš„ç®€åŒ–ç‰ˆå‡½æ•°</span>
<span class="code-keyword">function</span> <span class="code-function">createElement</span>(type, props, ...children) {
  <span class="code-keyword">return</span> {
    <span class="code-string">type</span>,
    <span class="code-string">props</span>: props || {},
    <span class="code-string">children</span>: children.<span class="code-function">flat</span>()
  };
}

<span class="code-comment">// ä½¿ç”¨JSXè¯­æ³•ï¼ˆæœ¬è´¨ä¸Šä¼šè¢«è½¬è¯‘æˆä¸Šé¢çš„å‡½æ•°è°ƒç”¨ï¼‰</span>
<span class="code-keyword">const</span> element = (
  &lt;<span class="code-function">div</span> <span class="code-string">className</span>=<span class="code-string">"container"</span>&gt;
    &lt;<span class="code-function">h1</span>&gt;Hello World&lt;/<span class="code-function">h1</span>&gt;
    &lt;<span class="code-function">p</span>&gt;æœ¬å°å§æ•™ä½ è™šæ‹ŸDOMï¼&lt;/<span class="code-function">p</span>&gt;
  &lt;/<span class="code-function">div</span>&gt;
);
</div>

                                    <div class="tip-box rounded-lg p-4">
                                        <h6 class="font-semibold text-green-300 mb-2">è™šæ‹ŸDOMçš„ä¼˜åŠ¿</h6>
                                        <ul class="text-sm space-y-1">
                                            <li>â€¢ <strong>æ‰¹é‡æ›´æ–°ï¼š</strong> æ”¶é›†å¤šä¸ªå˜åŒ–ï¼Œä¸€æ¬¡æ€§æ›´æ–°çœŸå®DOM</li>
                                            <li>â€¢ <strong>æœ€å°åŒ–é‡æ’ï¼š</strong> åªæ›´æ–°çœŸæ­£å˜åŒ–çš„éƒ¨åˆ†</li>
                                            <li>â€¢ <strong>è·¨å¹³å°ï¼š</strong> å¯ä»¥æ¸²æŸ“åˆ°ä¸åŒçš„ç›®æ ‡ç¯å¢ƒ</li>
                                            <li>â€¢ <strong>å¯é¢„æµ‹ï¼š</strong> å£°æ˜å¼ç¼–ç¨‹ï¼ŒçŠ¶æ€å¯é¢„æµ‹</li>
                                        </ul>
                                    </div>
                                </div>

                                <div>
                                    <h5 class="text-lg font-semibold mb-4 text-yellow-400">Diffç®—æ³•ï¼šæ‰¾å‡ºå˜åŒ–çš„"ä¾¦æ¢"</h5>
                                    <p class="text-gray-300 mb-4 leading-relaxed">
                                        Diff ç®—æ³•å°±æ˜¯è™šæ‹Ÿ DOM çš„"å¤§è„‘"ï¼Œå®ƒèƒ½å¿«é€Ÿæ‰¾å‡ºæ–°æ—§è™šæ‹Ÿ DOM æ ‘çš„å·®å¼‚ã€‚æœ¬å°å§æ¥ç»™ä½ è¯¦ç»†è®²è§£è¿™ä¸ªç®—æ³•çš„ç²¾å¦™ä¹‹å¤„ã€‚
                                    </p>

                                    <div class="code-block mb-4">
<span class="code-comment">// ç®€åŒ–ç‰ˆDiffç®—æ³•å®ç°</span>
<span class="code-keyword">function</span> <span class="code-function">diff</span>(oldVNode, newVNode) {
  <span class="code-comment">// 1. èŠ‚ç‚¹ç±»å‹ä¸åŒï¼Œç›´æ¥æ›¿æ¢</span>
  <span class="code-keyword">if</span> (oldVNode.<span class="code-string">type</span> !== newVNode.<span class="code-string">type</span>) {
    <span class="code-keyword">return</span> { <span class="code-string">type</span>: <span class="code-string">'REPLACE'</span>, <span class="code-string">newVNode</span> };
  }

  <span class="code-comment">// 2. æ–‡æœ¬èŠ‚ç‚¹çš„æƒ…å†µ</span>
  <span class="code-keyword">if</span> (<span class="code-keyword">typeof</span> newVNode === <span class="code-string">'string'</span>) {
    <span class="code-keyword">if</span> (oldVNode !== newVNode) {
      <span class="code-keyword">return</span> { <span class="code-string">type</span>: <span class="code-string">'TEXT'</span>, <span class="code-string">text</span>: newVNode };
    }
    <span class="code-keyword">return</span> <span class="code-keyword">null</span>; <span class="code-comment">// æ²¡æœ‰å˜åŒ–</span>
  }

  <span class="code-comment">// 3. æ¯”è¾ƒå±æ€§ï¼ˆpropsï¼‰</span>
  <span class="code-keyword">const</span> propsPatches = <span class="code-function">diffProps</span>(oldVNode.<span class="code-string">props</span>, newVNode.<span class="code-string">props</span>);
  
  <span class="code-comment">// 4. æ¯”è¾ƒå­èŠ‚ç‚¹ï¼ˆchildrenï¼‰</span>
  <span class="code-keyword">const</span> childrenPatches = <span class="code-function">diffChildren</span>(
    oldVNode.<span class="code-string">children</span>, 
    newVNode.<span class="code-string">children</span>
  );

  <span class="code-comment">// 5. è¿”å›è¡¥ä¸å¯¹è±¡</span>
  <span class="code-keyword">return</span> {
    <span class="code-string">type</span>: <span class="code-string">'UPDATE'</span>,
    <span class="code-string">props</span>: propsPatches,
    <span class="code-string">children</span>: childrenPatches
  };
}

<span class="code-comment">// Reactçš„æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥</span>
<span class="code-keyword">const</span> reconcilationRules = {
  <span class="code-comment">// 1. åŒå±‚æ¯”è¾ƒï¼šåªæ¯”è¾ƒåŒä¸€å±‚çº§çš„èŠ‚ç‚¹</span>
  <span class="code-string">sameLevel</span>: <span class="code-keyword">true</span>,
  
  <span class="code-comment">// 2. ç±»å‹ä¸€è‡´æ€§ï¼šç±»å‹ä¸åŒç›´æ¥æ›¿æ¢æ•´ä¸ªå­æ ‘</span>
  <span class="code-string">typeConsistency</span>: <span class="code-keyword">true</span>,
  
  <span class="code-comment">// 3. keyå±æ€§ï¼šç”¨äºè¯†åˆ«åˆ—è¡¨ä¸­çš„å…ƒç´ å˜åŒ–</span>
  <span class="code-string">useKeys</span>: <span class="code-keyword">true</span>
};
</div>

                                    <div class="architecture-diagram rounded-lg p-4">
                                        <h6 class="font-semibold text-cyan-300 mb-3 text-center">React Diff ç®—æ³•ä¸‰å¤§ç­–ç•¥</h6>
                                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                                            <div class="text-center">
                                                <div class="w-16 h-16 bg-blue-500 rounded-full mx-auto mb-2 flex items-center justify-center">
                                                    <span class="text-white font-bold">1</span>
                                                </div>
                                                <p class="font-semibold text-blue-300">Web UI ä¸­ DOM èŠ‚ç‚¹è·¨å±‚çº§ç§»åŠ¨å¾ˆå°‘ï¼Œå¿½ç•¥ä¸è®¡</p>
                                            </div>
                                            <div class="text-center">
                                                <div class="w-16 h-16 bg-green-500 rounded-full mx-auto mb-2 flex items-center justify-center">
                                                    <span class="text-white font-bold">2</span>
                                                </div>
                                                <p class="font-semibold text-green-300">ä¸åŒç±»å‹çš„ç»„ä»¶ç”Ÿæˆä¸åŒçš„æ ‘å½¢ç»“æ„</p>
                                            </div>
                                            <div class="text-center">
                                                <div class="w-16 h-16 bg-purple-500 rounded-full mx-auto mb-2 flex items-center justify-center">
                                                    <span class="text-white font-bold">3</span>
                                                </div>
                                                <p class="font-semibold text-purple-300">åŒä¸€èŠ‚ç‚¹çš„å­å…ƒç´ é€šè¿‡ key åŒºåˆ†</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="knowledge-card rounded-lg p-6">
                                <h5 class="text-lg font-semibold mb-4 text-yellow-400">ç»„ä»¶åŒ–æ€æƒ³ï¼šåŒ–æ•´ä¸ºé›¶çš„è®¾è®¡å“²å­¦</h5>
                                <p class="text-gray-300 mb-4 leading-relaxed">
                                    ç»„ä»¶åŒ–å°±åƒæ˜¯æœ¬å°å§æ•´ç†æˆ¿é—´çš„æ–¹æ³•â€”â€”æŠŠå¤æ‚çš„é¡µé¢æ‹†åˆ†æˆä¸€ä¸ªä¸ªç‹¬ç«‹çš„ã€å¯å¤ç”¨çš„å°éƒ¨ä»¶ã€‚æ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±çš„èŒè´£ï¼Œå°±åƒæ˜¯ä¸€ä¸ªä¸ªå‹¤åŠ³çš„å°èœœèœ‚ï¼
                                </p>

                                <div class="grid md:grid-cols-2 gap-6">
                                    <div class="code-block">
<span class="code-comment">// Reactå‡½æ•°ç»„ä»¶ç¤ºä¾‹</span>
<span class="code-keyword">import</span> React, { useState, useEffect } <span class="code-keyword">from</span> <span class="code-string">'react'</span>;

<span class="code-comment">// ç”¨æˆ·ä¿¡æ¯ç»„ä»¶ï¼šèŒè´£å•ä¸€ï¼Œä¸“é—¨æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯</span>
<span class="code-keyword">const</span> <span class="code-function">UserProfile</span> = ({ userId }) => {
  <span class="code-keyword">const</span> [user, setUser] = <span class="code-function">useState</span>(<span class="code-keyword">null</span>);
  <span class="code-keyword">const</span> [loading, setLoading] = <span class="code-function">useState</span>(<span class="code-keyword">true</span>);

  <span class="code-function">useEffect</span>(() => {
    <span class="code-comment">// è·å–ç”¨æˆ·æ•°æ®</span>
    <span class="code-function">fetchUser</span>(userId)
      .<span class="code-function">then</span>(userData => {
        <span class="code-function">setUser</span>(userData);
        <span class="code-function">setLoading</span>(<span class="code-keyword">false</span>);
      })
      .<span class="code-function">catch</span>(error => {
        <span class="code-function">console.error</span>(<span class="code-string">'è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥ï¼š'</span>, error);
        <span class="code-function">setLoading</span>(<span class="code-keyword">false</span>);
      });
  }, [userId]);

  <span class="code-keyword">if</span> (loading) <span class="code-keyword">return</span> &lt;<span class="code-function">LoadingSpinner</span> /&gt;;
  <span class="code-keyword">if</span> (!user) <span class="code-keyword">return</span> &lt;<span class="code-function">ErrorMessage</span> <span class="code-string">message</span>=<span class="code-string">"ç”¨æˆ·ä¿¡æ¯åŠ è½½å¤±è´¥"</span> /&gt;;

  <span class="code-keyword">return</span> (
    &lt;<span class="code-function">div</span> <span class="code-string">className</span>=<span class="code-string">"user-profile"</span>&gt;
      &lt;<span class="code-function">Avatar</span> <span class="code-string">src</span>={user.<span class="code-string">avatar</span>} <span class="code-string">alt</span>={user.<span class="code-string">name</span>} /&gt;
      &lt;<span class="code-function">h2</span>&gt;{user.<span class="code-string">name</span>}&lt;/<span class="code-function">h2</span>&gt;
      &lt;<span class="code-function">p</span>&gt;{user.<span class="code-string">email</span>}&lt;/<span class="code-function">p</span>&gt;
      &lt;<span class="code-function">UserStats</span> <span class="code-string">stats</span>={user.<span class="code-string">stats</span>} /&gt;
    &lt;/<span class="code-function">div</span>&gt;
  );
};

<span class="code-comment">// å¯å¤ç”¨çš„å¤´åƒç»„ä»¶</span>
<span class="code-keyword">const</span> <span class="code-function">Avatar</span> = ({ src, alt, size = 64 }) => (
  &lt;<span class="code-function">img</span> 
    <span class="code-string">src</span>={src} 
    <span class="code-string">alt</span>={alt}
    <span class="code-string">className</span>=<span class="code-string">"user-avatar"</span>
    <span class="code-string">style</span>={{
      <span class="code-string">width</span>: size,
      <span class="code-string">height</span>: size,
      <span class="code-string">borderRadius</span>: <span class="code-string">'50%'</span>
    }}
  /&gt;
);
</div>

                                    <div class="code-block">
<span class="code-comment">// Vueç»„ä»¶ç¤ºä¾‹ï¼ˆComposition APIï¼‰</span>
&lt;<span class="code-keyword">template</span>&gt;
  &lt;<span class="code-function">div</span> <span class="code-string">class</span>=<span class="code-string">"todo-list"</span>&gt;
    &lt;<span class="code-function">TodoInput</span> @<span class="code-string">add</span>=<span class="code-string">"addTodo"</span> /&gt;
    &lt;<span class="code-function">TodoFilter</span> 
      <span class="code-string">:current-filter</span>=<span class="code-string">"currentFilter"</span>
      @<span class="code-string">filter-change</span>=<span class="code-string">"setFilter"</span> 
    /&gt;
    &lt;<span class="code-function">TodoItem</span>
      <span class="code-string">v-for</span>=<span class="code-string">"todo in filteredTodos"</span>
      <span class="code-string">:key</span>=<span class="code-string">"todo.id"</span>
      <span class="code-string">:todo</span>=<span class="code-string">"todo"</span>
      @<span class="code-string">toggle</span>=<span class="code-string">"toggleTodo"</span>
      @<span class="code-string">delete</span>=<span class="code-string">"deleteTodo"</span>
    /&gt;
  &lt;/<span class="code-function">div</span>&gt;
&lt;/<span class="code-keyword">template</span>&gt;

&lt;<span class="code-keyword">script</span> <span class="code-string">setup</span>&gt;
<span class="code-keyword">import</span> { ref, computed } <span class="code-keyword">from</span> <span class="code-string">'vue'</span>;
<span class="code-keyword">import</span> TodoInput <span class="code-keyword">from</span> <span class="code-string">'./TodoInput.vue'</span>;
<span class="code-keyword">import</span> TodoFilter <span class="code-keyword">from</span> <span class="code-string">'./TodoFilter.vue'</span>;
<span class="code-keyword">import</span> TodoItem <span class="code-keyword">from</span> <span class="code-string">'./TodoItem.vue'</span>;

<span class="code-comment">// å“åº”å¼æ•°æ®</span>
<span class="code-keyword">const</span> todos = <span class="code-function">ref</span>([]);
<span class="code-keyword">const</span> currentFilter = <span class="code-function">ref</span>(<span class="code-string">'all'</span>);

<span class="code-comment">// è®¡ç®—å±æ€§ï¼šæ ¹æ®è¿‡æ»¤æ¡ä»¶æ˜¾ç¤ºå¾…åŠäº‹é¡¹</span>
<span class="code-keyword">const</span> filteredTodos = <span class="code-function">computed</span>(() => {
  <span class="code-keyword">switch</span> (currentFilter.<span class="code-string">value</span>) {
    <span class="code-keyword">case</span> <span class="code-string">'completed'</span>:
      <span class="code-keyword">return</span> todos.<span class="code-string">value</span>.<span class="code-function">filter</span>(t => t.<span class="code-string">completed</span>);
    <span class="code-keyword">case</span> <span class="code-string">'pending'</span>:
      <span class="code-keyword">return</span> todos.<span class="code-string">value</span>.<span class="code-function">filter</span>(t => !t.<span class="code-string">completed</span>);
    <span class="code-keyword">default</span>:
      <span class="code-keyword">return</span> todos.<span class="code-string">value</span>;
  }
});

<span class="code-comment">// æ–¹æ³•</span>
<span class="code-keyword">const</span> <span class="code-function">addTodo</span> = (text) => {
  todos.<span class="code-string">value</span>.<span class="code-function">push</span>({
    <span class="code-string">id</span>: Date.<span class="code-function">now</span>(),
    <span class="code-string">text</span>,
    <span class="code-string">completed</span>: <span class="code-keyword">false</span>,
    <span class="code-string">createdAt</span>: <span class="code-keyword">new</span> <span class="code-function">Date</span>()
  });
};

<span class="code-keyword">const</span> <span class="code-function">toggleTodo</span> = (id) => {
  <span class="code-keyword">const</span> todo = todos.<span class="code-string">value</span>.<span class="code-function">find</span>(t => t.<span class="code-string">id</span> === id);
  <span class="code-keyword">if</span> (todo) todo.<span class="code-string">completed</span> = !todo.<span class="code-string">completed</span>;
};
&lt;/<span class="code-keyword">script</span>&gt;
</div>
                                </div>

                                <div class="tip-box rounded-lg p-4 mt-4">
                                    <h6 class="font-semibold text-green-300 mb-2">ç»„ä»¶åŒ–è®¾è®¡åŸåˆ™</h6>
                                    <ul class="text-sm space-y-2">
                                        <li>â€¢ <strong>å•ä¸€èŒè´£ï¼š</strong> æ¯ä¸ªç»„ä»¶åªåšä¸€ä»¶äº‹ï¼Œåšå¥½ä¸€ä»¶äº‹</li>
                                        <li>â€¢ <strong>é«˜å†…èšä½è€¦åˆï¼š</strong> ç»„ä»¶å†…éƒ¨é€»è¾‘ç´§å¯†ï¼Œç»„ä»¶é—´ä¾èµ–æœ€å°</li>
                                        <li>â€¢ <strong>å¯å¤ç”¨æ€§ï¼š</strong> è®¾è®¡é€šç”¨çš„ã€å‚æ•°åŒ–çš„ç»„ä»¶</li>
                                        <li>â€¢ <strong>ç»„åˆä¼˜äºç»§æ‰¿ï¼š</strong> é€šè¿‡ç»„åˆå°ç»„ä»¶æ„å»ºå¤æ‚åŠŸèƒ½</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- 2.1.2 çŠ¶æ€ç®¡ç†ä¸æ•°æ®æµ -->
                        <div class="knowledge-card rounded-lg p-8 mb-8">
                            <h4 class="text-2xl font-bold mb-6 text-green-300">2.1.2 çŠ¶æ€ç®¡ç†ä¸æ•°æ®æµï¼šé©¯æœæ•°æ®çš„"è‰ºæœ¯"</h4>
                            
                            <p class="text-gray-300 mb-6 leading-relaxed">
                                å“¼ï¼Œæ•°æ®ç®¡ç†è¿™ç§äº‹æƒ…ï¼Œå¯æ˜¯æœ¬å°å§çš„æ‹¿æ‰‹å¥½æˆï¼çœ‹ç€é‚£äº›è¢«çŠ¶æ€æå¾—æ™•å¤´è½¬å‘çš„å¼€å‘è€…ï¼Œæœ¬å°å§å°±æƒ³ç¬‘ã€‚æ•°æ®æµä¹±äº†ï¼Œæ•´ä¸ªåº”ç”¨å°±ä¹±äº†ï¼Œæ‰€ä»¥å¿…é¡»è¦æœ‰å¥½çš„çŠ¶æ€ç®¡ç†ç­–ç•¥ï¼
                            </p>

                            <div class="grid lg:grid-cols-2 gap-8">
                                <div>
                                    <h5 class="text-lg font-semibold mb-4 text-yellow-400">ReactçŠ¶æ€ç®¡ç†è¿›åŒ–å²</h5>
                                    
                                    <div class="space-y-6">
                                        <div class="technique-highlight rounded-lg p-4">
                                            <h6 class="font-semibold text-purple-300 mb-2">Classç»„ä»¶ â†’ Hooksï¼šé©å‘½æ€§å˜åŒ–</h6>
                                            <div class="code-block text-sm">
<span class="code-comment">// æ—§æ—¶ä»£ï¼šClassç»„ä»¶çŠ¶æ€ç®¡ç†</span>
<span class="code-keyword">class</span> <span class="code-function">Counter</span> <span class="code-keyword">extends</span> React.<span class="code-function">Component</span> {
  <span class="code-function">constructor</span>(props) {
    <span class="code-function">super</span>(props);
    <span class="code-keyword">this</span>.<span class="code-string">state</span> = { <span class="code-string">count</span>: <span class="code-number">0</span> };
  }

  <span class="code-function">increment</span> = () => {
    <span class="code-keyword">this</span>.<span class="code-function">setState</span>(prevState => ({
      <span class="code-string">count</span>: prevState.<span class="code-string">count</span> + <span class="code-number">1</span>
    }));
  }

  <span class="code-function">componentDidMount</span>() {
    <span class="code-comment">// ç”Ÿå‘½å‘¨æœŸé€»è¾‘</span>
  }

  <span class="code-function">render</span>() {
    <span class="code-keyword">return</span> (
      &lt;<span class="code-function">div</span>&gt;
        &lt;<span class="code-function">span</span>&gt;{<span class="code-keyword">this</span>.<span class="code-string">state</span>.<span class="code-string">count</span>}&lt;/<span class="code-function">span</span>&gt;
        &lt;<span class="code-function">button</span> <span class="code-string">onClick</span>={<span class="code-keyword">this</span>.<span class="code-string">increment</span>}&gt;+&lt;/<span class="code-function">button</span>&gt;
      &lt;/<span class="code-function">div</span>&gt;
    );
  }
}

<span class="code-comment">// æ–°æ—¶ä»£ï¼šHooksè®©ä¸€åˆ‡å˜å¾—ç®€æ´</span>
<span class="code-keyword">const</span> <span class="code-function">Counter</span> = () => {
  <span class="code-keyword">const</span> [count, setCount] = <span class="code-function">useState</span>(<span class="code-number">0</span>);

  <span class="code-function">useEffect</span>(() => {
    <span class="code-comment">// å‰¯ä½œç”¨é€»è¾‘ï¼Œæ¯”ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ›´ç›´è§‚</span>
    <span class="code-function">document.title</span> = <span class="code-string">`è®¡æ•°: ${count}`</span>;
  }, [count]);

  <span class="code-keyword">return</span> (
    &lt;<span class="code-function">div</span>&gt;
      &lt;<span class="code-function">span</span>&gt;{count}&lt;/<span class="code-function">span</span>&gt;
      &lt;<span class="code-function">button</span> <span class="code-string">onClick</span>={() => <span class="code-function">setCount</span>(count + <span class="code-number">1</span>)}&gt;+&lt;/<span class="code-function">button</span>&gt;
    &lt;/<span class="code-function">div</span>&gt;
  );
};
</div>
                                        </div>

                                        <div class="technique-highlight rounded-lg p-4">
                                            <h6 class="font-semibold text-green-300 mb-2">é«˜çº§ Hooks æ¨¡å¼</h6>
                                            <div class="code-block text-sm">
<span class="code-comment">// è‡ªå®šä¹‰Hookï¼šå¤ç”¨çŠ¶æ€é€»è¾‘</span>
<span class="code-keyword">function</span> <span class="code-function">useCounter</span>(initialValue = <span class="code-number">0</span>) {
  <span class="code-keyword">const</span> [count, setCount] = <span class="code-function">useState</span>(initialValue);

  <span class="code-keyword">const</span> <span class="code-function">increment</span> = <span class="code-function">useCallback</span>(() => {
    <span class="code-function">setCount</span>(c => c + <span class="code-number">1</span>);
  }, []);

  <span class="code-keyword">const</span> <span class="code-function">decrement</span> = <span class="code-function">useCallback</span>(() => {
    <span class="code-function">setCount</span>(c => c - <span class="code-number">1</span>);
  }, []);

  <span class="code-keyword">const</span> <span class="code-function">reset</span> = <span class="code-function">useCallback</span>(() => {
    <span class="code-function">setCount</span>(initialValue);
  }, [initialValue]);

  <span class="code-keyword">return</span> { count, increment, decrement, reset };
}

<span class="code-comment">// useReducerï¼šå¤æ‚çŠ¶æ€ç®¡ç†</span>
<span class="code-keyword">function</span> <span class="code-function">todoReducer</span>(state, action) {
  <span class="code-keyword">switch</span> (action.<span class="code-string">type</span>) {
    <span class="code-keyword">case</span> <span class="code-string">'ADD_TODO'</span>:
      <span class="code-keyword">return</span> [
        ...state,
        {
          <span class="code-string">id</span>: Date.<span class="code-function">now</span>(),
          <span class="code-string">text</span>: action.<span class="code-string">payload</span>,
          <span class="code-string">completed</span>: <span class="code-keyword">false</span>
        }
      ];
    <span class="code-keyword">case</span> <span class="code-string">'TOGGLE_TODO'</span>:
      <span class="code-keyword">return</span> state.<span class="code-function">map</span>(todo =>
        todo.<span class="code-string">id</span> === action.<span class="code-string">payload</span>
          ? { ...todo, <span class="code-string">completed</span>: !todo.<span class="code-string">completed</span> }
          : todo
      );
    <span class="code-keyword">case</span> <span class="code-string">'DELETE_TODO'</span>:
      <span class="code-keyword">return</span> state.<span class="code-function">filter</span>(todo => todo.<span class="code-string">id</span> !== action.<span class="code-string">payload</span>);
    <span class="code-keyword">default</span>:
      <span class="code-keyword">return</span> state;
  }
}

<span class="code-keyword">const</span> <span class="code-function">TodoApp</span> = () => {
  <span class="code-keyword">const</span> [todos, dispatch] = <span class="code-function">useReducer</span>(todoReducer, []);

  <span class="code-keyword">const</span> <span class="code-function">addTodo</span> = (text) => {
    <span class="code-function">dispatch</span>({ <span class="code-string">type</span>: <span class="code-string">'ADD_TODO'</span>, <span class="code-string">payload</span>: text });
  };

  <span class="code-keyword">return</span> <span class="code-comment">/* JSX */</span>;
};
</div>
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <h5 class="text-lg font-semibold mb-4 text-yellow-400">Vueå“åº”å¼ç³»ç»Ÿæ·±åº¦è§£æ</h5>
                                    
                                    <div class="space-y-6">
                                        <div class="technique-highlight rounded-lg p-4">
                                            <h6 class="font-semibold text-purple-300 mb-2">å“åº”å¼åŸç†ï¼šä»£ç†æ¨¡å¼çš„å·§å¦™è¿ç”¨</h6>
                                            <div class="code-block text-sm">
<span class="code-comment">// Vue 3 å“åº”å¼ç³»ç»Ÿç®€åŒ–å®ç°</span>
<span class="code-keyword">let</span> currentEffect = <span class="code-keyword">null</span>;
<span class="code-keyword">const</span> targetMap = <span class="code-keyword">new</span> <span class="code-function">WeakMap</span>();

<span class="code-keyword">function</span> <span class="code-function">reactive</span>(target) {
  <span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-function">Proxy</span>(target, {
    <span class="code-function">get</span>(target, key, receiver) {
      <span class="code-comment">// ä¾èµ–æ”¶é›†</span>
      <span class="code-function">track</span>(target, key);
      <span class="code-keyword">return</span> Reflect.<span class="code-function">get</span>(target, key, receiver);
    },
    
    <span class="code-function">set</span>(target, key, value, receiver) {
      <span class="code-keyword">const</span> result = Reflect.<span class="code-function">set</span>(target, key, value, receiver);
      <span class="code-comment">// è§¦å‘æ›´æ–°</span>
      <span class="code-function">trigger</span>(target, key);
      <span class="code-keyword">return</span> result;
    }
  });
}

<span class="code-keyword">function</span> <span class="code-function">track</span>(target, key) {
  <span class="code-keyword">if</span> (!currentEffect) <span class="code-keyword">return</span>;
  
  <span class="code-keyword">let</span> depsMap = targetMap.<span class="code-function">get</span>(target);
  <span class="code-keyword">if</span> (!depsMap) {
    targetMap.<span class="code-function">set</span>(target, depsMap = <span class="code-keyword">new</span> <span class="code-function">Map</span>());
  }
  
  <span class="code-keyword">let</span> deps = depsMap.<span class="code-function">get</span>(key);
  <span class="code-keyword">if</span> (!deps) {
    depsMap.<span class="code-function">set</span>(key, deps = <span class="code-keyword">new</span> <span class="code-function">Set</span>());
  }
  
  deps.<span class="code-function">add</span>(currentEffect);
}

<span class="code-keyword">function</span> <span class="code-function">trigger</span>(target, key) {
  <span class="code-keyword">const</span> depsMap = targetMap.<span class="code-function">get</span>(target);
  <span class="code-keyword">if</span> (!depsMap) <span class="code-keyword">return</span>;
  
  <span class="code-keyword">const</span> deps = depsMap.<span class="code-function">get</span>(key);
  <span class="code-keyword">if</span> (deps) {
    deps.<span class="code-function">forEach</span>(effect => <span class="code-function">effect</span>());
  }
}

<span class="code-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="code-keyword">const</span> state = <span class="code-function">reactive</span>({
  <span class="code-string">name</span>: <span class="code-string">'æœ¬å°å§'</span>,
  <span class="code-string">count</span>: <span class="code-number">0</span>
});

<span class="code-comment">// è‡ªåŠ¨å“åº”çŠ¶æ€å˜åŒ–</span>
<span class="code-function">effect</span>(() => {
  <span class="code-function">console.log</span>(<span class="code-string">`${state.name}çš„è®¡æ•°: ${state.count}`</span>);
});

state.<span class="code-string">count</span>++; <span class="code-comment">// è‡ªåŠ¨æ‰“å°æ–°å€¼</span>
</div>
                                        </div>

                                        <div class="technique-highlight rounded-lg p-4">
                                            <h6 class="font-semibold text-green-300 mb-2">Composition API æœ€ä½³å®è·µ</h6>
                                            <div class="code-block text-sm">
<span class="code-comment">// é«˜çº§ç»„åˆå¼å‡½æ•°</span>
<span class="code-keyword">import</span> { ref, computed, watch, onUnmounted } <span class="code-keyword">from</span> <span class="code-string">'vue'</span>;

<span class="code-comment">// å¯å¤ç”¨çš„å¼‚æ­¥æ•°æ®è·å–é€»è¾‘</span>
<span class="code-keyword">function</span> <span class="code-function">useAsyncData</span>(url, options = {}) {
  <span class="code-keyword">const</span> data = <span class="code-function">ref</span>(<span class="code-keyword">null</span>);
  <span class="code-keyword">const</span> error = <span class="code-function">ref</span>(<span class="code-keyword">null</span>);
  <span class="code-keyword">const</span> loading = <span class="code-function">ref</span>(<span class="code-keyword">false</span>);

  <span class="code-keyword">const</span> <span class="code-function">fetchData</span> = <span class="code-keyword">async</span> () => {
    loading.<span class="code-string">value</span> = <span class="code-keyword">true</span>;
    error.<span class="code-string">value</span> = <span class="code-keyword">null</span>;
    
    <span class="code-keyword">try</span> {
      <span class="code-keyword">const</span> response = <span class="code-keyword">await</span> <span class="code-function">fetch</span>(url, options);
      <span class="code-keyword">const</span> result = <span class="code-keyword">await</span> response.<span class="code-function">json</span>();
      data.<span class="code-string">value</span> = result;
    } <span class="code-keyword">catch</span> (err) {
      error.<span class="code-string">value</span> = err;
    } <span class="code-keyword">finally</span> {
      loading.<span class="code-string">value</span> = <span class="code-keyword">false</span>;
    }
  };

  <span class="code-function">fetchData</span>(); <span class="code-comment">// åˆå§‹åŠ è½½</span>

  <span class="code-keyword">return</span> { data, error, loading, refetch: fetchData };
}

<span class="code-comment">// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</span>
&lt;<span class="code-keyword">script</span> <span class="code-string">setup</span>&gt;
<span class="code-keyword">const</span> { data: userList, loading, error, refetch } = 
  <span class="code-function">useAsyncData</span>(<span class="code-string">'/api/users'</span>);

<span class="code-comment">// è®¡ç®—å±æ€§ï¼šæ´»è·ƒç”¨æˆ·</span>
<span class="code-keyword">const</span> activeUsers = <span class="code-function">computed</span>(() => 
  userList.<span class="code-string">value</span>?.<span class="code-function">filter</span>(user => user.<span class="code-string">active</span>) || []
);

<span class="code-comment">// ç›‘å¬å™¨ï¼šç”¨æˆ·æ•°é‡å˜åŒ–æ—¶çš„å¤„ç†</span>
<span class="code-function">watch</span>(() => activeUsers.<span class="code-string">value</span>.<span class="code-string">length</span>, (newCount, oldCount) => {
  <span class="code-keyword">if</span> (newCount > oldCount) {
    <span class="code-function">console.log</span>(<span class="code-string">'æ–°å¢äº†æ´»è·ƒç”¨æˆ·ï¼'</span>);
  }
});
&lt;/<span class="code-keyword">script</span>&gt;
</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="comparison-table mt-8">
                                <div class="comparison-header">React vs Vueï¼šçŠ¶æ€ç®¡ç†å¯¹æ¯”</div>
                                <div class="grid grid-cols-3">
                                    <div class="comparison-header text-sm">ç‰¹æ€§</div>
                                    <div class="comparison-header text-sm">React</div>
                                    <div class="comparison-header text-sm">Vue</div>
                                </div>
                                <div class="grid grid-cols-3 comparison-row">
                                    <div class="comparison-cell font-semibold">å“åº”å¼åŸç†</div>
                                    <div class="comparison-cell">å•å‘æ•°æ®æµ + ä¸å¯å˜æ•°æ®</div>
                                    <div class="comparison-cell">åŸºäº Proxy çš„å“åº”å¼ç³»ç»Ÿ</div>
                                </div>
                                <div class="grid grid-cols-3 comparison-row">
                                    <div class="comparison-cell font-semibold">çŠ¶æ€ç®¡ç†</div>
                                    <div class="comparison-cell">useState, useReducer, Context API</div>
                                    <div class="comparison-cell">ref, reactive, computed, watch</div>
                                </div>
                                <div class="grid grid-cols-3 comparison-row">
                                    <div class="comparison-cell font-semibold">æ€§èƒ½ä¼˜åŒ–</div>
                                    <div class="comparison-cell">useMemo, useCallback, React.memo</div>
                                    <div class="comparison-cell">è‡ªåŠ¨ä¾èµ–æ”¶é›†ï¼Œç²¾ç¡®æ›´æ–°</div>
                                </div>
                                <div class="grid grid-cols-3 comparison-row">
                                    <div class="comparison-cell font-semibold">å­¦ä¹ æ›²çº¿</div>
                                    <div class="comparison-cell">éœ€è¦ç†è§£ä¸å¯å˜æ•°æ®æ¦‚å¿µ</div>
                                    <div class="comparison-cell">æ›´æ¥è¿‘ä¼ ç»Ÿçš„é¢å‘å¯¹è±¡æ€ç»´</div>
                                </div>
                            </div>
                        </div>

                        <!-- 2.1.3 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ -->
                        <div class="knowledge-card rounded-lg p-8 mb-8">
                            <h4 class="text-2xl font-bold mb-6 text-orange-300">2.1.3 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼šè®©ä½ çš„åº”ç”¨"é£èµ·æ¥"</h4>

                            <p class="text-gray-300 mb-6 leading-relaxed">
                                æ€§èƒ½ä¼˜åŒ–è¿™ç§äº‹æƒ…ï¼Œå¯æ˜¯è€ƒéªŒå¼€å‘è€…çœŸæ­£å®åŠ›çš„æ—¶å€™ï¼æœ¬å°å§è§è¿‡å¤ªå¤šåº”ç”¨å› ä¸ºæ€§èƒ½é—®é¢˜è¢«ç”¨æˆ·åæ§½äº†ã€‚æƒ³è®©ç”¨æˆ·å¯¹ä½ çš„åº”ç”¨èµä¸ç»å£ï¼Ÿæ¥å­¦å­¦è¿™äº›ä¼˜åŒ–ç»æ‹›å§ï¼
                            </p>

                            <div class="feature-grid">
                                <div class="feature-card">
                                    <h5 class="text-lg font-semibold mb-4 text-yellow-400">ä»£ç åˆ†å‰²ä¸æ‡’åŠ è½½</h5>
                                    <p class="text-gray-300 mb-4 text-sm leading-relaxed">
                                        é¦–å±åŠ è½½æ…¢ï¼Ÿç”¨æˆ·ç­‰å¾—ä¸è€çƒ¦ï¼Ÿä»£ç åˆ†å‰²å°±æ˜¯ä½ çš„æ•‘æ˜Ÿï¼æŠŠå¤§å—çš„ä»£ç æ‹†åˆ†æˆå°å—ï¼ŒæŒ‰éœ€åŠ è½½ï¼Œè®©é¦–å±"å’»"çš„ä¸€ä¸‹å°±å‡ºæ¥ï¼
                                    </p>
                                    <div class="code-block text-xs">
<span class="code-comment">// React ä»£ç åˆ†å‰²</span>
<span class="code-keyword">import</span> React, { <span class="code-function">Suspense</span>, <span class="code-function">lazy</span> } <span class="code-keyword">from</span> <span class="code-string">'react'</span>;

<span class="code-comment">// æ‡’åŠ è½½ç»„ä»¶</span>
<span class="code-keyword">const</span> Dashboard = <span class="code-function">lazy</span>(() => 
  <span class="code-keyword">import</span>(<span class="code-string">'./Dashboard'</span>)
);

<span class="code-keyword">const</span> Settings = <span class="code-function">lazy</span>(() => 
  <span class="code-keyword">import</span>(<span class="code-string">'./Settings'</span>)
    .<span class="code-function">then</span>(module => ({ 
      <span class="code-string">default</span>: module.<span class="code-string">SettingsPage</span> 
    }))
);

<span class="code-keyword">function</span> <span class="code-function">App</span>() {
  <span class="code-keyword">return</span> (
    &lt;<span class="code-function">Router</span>&gt;
      &lt;<span class="code-function">Suspense</span> 
        <span class="code-string">fallback</span>={&lt;<span class="code-function">LoadingSpinner</span> /&gt;}
      &gt;
        &lt;<span class="code-function">Routes</span>&gt;
          &lt;<span class="code-function">Route</span> 
            <span class="code-string">path</span>=<span class="code-string">"/dashboard"</span> 
            <span class="code-string">element</span>={&lt;<span class="code-function">Dashboard</span> /&gt;} 
          /&gt;
          &lt;<span class="code-function">Route</span> 
            <span class="code-string">path</span>=<span class="code-string">"/settings"</span> 
            <span class="code-string">element</span>={&lt;<span class="code-function">Settings</span> /&gt;} 
          /&gt;
        &lt;/<span class="code-function">Routes</span>&gt;
      &lt;/<span class="code-function">Suspense</span>&gt;
    &lt;/<span class="code-function">Router</span>&gt;
  );
}
</div>
                                    <div class="tip-box rounded-lg p-3 mt-4 text-xs">
                                        <strong>æœ¬å°å§çš„è´´å¿ƒæç¤ºï¼š</strong> æ‡’åŠ è½½çš„ç²’åº¦è¦åˆé€‚ï¼Œå¤ªç»†ä¼šå¢åŠ è¯·æ±‚æ•°é‡ï¼Œå¤ªç²—è¾¾ä¸åˆ°ä¼˜åŒ–æ•ˆæœã€‚ä¸€èˆ¬å»ºè®®æŒ‰è·¯ç”±æˆ–è€…å¤§åŠŸèƒ½æ¨¡å—æ¥åˆ†å‰²ã€‚
                                    </div>
                                </div>

                                <div class="feature-card">
                                    <h5 class="text-lg font-semibold mb-4 text-green-400">è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–</h5>
                                    <p class="text-gray-300 mb-4 text-sm leading-relaxed">
                                        è¦æ¸²æŸ“å‡ ä¸‡æ¡æ•°æ®ï¼Ÿåˆ«å‚»ä¹ä¹åœ°å…¨éƒ¨æ¸²æŸ“ï¼è™šæ‹Ÿæ»šåŠ¨åªæ¸²æŸ“å¯è§†åŒºåŸŸçš„å†…å®¹ï¼Œå…¶ä»–çš„éƒ½ç”¨"ç©ºæ°”"ä»£æ›¿ï¼Œæ€§èƒ½æå‡å‡ åå€ï¼
                                    </p>
                                    <div class="code-block text-xs">
<span class="code-comment">// è™šæ‹Ÿæ»šåŠ¨å®ç°</span>
<span class="code-keyword">import</span> { useState, useEffect, useMemo } <span class="code-keyword">from</span> <span class="code-string">'react'</span>;

<span class="code-keyword">function</span> <span class="code-function">VirtualList</span>({ 
  items, 
  itemHeight = 50, 
  containerHeight = 400 
}) {
  <span class="code-keyword">const</span> [scrollTop, setScrollTop] = <span class="code-function">useState</span>(<span class="code-number">0</span>);
  
  <span class="code-comment">// è®¡ç®—å¯è§†åŒºåŸŸ</span>
  <span class="code-keyword">const</span> visibleRange = <span class="code-function">useMemo</span>(() => {
    <span class="code-keyword">const</span> visibleCount = Math.<span class="code-function">ceil</span>(
      containerHeight / itemHeight
    );
    <span class="code-keyword">const</span> start = Math.<span class="code-function">floor</span>(scrollTop / itemHeight);
    <span class="code-keyword">const</span> end = Math.<span class="code-function">min</span>(
      start + visibleCount + <span class="code-number">1</span>, 
      items.<span class="code-string">length</span>
    );
    
    <span class="code-keyword">return</span> { start, end };
  }, [scrollTop, containerHeight, itemHeight, items.<span class="code-string">length</span>]);

  <span class="code-comment">// åªæ¸²æŸ“å¯è§†åŒºåŸŸçš„item</span>
  <span class="code-keyword">const</span> visibleItems = <span class="code-function">useMemo</span>(() => {
    <span class="code-keyword">return</span> items
      .<span class="code-function">slice</span>(visibleRange.<span class="code-string">start</span>, visibleRange.<span class="code-string">end</span>)
      .<span class="code-function">map</span>((item, index) => ({
        ...item,
        <span class="code-string">index</span>: visibleRange.<span class="code-string">start</span> + index
      }));
  }, [items, visibleRange]);

  <span class="code-keyword">return</span> (
    &lt;<span class="code-function">div</span>
      <span class="code-string">style</span>={{ 
        <span class="code-string">height</span>: containerHeight, 
        <span class="code-string">overflow</span>: <span class="code-string">'auto'</span> 
      }}
      <span class="code-string">onScroll</span>={(e) => 
        <span class="code-function">setScrollTop</span>(e.<span class="code-string">target</span>.<span class="code-string">scrollTop</span>)
      }
    &gt;
      &lt;<span class="code-function">div</span>
        <span class="code-string">style</span>={{ 
          <span class="code-string">height</span>: items.<span class="code-string">length</span> * itemHeight 
        }}
      &gt;
        &lt;<span class="code-function">div</span>
          <span class="code-string">style</span>={{
            <span class="code-string">transform</span>: <span class="code-string">`translateY(${
              visibleRange.start * itemHeight
            }px)`</span>
          }}
        &gt;
          {visibleItems.<span class="code-function">map</span>(item => (
            &lt;<span class="code-function">div</span>
              <span class="code-string">key</span>={item.<span class="code-string">id</span>}
              <span class="code-string">style</span>={{ <span class="code-string">height</span>: itemHeight }}
            &gt;
              {item.<span class="code-string">content</span>}
            &lt;/<span class="code-function">div</span>&gt;
          ))}
        &lt;/<span class="code-function">div</span>&gt;
      &lt;/<span class="code-function">div</span>&gt;
    &lt;/<span class="code-function">div</span>&gt;
  );
}
</div>
                                </div>

                                <div class="feature-card">
                                    <h5 class="text-lg font-semibold mb-4 text-purple-400">Reactæ€§èƒ½ä¼˜åŒ–é’©å­</h5>
                                    <p class="text-gray-300 mb-4 text-sm leading-relaxed">
                                        useMemoã€useCallbackã€memoè¿™äº›å®¶ä¼™å¯éƒ½æ˜¯æ€§èƒ½ä¼˜åŒ–çš„å¥½å¸®æ‰‹ï¼ç”¨å¥½äº†è®©ä½ çš„ç»„ä»¶é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“ã€‚
                                    </p>
                                    <div class="code-block text-xs">
<span class="code-comment">// Reactæ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ</span>
<span class="code-keyword">import</span> React, { 
  <span class="code-function">memo</span>, 
  <span class="code-function">useMemo</span>, 
  <span class="code-function">useCallback</span>,
  <span class="code-function">useState</span>
} <span class="code-keyword">from</span> <span class="code-string">'react'</span>;

<span class="code-comment">// å­ç»„ä»¶ä¼˜åŒ–ï¼šmemoé˜²æ­¢ä¸å¿…è¦çš„é‡æ¸²æŸ“</span>
<span class="code-keyword">const</span> ExpensiveChild = <span class="code-function">memo</span>(({ 
  data, 
  onItemClick 
}) => {
  <span class="code-function">console.log</span>(<span class="code-string">'ExpensiveChild æ¸²æŸ“äº†'</span>);
  
  <span class="code-keyword">return</span> (
    &lt;<span class="code-function">div</span>&gt;
      {data.<span class="code-function">map</span>(item => (
        &lt;<span class="code-function">button</span>
          <span class="code-string">key</span>={item.<span class="code-string">id</span>}
          <span class="code-string">onClick</span>={() => <span class="code-function">onItemClick</span>(item)}
        &gt;
          {item.<span class="code-string">name</span>}
        &lt;/<span class="code-function">button</span>&gt;
      ))}
    &lt;/<span class="code-function">div</span>&gt;
  );
});

<span class="code-keyword">function</span> <span class="code-function">ParentComponent</span>() {
  <span class="code-keyword">const</span> [count, setCount] = <span class="code-function">useState</span>(<span class="code-number">0</span>);
  <span class="code-keyword">const</span> [items] = <span class="code-function">useState</span>([
    { <span class="code-string">id</span>: <span class="code-number">1</span>, <span class="code-string">name</span>: <span class="code-string">'Item 1'</span>, <span class="code-string">value</span>: <span class="code-number">100</span> },
    { <span class="code-string">id</span>: <span class="code-number">2</span>, <span class="code-string">name</span>: <span class="code-string">'Item 2'</span>, <span class="code-string">value</span>: <span class="code-number">200</span> },
  ]);

  <span class="code-comment">// useMemoï¼šç¼“å­˜æ˜‚è´µçš„è®¡ç®—ç»“æœ</span>
  <span class="code-keyword">const</span> expensiveValue = <span class="code-function">useMemo</span>(() => {
    <span class="code-function">console.log</span>(<span class="code-string">'æ‰§è¡Œæ˜‚è´µçš„è®¡ç®—...'</span>);
    <span class="code-keyword">return</span> items.<span class="code-function">reduce</span>((sum, item) => sum + item.<span class="code-string">value</span>, <span class="code-number">0</span>);
  }, [items]); <span class="code-comment">// åªåœ¨itemså˜åŒ–æ—¶é‡æ–°è®¡ç®—</span>

  <span class="code-comment">// useCallbackï¼šç¼“å­˜å‡½æ•°å¼•ç”¨</span>
  <span class="code-keyword">const</span> handleItemClick = <span class="code-function">useCallback</span>((item) => {
    <span class="code-function">console.log</span>(<span class="code-string">`ç‚¹å‡»äº†: ${item.name}`</span>);
  }, []); <span class="code-comment">// ä¾èµ–ä¸ºç©ºï¼Œå‡½æ•°å¼•ç”¨æ°¸ä¸å˜åŒ–</span>

  <span class="code-keyword">return</span> (
    &lt;<span class="code-function">div</span>&gt;
      &lt;<span class="code-function">h1</span>&gt;è®¡æ•°: {count}&lt;/<span class="code-function">h1</span>&gt;
      &lt;<span class="code-function">h2</span>&gt;æ€»ä»·å€¼: {expensiveValue}&lt;/<span class="code-function">h2</span>&gt;
      &lt;<span class="code-function">button</span> 
        <span class="code-string">onClick</span>={() => <span class="code-function">setCount</span>(c => c + <span class="code-number">1</span>)}
      &gt;
        å¢åŠ è®¡æ•°ï¼ˆè¿™ä¸ä¼šé‡æ–°æ¸²æŸ“å­ç»„ä»¶ï¼‰
      &lt;/<span class="code-function">button</span>&gt;
      
      &lt;<span class="code-function">ExpensiveChild</span>
        <span class="code-string">data</span>={items}
        <span class="code-string">onItemClick</span>={handleItemClick}
      /&gt;
    &lt;/<span class="code-function">div</span>&gt;
  );
}
</div>
                                </div>
                            </div>

                            <div class="warning-box rounded-lg p-4 mt-6">
                                <h6 class="font-semibold text-yellow-300 mb-2">æ€§èƒ½ä¼˜åŒ–çš„"å‘"</h6>
                                <ul class="text-sm space-y-1">
                                    <li>â€¢ <strong>è¿‡åº¦ä¼˜åŒ–ï¼š</strong> ä¸æ˜¯æ‰€æœ‰ç»„ä»¶éƒ½éœ€è¦ memoï¼Œç®€å•ç»„ä»¶åè€Œå¢åŠ å¼€é”€</li>
                                    <li>â€¢ <strong>é”™è¯¯çš„ä¾èµ–ï¼š</strong> useMemo/useCallback çš„ä¾èµ–æ•°ç»„è¦å‡†ç¡®</li>
                                    <li>â€¢ <strong>å¼•ç”¨é™·é˜±ï¼š</strong> å¯¹è±¡å’Œæ•°ç»„è¦æ³¨æ„å¼•ç”¨ç›¸ç­‰æ€§</li>
                                    <li>â€¢ <strong>æµ‹é‡ä¸ºå…ˆï¼š</strong> å…ˆç”¨ Profiler æµ‹é‡ï¼Œå†é’ˆå¯¹æ€§ä¼˜åŒ–</li>
                                </ul>
                            </div>

                            <div class="technique-highlight rounded-lg p-4 mt-6">
                                <h6 class="font-semibold text-purple-300 mb-2 text-center">æœ¬å°å§çš„æ€§èƒ½ä¼˜åŒ–å¿ƒå¾—</h6>
                                <p class="text-center text-sm text-gray-300 italic">
                                    "æ€§èƒ½ä¼˜åŒ–å°±åƒç»ƒæ­¦åŠŸï¼Œè¦å…ˆæŠŠåŸºæœ¬åŠŸç»ƒæ‰å®ï¼Œå†è¿½æ±‚é«˜æ·±çš„æŠ€å·§ã€‚è®°ä½ï¼Œ<strong>ç”¨æˆ·ä½“éªŒç¬¬ä¸€ï¼Œè¿‡åº¦ä¼˜åŒ–æœ‰å®³</strong>ï¼èƒ½æ»¡è¶³ç”¨æˆ·éœ€æ±‚çš„å°±æ˜¯æœ€å¥½çš„ä¼˜åŒ–ã€‚"
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- TypeScript -->
                    <div class="mb-16">
                        <h3 class="text-3xl font-bold mb-8 text-blue-400">2.2 TypeScript ç±»å‹ä½“æ“ï¼šä¸ºä»€ä¹ˆ JavaScript é‚£å®¶ä¼™éœ€è¦"ä¸¥æ ¼ç®¡æ•™"ï¼</h3>

                        <div class="bg-gradient-to-r from-blue-900 to-indigo-900 rounded-lg p-6 mb-8">
                            <p class="text-lg italic text-center">
                                "JavaScript é‚£æ•£æ¼«çš„å®¶ä¼™ï¼Œæ€»æ˜¯ç»™æˆ‘æƒ¹éº»çƒ¦ï¼è¿˜å¥½æœ‰ TypeScript è¿™ä¸ª'ç®¡å®¶'ï¼Œè®©ä»£ç å¬è¯å¤šäº†ï¼"
                            </p>
                        </div>

                        <!-- 2.2.1 ç±»å‹ç³»ç»ŸåŸºç¡€ä¸è¿›é˜¶ -->
                        <div class="knowledge-card rounded-lg p-8 mb-8">
                            <h4 class="text-2xl font-bold mb-6 text-blue-300">2.2.1 ç±»å‹ç³»ç»ŸåŸºç¡€ä¸è¿›é˜¶ï¼šç»™ä½ çš„ä»£ç åŠ ä¸Š"å®‰å…¨å¸¦"</h4>

                            <p class="text-gray-300 mb-6 leading-relaxed">
                                æœ¬å°å§æœ€çœ‹ä¸æƒ¯é‚£äº›è¿è¡Œæ—¶æ‰æŠ¥é”™çš„ä»£ç äº†ï¼TypeScript å°±æ˜¯æ¥æ‹¯æ•‘è¿™ç§æ··ä¹±å±€é¢çš„ã€‚å®ƒä¸åªæ˜¯ç»™ JavaScript åŠ äº†ç±»å‹æ³¨è§£é‚£ä¹ˆç®€å•ï¼Œè€Œæ˜¯æä¾›äº†ä¸€å¥—å®Œæ•´çš„ç±»å‹ç³»ç»Ÿã€‚
                            </p>

                            <div class="grid lg:grid-cols-2 gap-8">
                                <div>
                                    <h5 class="text-lg font-semibold mb-4 text-yellow-400">åŸºç¡€ç±»å‹è¿›é˜¶è¿ç”¨</h5>
                                    <div class="code-block mb-4">
<span class="code-comment">// åŸºç¡€ç±»å‹çš„"éšè—æŠ€èƒ½"</span>
<span class="code-keyword">type</span> UserId = <span class="code-keyword">string</span>; <span class="code-comment">// ç±»å‹åˆ«åï¼Œå¢å¼ºè¯­ä¹‰</span>
<span class="code-keyword">type</span> Score = <span class="code-keyword">number</span>;

<span class="code-keyword">interface</span> <span class="code-function">User</span> {
  <span class="code-string">readonly</span> id: UserId;        <span class="code-comment">// åªè¯»å±æ€§</span>
  <span class="code-string">name</span>: <span class="code-keyword">string</span>;
  <span class="code-string">email</span>?: <span class="code-keyword">string</span>;              <span class="code-comment">// å¯é€‰å±æ€§</span>
  <span class="code-string">scores</span>: Score[];
  [key: <span class="code-keyword">string</span>]: <span class="code-keyword">unknown</span>;      <span class="code-comment">// ç´¢å¼•ç­¾åï¼šå…è®¸ä»»æ„å±æ€§</span>
}

<span class="code-comment">// è”åˆç±»å‹ï¼šå¤šé€‰ä¸€</span>
<span class="code-keyword">type</span> Theme = <span class="code-string">'light'</span> | <span class="code-string">'dark'</span> | <span class="code-string">'auto'</span>;
<span class="code-keyword">type</span> Status = <span class="code-string">'idle'</span> | <span class="code-string">'loading'</span> | <span class="code-string">'success'</span> | <span class="code-string">'error'</span>;

<span class="code-comment">// äº¤å‰ç±»å‹ï¼šå¤šä¸ªç±»å‹çš„åˆå¹¶</span>
<span class="code-keyword">type</span> Timestamp = {
  <span class="code-string">createdAt</span>: <span class="code-keyword">Date</span>;
  <span class="code-string">updatedAt</span>: <span class="code-keyword">Date</span>;
};

<span class="code-keyword">type</span> UserWithTimestamp = User & Timestamp;

<span class="code-comment">// å­—é¢é‡ç±»å‹ï¼šç²¾ç¡®æ§åˆ¶å€¼</span>
<span class="code-keyword">type</span> HttpMethod = <span class="code-string">'GET'</span> | <span class="code-string">'POST'</span> | <span class="code-string">'PUT'</span> | <span class="code-string">'DELETE'</span>;

<span class="code-keyword">function</span> <span class="code-function">makeRequest</span>(
  url: <span class="code-keyword">string</span>,
  method: HttpMethod,
  config?: {
    <span class="code-string">timeout</span>?: <span class="code-keyword">number</span>;
    <span class="code-string">retries</span>?: <span class="code-keyword">number</span>;
  }
) {
  <span class="code-comment">// å®ç°è¯·æ±‚é€»è¾‘</span>
}
</div>
                                    
                                    <div class="tip-box rounded-lg p-4">
                                        <h6 class="font-semibold text-green-300 mb-2">ç±»å‹è®¾è®¡åŸåˆ™</h6>
                                        <ul class="text-sm space-y-1">
                                            <li>â€¢ <strong>ç²¾ç¡®è¡¨è¾¾æ„å›¾ï¼š</strong> ç”¨ç±»å‹çº¦æŸå¯èƒ½çš„å€¼</li>
                                            <li>â€¢ <strong>ä¼˜å…ˆç»„åˆï¼š</strong> é€šè¿‡äº¤å‰å’Œè”åˆç±»å‹ç»„åˆ</li>
                                            <li>â€¢ <strong>é¿å… anyï¼š</strong> å®å¯ç”¨ unknown</li>
                                            <li>â€¢ <strong>å–„ç”¨åˆ«åï¼š</strong> æé«˜ä»£ç å¯è¯»æ€§</li>
                                        </ul>
                                    </div>
                                </div>

                                <div>
                                    <h5 class="text-lg font-semibold mb-4 text-yellow-400">æ³›å‹ï¼šç±»å‹çš„"å˜é‡"</h5>
                                    <div class="code-block mb-4">
<span class="code-comment">// æ³›å‹ï¼šè®©ç±»å‹ä¹Ÿèƒ½"å‚æ•°åŒ–"</span>
<span class="code-keyword">interface</span> <span class="code-function">ApiResponse</span>&lt;T&gt; {
  <span class="code-string">data</span>: T;
  <span class="code-string">message</span>: <span class="code-keyword">string</span>;
  <span class="code-string">success</span>: <span class="code-keyword">boolean</span>;
  <span class="code-string">timestamp</span>: <span class="code-keyword">number</span>;
}

<span class="code-comment">// æ³›å‹çº¦æŸï¼šé™åˆ¶æ³›å‹çš„èŒƒå›´</span>
<span class="code-keyword">interface</span> <span class="code-function">Identifiable</span> {
  <span class="code-string">id</span>: <span class="code-keyword">string</span> | <span class="code-keyword">number</span>;
}

<span class="code-keyword">function</span> <span class="code-function">updateEntity</span>&lt;T <span class="code-keyword">extends</span> <span class="code-function">Identifiable</span>&gt;(
  entity: T,
  updates: Partial&lt;T&gt;
): T {
  <span class="code-keyword">return</span> { ...entity, ...updates };
}

<span class="code-comment">// æ¡ä»¶ç±»å‹ï¼šæ ¹æ®æ¡ä»¶åˆ¤æ–­ç±»å‹</span>
<span class="code-keyword">type</span> NonNullable&lt;T&gt; = T <span class="code-keyword">extends</span> <span class="code-keyword">null</span> | <span class="code-keyword">undefined</span> 
  ? <span class="code-keyword">never</span> 
  : T;

<span class="code-comment">// æ˜ å°„ç±»å‹ï¼šæ‰¹é‡è½¬æ¢å±æ€§</span>
<span class="code-keyword">type</span> Readonly&lt;T&gt; = {
  <span class="code-keyword">readonly</span> [P <span class="code-keyword">in</span> <span class="code-keyword">keyof</span> T]: T[P];
};

<span class="code-keyword">type</span> Optional&lt;T&gt; = {
  [P <span class="code-keyword">in</span> <span class="code-keyword">keyof</span> T]?: T[P];
};

<span class="code-comment">// å®é™…åº”ç”¨ï¼šç±»å‹å®‰å…¨çš„äº‹ä»¶ç³»ç»Ÿ</span>
<span class="code-keyword">type</span> EventMap = {
  <span class="code-string">'user:login'</span>: { userId: <span class="code-keyword">string</span>; timestamp: <span class="code-keyword">number</span> };
  <span class="code-string">'user:logout'</span>: { userId: <span class="code-keyword">string</span> };
  <span class="code-string">'order:created'</span>: { orderId: <span class="code-keyword">string</span>; amount: <span class="code-keyword">number</span> };
};

<span class="code-keyword">class</span> <span class="code-function">EventEmitter</span>&lt;T = EventMap&gt; {
  <span class="code-function">emit</span>&lt;K <span class="code-keyword">extends</span> <span class="code-keyword">keyof</span> T&gt;(
    eventName: K,
    payload: T[K]
  ): <span class="code-keyword">void</span> {
    <span class="code-comment">// å‘å‡ºäº‹ä»¶</span>
  }

  <span class="code-function">on</span>&lt;K <span class="code-keyword">extends</span> <span class="code-keyword">keyof</span> T&gt;(
    eventName: K,
    handler: (payload: T[K]) => <span class="code-keyword">void</span>
  ): <span class="code-keyword">void</span> {
    <span class="code-comment">// ç›‘å¬äº‹ä»¶</span>
  }
}

<span class="code-comment">// ä½¿ç”¨æ—¶æœ‰å®Œæ•´çš„ç±»å‹æ¨å¯¼å’Œæ£€æŸ¥</span>
<span class="code-keyword">const</span> emitter = <span class="code-keyword">new</span> <span class="code-function">EventEmitter</span>();
emitter.<span class="code-function">emit</span>(<span class="code-string">'user:login'</span>, {
  userId: <span class="code-string">'123'</span>,
  timestamp: Date.<span class="code-function">now</span>()
});
</div>
                                </div>
                            </div>
                        </div>

                        <!-- 2.2.2 é«˜çº§ç±»å‹ä¸æ¨¡å¼ -->
                        <div class="knowledge-card rounded-lg p-8 mb-8">
                            <h4 class="text-2xl font-bold mb-6 text-purple-300">2.2.2 é«˜çº§ç±»å‹ä¸æ¨¡å¼ï¼šTypeScript çš„"é»‘é­”æ³•"</h4>

                            <p class="text-gray-300 mb-6 leading-relaxed">
                                ç°åœ¨å¼€å§‹å±•ç¤ºæœ¬å°å§çš„çœŸæ­£å®åŠ›äº†ï¼è¿™äº›é«˜çº§ç±»å‹æŠ€å·§ï¼Œå¯æ˜¯èƒ½è®©ä½ çš„ä»£ç ç±»å‹å®‰å…¨è¾¾åˆ°å‰æ‰€æœªæœ‰çš„é«˜åº¦ã€‚å‡†å¤‡å¥½è¢«éœ‡æ’¼äº†å—ï¼Ÿ
                            </p>

                            <div class="space-y-8">
                                <div class="technique-highlight rounded-lg p-6">
                                    <h5 class="text-lg font-semibold mb-4 text-purple-300">æ¨¡æ¿å­—é¢é‡ç±»å‹ï¼šå­—ç¬¦ä¸²çš„ç±»å‹ä½“æ“</h5>
                                    <div class="code-block">
<span class="code-comment">// æ¨¡æ¿å­—é¢é‡ç±»å‹ï¼šåŠ¨æ€æ„é€ å­—ç¬¦ä¸²ç±»å‹</span>
<span class="code-keyword">type</span> EventType = <span class="code-string">'click'</span> | <span class="code-string">'hover'</span> | <span class="code-string">'focus'</span>;
<span class="code-keyword">type</span> Element = <span class="code-string">'button'</span> | <span class="code-string">'input'</span> | <span class="code-string">'div'</span>;

<span class="code-comment">// è‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„ç»„åˆ</span>
<span class="code-keyword">type</span> EventHandler = <span class="code-string">`on${Capitalize&lt;EventType&gt;}${Capitalize&lt;Element&gt;}`</span>;
<span class="code-comment">// ç»“æœï¼š'onClickButton' | 'onClickInput' | 'onClickDiv' | ...</span>

<span class="code-comment">// å®é™…åº”ç”¨ï¼šç±»å‹å®‰å…¨çš„CSS-in-JS</span>
<span class="code-keyword">type</span> CSSProperty = <span class="code-string">'margin'</span> | <span class="code-string">'padding'</span> | <span class="code-string">'border'</span>;
<span class="code-keyword">type</span> Direction = <span class="code-string">'top'</span> | <span class="code-string">'right'</span> | <span class="code-string">'bottom'</span> | <span class="code-string">'left'</span>;

<span class="code-keyword">type</span> DirectionalProperty = <span class="code-string">`${CSSProperty}${Capitalize&lt;Direction&gt;}`</span>;
<span class="code-comment">// ç»“æœï¼š'marginTop' | 'marginRight' | ... | 'borderLeft'</span>

<span class="code-keyword">type</span> StyleObject = Partial&lt;{
  [P <span class="code-keyword">in</span> DirectionalProperty]: <span class="code-keyword">string</span> | <span class="code-keyword">number</span>;
}&gt;;

<span class="code-comment">// ä½¿ç”¨æ—¶æœ‰å®Œæ•´çš„è‡ªåŠ¨è¡¥å…¨å’Œç±»å‹æ£€æŸ¥</span>
<span class="code-keyword">const</span> styles: StyleObject = {
  marginTop: <span class="code-number">10</span>,
  paddingLeft: <span class="code-string">'20px'</span>,
  <span class="code-comment">// borderBottom: true, // ç±»å‹é”™è¯¯ï¼</span>
};

<span class="code-comment">// ä»å­—ç¬¦ä¸²ä¸­æå–ç±»å‹ä¿¡æ¯</span>
<span class="code-keyword">type</span> ExtractRouteParams&lt;T&gt; = 
  T <span class="code-keyword">extends</span> <span class="code-string">`${<span class="code-keyword">string</span>}:${<span class="code-keyword">infer</span> P}/${<span class="code-keyword">infer</span> Rest}`</span>
    ? { [K <span class="code-keyword">in</span> P]: <span class="code-keyword">string</span> } & ExtractRouteParams&lt;<span class="code-string">`/${Rest}`</span>&gt;
    : T <span class="code-keyword">extends</span> <span class="code-string">`${<span class="code-keyword">string</span>}:${<span class="code-keyword">infer</span> P}`</span>
    ? { [K <span class="code-keyword">in</span> P]: <span class="code-keyword">string</span> }
    : {};

<span class="code-keyword">type</span> UserRouteParams = ExtractRouteParams&lt;<span class="code-string">'/users/:userId/posts/:postId'</span>&gt;;
<span class="code-comment">// ç»“æœï¼š{ userId: string; postId: string }</span>
</div>
                                </div>

                                <div class="technique-highlight rounded-lg p-6">
                                    <h5 class="text-lg font-semibold mb-4 text-green-300">é€’å½’ç±»å‹ï¼šæ— é™çš„å¯èƒ½æ€§</h5>
                                    <div class="code-block">
<span class="code-comment">// é€’å½’ç±»å‹ï¼šå¤„ç†åµŒå¥—ç»“æ„</span>
<span class="code-keyword">type</span> DeepReadonly&lt;T&gt; = {
  <span class="code-keyword">readonly</span> [P <span class="code-keyword">in</span> <span class="code-keyword">keyof</span> T]: T[P] <span class="code-keyword">extends</span> <span class="code-keyword">object</span> 
    ? DeepReadonly&lt;T[P]&gt; 
    : T[P];
};

<span class="code-keyword">type</span> DeepPartial&lt;T&gt; = {
  [P <span class="code-keyword">in</span> <span class="code-keyword">keyof</span> T]?: T[P] <span class="code-keyword">extends</span> <span class="code-keyword">object</span> 
    ? DeepPartial&lt;T[P]&gt; 
    : T[P];
};

<span class="code-comment">// å®é™…åº”ç”¨ï¼šé…ç½®å¯¹è±¡çš„ç±»å‹å®šä¹‰</span>
<span class="code-keyword">interface</span> <span class="code-function">AppConfig</span> {
  <span class="code-string">database</span>: {
    <span class="code-string">host</span>: <span class="code-keyword">string</span>;
    <span class="code-string">port</span>: <span class="code-keyword">number</span>;
    <span class="code-string">credentials</span>: {
      <span class="code-string">username</span>: <span class="code-keyword">string</span>;
      <span class="code-string">password</span>: <span class="code-keyword">string</span>;
    };
  };
  <span class="code-string">api</span>: {
    <span class="code-string">baseUrl</span>: <span class="code-keyword">string</span>;
    <span class="code-string">timeout</span>: <span class="code-keyword">number</span>;
  };
}

<span class="code-comment">// å…è®¸éƒ¨åˆ†é…ç½®ï¼Œæ”¯æŒæ·±å±‚åµŒå¥—</span>
<span class="code-keyword">function</span> <span class="code-function">mergeConfig</span>(
  defaultConfig: AppConfig,
  userConfig: DeepPartial&lt;AppConfig&gt;
): AppConfig {
  <span class="code-comment">// æ·±åº¦åˆå¹¶é…ç½®</span>
  <span class="code-keyword">return</span> deepMerge(defaultConfig, userConfig);
}

<span class="code-comment">// JSONç±»å‹ï¼šé€’å½’è§£æJSONç»“æ„</span>
<span class="code-keyword">type</span> JSONValue = 
  | <span class="code-keyword">string</span> 
  | <span class="code-keyword">number</span> 
  | <span class="code-keyword">boolean</span> 
  | <span class="code-keyword">null</span>
  | JSONObject 
  | JSONArray;

<span class="code-keyword">interface</span> <span class="code-function">JSONObject</span> {
  [key: <span class="code-keyword">string</span>]: JSONValue;
}

<span class="code-keyword">interface</span> <span class="code-function">JSONArray</span> <span class="code-keyword">extends</span> Array&lt;JSONValue&gt; {}

<span class="code-comment">// ç±»å‹å®‰å…¨çš„JSONè§£æ</span>
<span class="code-keyword">function</span> <span class="code-function">parseJSON</span>&lt;T <span class="code-keyword">extends</span> JSONValue&gt;(json: <span class="code-keyword">string</span>): T {
  <span class="code-keyword">return</span> JSON.<span class="code-function">parse</span>(json);
}
</div>
                                </div>

                                <div class="technique-highlight rounded-lg p-6">
                                    <h5 class="text-lg font-semibold mb-4 text-orange-300">ç±»å‹ä½“æ“å®æˆ˜ï¼šæ„å»ºç±»å‹å®‰å…¨çš„ ORM</h5>
                                    <div class="code-block">
<span class="code-comment">// é«˜çº§ç±»å‹ä½“æ“ï¼šç±»å‹å®‰å…¨çš„æ•°æ®åº“ORM</span>
<span class="code-keyword">type</span> DatabaseSchema = {
  <span class="code-string">users</span>: {
    <span class="code-string">id</span>: <span class="code-keyword">number</span>;
    <span class="code-string">name</span>: <span class="code-keyword">string</span>;
    <span class="code-string">email</span>: <span class="code-keyword">string</span>;
    <span class="code-string">createdAt</span>: <span class="code-keyword">Date</span>;
  };
  <span class="code-string">posts</span>: {
    <span class="code-string">id</span>: <span class="code-keyword">number</span>;
    <span class="code-string">title</span>: <span class="code-keyword">string</span>;
    <span class="code-string">content</span>: <span class="code-keyword">string</span>;
    <span class="code-string">authorId</span>: <span class="code-keyword">number</span>;
    <span class="code-string">publishedAt</span>: <span class="code-keyword">Date</span> | <span class="code-keyword">null</span>;
  };
};

<span class="code-comment">// æŸ¥è¯¢æ„å»ºå™¨ç±»å‹</span>
<span class="code-keyword">type</span> WhereClause&lt;T&gt; = {
  [P <span class="code-keyword">in</span> <span class="code-keyword">keyof</span> T]?: T[P] | {
    <span class="code-string">$eq</span>?: T[P];
    <span class="code-string">$ne</span>?: T[P];
    <span class="code-string">$in</span>?: T[P][];
    <span class="code-string">$gt</span>?: T[P] <span class="code-keyword">extends</span> <span class="code-keyword">number</span> | <span class="code-keyword">Date</span> ? T[P] : <span class="code-keyword">never</span>;
    <span class="code-string">$lt</span>?: T[P] <span class="code-keyword">extends</span> <span class="code-keyword">number</span> | <span class="code-keyword">Date</span> ? T[P] : <span class="code-keyword">never</span>;
  };
};

<span class="code-keyword">type</span> SelectClause&lt;T&gt; = {
  [P <span class="code-keyword">in</span> <span class="code-keyword">keyof</span> T]?: <span class="code-keyword">boolean</span>;
};

<span class="code-comment">// æ ¹æ®selectå­å¥æ¨å¯¼è¿”å›ç±»å‹</span>
<span class="code-keyword">type</span> SelectedFields&lt;T, S&gt; = {
  [P <span class="code-keyword">in</span> <span class="code-keyword">keyof</span> T <span class="code-keyword">as</span> S <span class="code-keyword">extends</span> { [K <span class="code-keyword">in</span> P]: <span class="code-keyword">true</span> } ? P : <span class="code-keyword">never</span>]: T[P];
};

<span class="code-keyword">class</span> <span class="code-function">QueryBuilder</span>&lt;
  Schema, 
  Table <span class="code-keyword">extends</span> <span class="code-keyword">keyof</span> Schema
&gt; {
  <span class="code-keyword">private</span> tableName: Table;
  <span class="code-keyword">private</span> whereClause?: WhereClause&lt;Schema[Table]&gt;;
  <span class="code-keyword">private</span> selectClause?: SelectClause&lt;Schema[Table]&gt;;

  <span class="code-function">constructor</span>(table: Table) {
    <span class="code-keyword">this</span>.<span class="code-string">tableName</span> = table;
  }

  <span class="code-function">where</span>(clause: WhereClause&lt;Schema[Table]&gt;) {
    <span class="code-keyword">this</span>.<span class="code-string">whereClause</span> = clause;
    <span class="code-keyword">return</span> <span class="code-keyword">this</span>;
  }

  <span class="code-function">select</span>&lt;S <span class="code-keyword">extends</span> SelectClause&lt;Schema[Table]&gt;&gt;(
    fields: S
  ): QueryBuilder&lt;Schema, Table&gt; & { 
    <span class="code-function">execute</span>(): Promise&lt;SelectedFields&lt;Schema[Table], S&gt;[]&gt; 
  } {
    <span class="code-keyword">this</span>.<span class="code-string">selectClause</span> = fields;
    <span class="code-keyword">return</span> <span class="code-keyword">this</span> <span class="code-keyword">as</span> <span class="code-keyword">any</span>;
  }

  <span class="code-keyword">async</span> <span class="code-function">execute</span>(): Promise&lt;Schema[Table][]&gt; {
    <span class="code-comment">// æ‰§è¡Œå®é™…çš„æ•°æ®åº“æŸ¥è¯¢</span>
    <span class="code-keyword">return</span> [];
  }
}

<span class="code-comment">// ç±»å‹å®‰å…¨çš„DBå®ä¾‹</span>
<span class="code-keyword">class</span> <span class="code-function">Database</span>&lt;Schema&gt; {
  <span class="code-function">table</span>&lt;T <span class="code-keyword">extends</span> <span class="code-keyword">keyof</span> Schema&gt;(name: T) {
    <span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-function">QueryBuilder</span>&lt;Schema, T&gt;(name);
  }
}

<span class="code-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="code-keyword">const</span> db = <span class="code-keyword">new</span> <span class="code-function">Database</span>&lt;DatabaseSchema&gt;();

<span class="code-comment">// å®Œæ•´çš„ç±»å‹æ¨å¯¼å’Œæ£€æŸ¥</span>
<span class="code-keyword">const</span> users = <span class="code-keyword">await</span> db
  .<span class="code-function">table</span>(<span class="code-string">'users'</span>)
  .<span class="code-function">where</span>({ 
    <span class="code-string">email</span>: { <span class="code-string">$like</span>: <span class="code-string">'%@example.com'</span> },
    <span class="code-string">id</span>: { <span class="code-string">$gt</span>: <span class="code-number">100</span> }
  })
  .<span class="code-function">select</span>({ <span class="code-string">id</span>: <span class="code-keyword">true</span>, <span class="code-string">name</span>: <span class="code-keyword">true</span> })
  .<span class="code-function">execute</span>();
  
<span class="code-comment">// users çš„ç±»å‹ï¼š{ id: number; name: string }[]</span>
</div>
                                </div>
                            </div>

                            <div class="warning-box rounded-lg p-4 mt-6">
                                <h6 class="font-semibold text-yellow-300 mb-2">ç±»å‹ä½“æ“çš„"å‰¯ä½œç”¨"</h6>
                                <ul class="text-sm space-y-1">
                                    <li>â€¢ <strong>ç¼–è¯‘æ€§èƒ½ï¼š</strong> å¤æ‚ç±»å‹ä¼šå½±å“ TypeScript ç¼–è¯‘é€Ÿåº¦</li>
                                    <li>â€¢ <strong>å¯è¯»æ€§ä¸‹é™ï¼š</strong> è¿‡äºå¤æ‚çš„ç±»å‹éš¾ä»¥ç†è§£å’Œç»´æŠ¤</li>
                                    <li>â€¢ <strong>é”™è¯¯ä¿¡æ¯ï¼š</strong> å¤æ‚ç±»å‹çš„é”™è¯¯ä¿¡æ¯å¯èƒ½å¾ˆéš¾ç†è§£</li>
                                    <li>â€¢ <strong>å›¢é˜Ÿåä½œï¼š</strong> éœ€è¦å›¢é˜Ÿæˆå‘˜éƒ½å…·å¤‡ç›¸åº”çš„ TypeScript æ°´å¹³</li>
                                </ul>
                            </div>

                            <div class="tip-box rounded-lg p-4 mt-6">
                                <h6 class="font-semibold text-green-300 mb-2 text-center">æœ¬å°å§çš„ç±»å‹ä½“æ“å¿ƒæ³•</h6>
                                <p class="text-center text-sm text-gray-300 italic">
                                    "ç±»å‹ä½“æ“è™½ç„¶ç‚«é…·ï¼Œä½†è¦è®°ä½ç›®çš„æ˜¯<strong>æé«˜ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡</strong>ã€‚ä¸è¦ä¸ºäº†ç‚«æŠ€è€Œç‚«æŠ€ï¼Œåˆé€‚çš„å¤æ‚åº¦æ‰æ˜¯æœ€å¥½çš„ï¼"
                                </p>
                            </div>
                        </div>

                        <!-- 2.2.3 é…ç½®ä¸æœ€ä½³å®è·µ -->
                        <div class="knowledge-card rounded-lg p-8">
                            <h4 class="text-2xl font-bold mb-6 text-cyan-300">2.2.3 TypeScript é…ç½®ä¸æœ€ä½³å®è·µï¼šè®©ç¼–è¯‘å™¨æˆä¸ºä½ çš„å¾—åŠ›åŠ©æ‰‹</h4>

                            <p class="text-gray-300 mb-6 leading-relaxed">
                                æœ¬å°å§å¯æ˜¯è§è¿‡å¤ªå¤šå› ä¸ºé…ç½®ä¸å½“å¯¼è‡´çš„é—®é¢˜äº†ï¼TypeScript çš„é…ç½®è™½ç„¶å¤æ‚ï¼Œä½†é…ç½®å¾—å½“çš„è¯ï¼Œå¯ä»¥è®©ç¼–è¯‘å™¨æˆä¸ºä½ æœ€å¼ºåŠ›çš„åŠ©æ‰‹ã€‚
                            </p>

                            <div class="grid lg:grid-cols-2 gap-8">
                                <div>
                                    <h5 class="text-lg font-semibold mb-4 text-yellow-400">tsconfig.json é…ç½®ä¼˜åŒ–</h5>
                                    <div class="code-block text-sm">
<span class="code-comment">// ç”Ÿäº§çº§ tsconfig.json é…ç½®</span>
{
  <span class="code-string">"compilerOptions"</span>: {
    <span class="code-comment">// åŸºç¡€é…ç½®</span>
    <span class="code-string">"target"</span>: <span class="code-string">"ES2020"</span>,           <span class="code-comment">// ç›®æ ‡JSç‰ˆæœ¬</span>
    <span class="code-string">"module"</span>: <span class="code-string">"ESNext"</span>,           <span class="code-comment">// æ¨¡å—ç³»ç»Ÿ</span>
    <span class="code-string">"lib"</span>: [<span class="code-string">"ES2020"</span>, <span class="code-string">"DOM"</span>],      <span class="code-comment">// åŒ…å«çš„åº“</span>
    <span class="code-string">"moduleResolution"</span>: <span class="code-string">"node"</span>,  <span class="code-comment">// æ¨¡å—è§£æç­–ç•¥</span>

    <span class="code-comment">// ä¸¥æ ¼ç±»å‹æ£€æŸ¥ï¼ˆæ ¸å¿ƒï¼ï¼‰</span>
    <span class="code-string">"strict"</span>: <span class="code-keyword">true</span>,              <span class="code-comment">// å¯ç”¨æ‰€æœ‰ä¸¥æ ¼æ£€æŸ¥</span>
    <span class="code-string">"noImplicitAny"</span>: <span class="code-keyword">true</span>,       <span class="code-comment">// ç¦æ­¢éšå¼any</span>
    <span class="code-string">"strictNullChecks"</span>: <span class="code-keyword">true</span>,   <span class="code-comment">// ä¸¥æ ¼nullæ£€æŸ¥</span>
    <span class="code-string">"strictFunctionTypes"</span>: <span class="code-keyword">true</span>, <span class="code-comment">// ä¸¥æ ¼å‡½æ•°ç±»å‹</span>
    <span class="code-string">"noImplicitReturns"</span>: <span class="code-keyword">true</span>,  <span class="code-comment">// ç¡®ä¿å‡½æ•°æœ‰è¿”å›å€¼</span>
    <span class="code-string">"noImplicitThis"</span>: <span class="code-keyword">true</span>,     <span class="code-comment">// æ˜ç¡®thisç±»å‹</span>

    <span class="code-comment">// é¢å¤–æ£€æŸ¥</span>
    <span class="code-string">"noUnusedLocals"</span>: <span class="code-keyword">true</span>,     <span class="code-comment">// æ£€æŸ¥æœªä½¿ç”¨çš„å±€éƒ¨å˜é‡</span>
    <span class="code-string">"noUnusedParameters"</span>: <span class="code-keyword">true</span>, <span class="code-comment">// æ£€æŸ¥æœªä½¿ç”¨çš„å‚æ•°</span>
    <span class="code-string">"exactOptionalPropertyTypes"</span>: <span class="code-keyword">true</span>, <span class="code-comment">// ç²¾ç¡®å¯é€‰å±æ€§</span>
    <span class="code-string">"noUncheckedIndexedAccess"</span>: <span class="code-keyword">true</span>,  <span class="code-comment">// æ£€æŸ¥ç´¢å¼•è®¿é—®</span>

    <span class="code-comment">// è¾“å‡ºé…ç½®</span>
    <span class="code-string">"outDir"</span>: <span class="code-string">"./dist"</span>,          <span class="code-comment">// è¾“å‡ºç›®å½•</span>
    <span class="code-string">"rootDir"</span>: <span class="code-string">"./src"</span>,         <span class="code-comment">// æ ¹ç›®å½•</span>
    <span class="code-string">"removeComments"</span>: <span class="code-keyword">true</span>,    <span class="code-comment">// ç§»é™¤æ³¨é‡Š</span>
    <span class="code-string">"sourceMap"</span>: <span class="code-keyword">true</span>,         <span class="code-comment">// ç”Ÿæˆsourcemap</span>

    <span class="code-comment">// é«˜çº§é…ç½®</span>
    <span class="code-string">"declaration"</span>: <span class="code-keyword">true</span>,       <span class="code-comment">// ç”Ÿæˆ.d.tsæ–‡ä»¶</span>
    <span class="code-string">"declarationMap"</span>: <span class="code-keyword">true</span>,   <span class="code-comment">// ç”Ÿæˆå£°æ˜æ–‡ä»¶çš„sourcemap</span>
    <span class="code-string">"incremental"</span>: <span class="code-keyword">true</span>,      <span class="code-comment">// å¢é‡ç¼–è¯‘</span>
    <span class="code-string">"tsBuildInfoFile"</span>: <span class="code-string">"./.tscache"</span>, <span class="code-comment">// ç¼–è¯‘ä¿¡æ¯ç¼“å­˜</span>

    <span class="code-comment">// æ¨¡å—è§£æå¢å¼º</span>
    <span class="code-string">"baseUrl"</span>: <span class="code-string">"."</span>,             <span class="code-comment">// åŸºç¡€è·¯å¾„</span>
    <span class="code-string">"paths"</span>: {                    <span class="code-comment">// è·¯å¾„æ˜ å°„</span>
      <span class="code-string">"@/*"</span>: [<span class="code-string">"src/*"</span>],
      <span class="code-string">"@components/*"</span>: [<span class="code-string">"src/components/*"</span>],
      <span class="code-string">"@utils/*"</span>: [<span class="code-string">"src/utils/*"</span>],
      <span class="code-string">"@types/*"</span>: [<span class="code-string">"src/types/*"</span>]
    }
  },
  
  <span class="code-string">"include"</span>: [<span class="code-string">"src/**/*"</span>],
  <span class="code-string">"exclude"</span>: [
    <span class="code-string">"node_modules"</span>,
    <span class="code-string">"dist"</span>,
    <span class="code-string">"**/*.test.ts"</span>,      <span class="code-comment">// æµ‹è¯•æ–‡ä»¶</span>
    <span class="code-string">"**/*.spec.ts"</span>
  ]
}
</div>
                                </div>

                                <div>
                                    <h5 class="text-lg font-semibold mb-4 text-yellow-400">é¡¹ç›®ç»“æ„ä¸ç±»å‹ç»„ç»‡</h5>
                                    <div class="architecture-diagram rounded-lg p-4 mb-4">
                                        <div class="text-center mb-4">
                                            <h6 class="font-semibold text-cyan-300">æ¨èçš„ TypeScript é¡¹ç›®ç»“æ„</h6>
                                        </div>
                                        <div class="code-block text-xs">
<span class="code-comment">src/</span>
â”œâ”€â”€ <span class="code-keyword">types/</span>              <span class="code-comment"># å…¨å±€ç±»å‹å®šä¹‰</span>
â”‚   â”œâ”€â”€ api.ts          <span class="code-comment"># APIç›¸å…³ç±»å‹</span>
â”‚   â”œâ”€â”€ common.ts       <span class="code-comment"># é€šç”¨ç±»å‹</span>
â”‚   â””â”€â”€ index.ts        <span class="code-comment"># ç±»å‹å¯¼å‡º</span>
â”œâ”€â”€ <span class="code-keyword">components/</span>
â”‚   â”œâ”€â”€ Button/
â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”œâ”€â”€ Button.types.ts  <span class="code-comment"># ç»„ä»¶ç±»å‹å®šä¹‰</span>
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ Form/
â”‚       â”œâ”€â”€ Form.tsx
â”‚       â”œâ”€â”€ Form.types.ts
â”‚       â””â”€â”€ index.ts
â”œâ”€â”€ <span class="code-keyword">utils/</span>
â”‚   â”œâ”€â”€ api.ts
â”‚   â”œâ”€â”€ helpers.ts
â”‚   â””â”€â”€ types.ts        <span class="code-comment"># å·¥å…·ç±»å‹</span>
â”œâ”€â”€ <span class="code-keyword">hooks/</span>
â”‚   â”œâ”€â”€ useApi.ts
â”‚   â””â”€â”€ useLocalStorage.ts
â””â”€â”€ <span class="code-keyword">services/</span>
    â”œâ”€â”€ userService.ts
    â””â”€â”€ types.ts        <span class="code-comment"># æœåŠ¡ç±»å‹</span>
</div>
                                    </div>

                                    <div class="code-block text-sm">
<span class="code-comment">// types/api.ts - APIç±»å‹çš„ç»„ç»‡æ–¹å¼</span>
<span class="code-keyword">export</span> <span class="code-keyword">namespace</span> API {
  <span class="code-comment">// é€šç”¨å“åº”ç±»å‹</span>
  <span class="code-keyword">export</span> <span class="code-keyword">interface</span> <span class="code-function">Response</span>&lt;T = <span class="code-keyword">unknown</span>&gt; {
    <span class="code-string">success</span>: <span class="code-keyword">boolean</span>;
    <span class="code-string">data</span>: T;
    <span class="code-string">message</span>?: <span class="code-keyword">string</span>;
    <span class="code-string">error</span>?: ErrorDetail;
  }

  <span class="code-keyword">export</span> <span class="code-keyword">interface</span> <span class="code-function">ErrorDetail</span> {
    <span class="code-string">code</span>: <span class="code-keyword">string</span>;
    <span class="code-string">message</span>: <span class="code-keyword">string</span>;
    <span class="code-string">details</span>?: <span class="code-keyword">Record</span>&lt;<span class="code-keyword">string</span>, <span class="code-keyword">unknown</span>&gt;;
  }

  <span class="code-comment">// ç”¨æˆ·ç›¸å…³APIç±»å‹</span>
  <span class="code-keyword">export</span> <span class="code-keyword">namespace</span> User {
    <span class="code-keyword">export</span> <span class="code-keyword">interface</span> <span class="code-function">Entity</span> {
      <span class="code-string">id</span>: <span class="code-keyword">string</span>;
      <span class="code-string">email</span>: <span class="code-keyword">string</span>;
      <span class="code-string">name</span>: <span class="code-keyword">string</span>;
      <span class="code-string">avatar</span>?: <span class="code-keyword">string</span>;
      <span class="code-string">createdAt</span>: <span class="code-keyword">string</span>;
    }

    <span class="code-keyword">export</span> <span class="code-keyword">interface</span> <span class="code-function">CreateRequest</span> {
      <span class="code-string">email</span>: <span class="code-keyword">string</span>;
      <span class="code-string">name</span>: <span class="code-keyword">string</span>;
      <span class="code-string">password</span>: <span class="code-keyword">string</span>;
    }

    <span class="code-keyword">export</span> <span class="code-keyword">interface</span> <span class="code-function">UpdateRequest</span> 
      <span class="code-keyword">extends</span> Partial&lt;Omit&lt;Entity, <span class="code-string">'id'</span> | <span class="code-string">'createdAt'</span>&gt;&gt; {}

    <span class="code-keyword">export</span> <span class="code-keyword">type</span> ListResponse = Response&lt;Entity[]&gt;;
    <span class="code-keyword">export</span> <span class="code-keyword">type</span> DetailResponse = Response&lt;Entity&gt;;
  }
}

<span class="code-comment">// ä½¿ç”¨æ—¶çš„ç±»å‹å®‰å…¨</span>
<span class="code-keyword">async</span> <span class="code-keyword">function</span> <span class="code-function">createUser</span>(
  data: API.User.CreateRequest
): Promise&lt;API.User.DetailResponse&gt; {
  <span class="code-comment">// å®ç°åˆ›å»ºç”¨æˆ·é€»è¾‘</span>
}
</div>
                                </div>
                            </div>

                            <div class="feature-grid mt-8">
                                <div class="tip-box rounded-lg p-4">
                                    <h6 class="font-semibold text-green-300 mb-2">å¼€å‘æ•ˆç‡æå‡æŠ€å·§</h6>
                                    <ul class="text-sm space-y-1">
                                        <li>â€¢ <strong>å–„ç”¨ IDEï¼š</strong> VS Code + TypeScript æ’ä»¶</li>
                                        <li>â€¢ <strong>ç±»å‹æç¤ºï¼š</strong> ç”¨ JSDoc æ³¨é‡Šå¢å¼ºç±»å‹æç¤º</li>
                                        <li>â€¢ <strong>å¿«é€Ÿä¿®å¤ï¼š</strong> å–„ç”¨ç¼–è¾‘å™¨çš„å¿«é€Ÿä¿®å¤åŠŸèƒ½</li>
                                        <li>â€¢ <strong>ç±»å‹æ£€æŸ¥ï¼š</strong> åœ¨ CI/CD ä¸­é›†æˆç±»å‹æ£€æŸ¥</li>
                                    </ul>
                                </div>

                                <div class="warning-box rounded-lg p-4">
                                    <h6 class="font-semibold text-yellow-300 mb-2">å¸¸è§è¸©å‘ç‚¹</h6>
                                    <ul class="text-sm space-y-1">
                                        <li>â€¢ <strong>any æ³›æ»¥ï¼š</strong> é¿å…è¿‡åº¦ä½¿ç”¨ any ç±»å‹</li>
                                        <li>â€¢ <strong>ç±»å‹æ–­è¨€æ»¥ç”¨ï¼š</strong> è°¨æ…ä½¿ç”¨ as æ–­è¨€</li>
                                        <li>â€¢ <strong>å¿½ç•¥é”™è¯¯ï¼š</strong> ä¸è¦å¿½ç•¥ TypeScript é”™è¯¯</li>
                                        <li>â€¢ <strong>ç‰ˆæœ¬ä¸ä¸€è‡´ï¼š</strong> ä¿æŒ TypeScript ç‰ˆæœ¬ç»Ÿä¸€</li>
                                    </ul>
                                </div>

                                <div class="technique-highlight rounded-lg p-4">
                                    <h6 class="font-semibold text-purple-300 mb-2">æ€§èƒ½ä¼˜åŒ–å»ºè®®</h6>
                                    <ul class="text-sm space-y-1">
                                        <li>â€¢ <strong>å¢é‡ç¼–è¯‘ï¼š</strong> å¯ç”¨ incremental é€‰é¡¹</li>
                                        <li>â€¢ <strong>è·³è¿‡ç±»å‹æ£€æŸ¥ï¼š</strong> æ„å»ºæ—¶ä½¿ç”¨ transpileOnly</li>
                                        <li>â€¢ <strong>é¡¹ç›®å¼•ç”¨ï¼š</strong> å¤§å‹é¡¹ç›®ä½¿ç”¨ project references</li>
                                        <li>â€¢ <strong>ç±»å‹ç®€åŒ–ï¼š</strong> é¿å…è¿‡åº¦å¤æ‚çš„ç±»å‹è®¡ç®—</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Webpack -->
                    <div class="mb-16">
                        <h3 class="text-3xl font-bold mb-8 text-orange-400">2.3 Webpack æ„å»ºé­”æ³•ï¼šæ­ç§˜å‰ç«¯æ‰“åŒ…çš„"é»‘ç®±è‰ºæœ¯"ï¼</h3>

                        <div class="bg-gradient-to-r from-orange-900 to-red-900 rounded-lg p-6 mb-8">
                            <p class="text-lg italic text-center">
                                "åˆ«ä»¥ä¸ºä½ çš„ä»£ç æ˜¯ç›´æ¥è·‘åœ¨æµè§ˆå™¨é‡Œçš„ï¼ä¸­é—´é‚£äº›'æ¬ç –'çš„æ´»å„¿ï¼Œéƒ½æ˜¯ Webpack è¿™äº›å®¶ä¼™åœ¨å¹²ï¼"
                            </p>
                        </div>

                        <!-- 2.3.1 æ„å»ºåŸç†æ·±åº¦è§£æ -->
                        <div class="knowledge-card rounded-lg p-8 mb-8">
                            <h4 class="text-2xl font-bold mb-6 text-orange-300">2.3.1 æ„å»ºåŸç†æ·±åº¦è§£æï¼šä»é›¶æ•£åˆ°æ•´ä½“çš„åä¸½å˜èº«</h4>

                            <p class="text-gray-300 mb-6 leading-relaxed">
                                çœ‹ç€é‚£äº›é›¶é›¶æ•£æ•£çš„ä»£ç æ–‡ä»¶ï¼Œæœ¬å°å§å°±æƒ³åˆ°äº†ä¸€å †ç§¯æœ¨å—ã€‚Webpack å°±åƒæ˜¯ä¸€ä¸ªè¶…çº§èªæ˜çš„"ç§¯æœ¨å¤§å¸ˆ"ï¼Œèƒ½æŠŠè¿™äº›æ•£è£…çš„ç§¯æœ¨ç»„è£…æˆä¸€ä¸ªå®Œæ•´çš„åŸå ¡ï¼æ¥çœ‹çœ‹å®ƒæ˜¯æ€ä¹ˆåšåˆ°çš„å§ï½
                            </p>

                            <div class="space-y-8">
                                <div class="technique-highlight rounded-lg p-6">
                                    <h5 class="text-lg font-semibold mb-4 text-yellow-400">Webpack æ ¸å¿ƒæ¦‚å¿µæ·±åº¦å‰–æ</h5>
                                    
                                    <div class="grid lg:grid-cols-2 gap-6">
                                        <div>
                                            <h6 class="font-semibold text-blue-300 mb-3">å…¥å£ï¼ˆEntryï¼‰ï¼šæ„å»ºçš„èµ·ç‚¹</h6>
                                            <div class="code-block text-sm mb-4">
<span class="code-comment">// webpack.config.js</span>
module.exports = {
  <span class="code-string">entry</span>: {
    <span class="code-comment">// å¤šå…¥å£é…ç½®</span>
    <span class="code-string">main</span>: <span class="code-string">'./src/index.js'</span>,
    <span class="code-string">admin</span>: <span class="code-string">'./src/admin.js'</span>,
    <span class="code-string">vendor</span>: [<span class="code-string">'react'</span>, <span class="code-string">'redux'</span>], <span class="code-comment">// ç¬¬ä¸‰æ–¹åº“å•ç‹¬æ‰“åŒ…</span>
  },

  <span class="code-comment">// åŠ¨æ€å…¥å£ï¼šæ ¹æ®ç¯å¢ƒåŠ¨æ€ç”Ÿæˆ</span>
  <span class="code-string">entry</span>: () => {
    <span class="code-keyword">return</span> {
      <span class="code-string">app</span>: <span class="code-string">'./src/index.js'</span>,
      ...(process.<span class="code-string">env</span>.<span class="code-string">NODE_ENV</span> === <span class="code-string">'development'</span> ? {
        <span class="code-string">devtools</span>: <span class="code-string">'./src/devtools.js'</span>
      } : {})
    };
  },

  <span class="code-comment">// ä¾èµ–å›¾åˆ†æï¼šWebpackä»å…¥å£å¼€å§‹ï¼Œé€’å½’åˆ†ææ‰€æœ‰ä¾èµ–</span>
  <span class="code-string">output</span>: {
    <span class="code-string">path</span>: path.<span class="code-function">resolve</span>(__dirname, <span class="code-string">'dist'</span>),
    <span class="code-string">filename</span>: <span class="code-string">'[name].[contenthash].js'</span>, <span class="code-comment">// åŸºäºå†…å®¹çš„hash</span>
  }
};

<span class="code-comment">// å…¥å£æ–‡ä»¶ç¤ºä¾‹ - src/index.js</span>
<span class="code-keyword">import</span> React <span class="code-keyword">from</span> <span class="code-string">'react'</span>;               <span class="code-comment">// ä¾èµ–1</span>
<span class="code-keyword">import</span> ReactDOM <span class="code-keyword">from</span> <span class="code-string">'react-dom'</span>;       <span class="code-comment">// ä¾èµ–2</span>
<span class="code-keyword">import</span> App <span class="code-keyword">from</span> <span class="code-string">'./components/App'</span>;   <span class="code-comment">// ä¾èµ–3ï¼ˆæœ¬åœ°æ¨¡å—ï¼‰</span>
<span class="code-keyword">import</span> <span class="code-string">'./styles/main.css'</span>;          <span class="code-comment">// ä¾èµ–4ï¼ˆæ ·å¼æ–‡ä»¶ï¼‰</span>

ReactDOM.<span class="code-function">render</span>(&lt;<span class="code-function">App</span> /&gt;, document.<span class="code-function">getElementById</span>(<span class="code-string">'root'</span>));
</div>
                                        </div>

                                        <div>
                                            <h6 class="font-semibold text-green-300 mb-3">ä¾èµ–å›¾æ„å»ºè¿‡ç¨‹</h6>
                                            <div class="architecture-diagram rounded-lg p-4">
                                                <div class="text-center text-sm space-y-3">
                                                    <div class="flow-step">
                                                        <div class="w-8 h-8 bg-blue-500 rounded-full mx-auto mb-2 flex items-center justify-center text-xs">1</div>
                                                        <p>è¯»å–å…¥å£æ–‡ä»¶</p>
                                                    </div>
                                                    <div>â†“</div>
                                                    <div class="flow-step">
                                                        <div class="w-8 h-8 bg-green-500 rounded-full mx-auto mb-2 flex items-center justify-center text-xs">2</div>
                                                        <p>è§£æ import/require</p>
                                                    </div>
                                                    <div>â†“</div>
                                                    <div class="flow-step">
                                                        <div class="w-8 h-8 bg-yellow-500 rounded-full mx-auto mb-2 flex items-center justify-center text-xs">3</div>
                                                        <p>é€’å½’è§£æä¾èµ–</p>
                                                    </div>
                                                    <div>â†“</div>
                                                    <div class="flow-step">
                                                        <div class="w-8 h-8 bg-purple-500 rounded-full mx-auto mb-2 flex items-center justify-center text-xs">4</div>
                                                        <p>æ„å»ºä¾èµ–å›¾</p>
                                                    </div>
                                                    <div>â†“</div>
                                                    <div class="flow-step">
                                                        <div class="w-8 h-8 bg-red-500 rounded-full mx-auto mb-2 flex items-center justify-center text-xs">5</div>
                                                        <p>ç”ŸæˆBundle</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="tip-box rounded-lg p-3 mt-4 text-xs">
                                                <p><strong>ä¾èµ–å›¾çš„é­”åŠ›ï¼š</strong> Webpackä¼šåˆ†æå‡ºæ‰€æœ‰æ¨¡å—é—´çš„ä¾èµ–å…³ç³»ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ£€æµ‹å¾ªç¯ä¾èµ–ã€æœªä½¿ç”¨çš„æ¨¡å—ç­‰é—®é¢˜ã€‚</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="technique-highlight rounded-lg p-6">
                                    <h5 class="text-lg font-semibold mb-4 text-green-400">æ¨¡å—è§£ææœºåˆ¶ï¼šWebpackæ˜¯æ€ä¹ˆæ‰¾åˆ°æ–‡ä»¶çš„ï¼Ÿ</h5>
                                    
                                    <div class="grid lg:grid-cols-2 gap-6">
                                        <div class="code-block text-sm">
<span class="code-comment">// æ¨¡å—è§£æé…ç½®è¯¦è§£</span>
module.exports = {
  <span class="code-string">resolve</span>: {
    <span class="code-comment">// åˆ«åï¼šç®€åŒ–å¯¼å…¥è·¯å¾„</span>
    <span class="code-string">alias</span>: {
      <span class="code-string">'@'</span>: path.<span class="code-function">resolve</span>(__dirname, <span class="code-string">'src'</span>),
      <span class="code-string">'@components'</span>: path.<span class="code-function">resolve</span>(__dirname, <span class="code-string">'src/components'</span>),
      <span class="code-string">'@utils'</span>: path.<span class="code-function">resolve</span>(__dirname, <span class="code-string">'src/utils'</span>),
      <span class="code-comment">// æ›¿æ¢æ¨¡å—ï¼ˆæ¯”å¦‚ç”¨è½»é‡çº§åº“æ›¿ä»£é‡å‹åº“ï¼‰</span>
      <span class="code-string">'lodash'</span>: <span class="code-string">'lodash-es'</span>,
    },

    <span class="code-comment">// æ‰©å±•åï¼šè‡ªåŠ¨è¡¥å…¨æ–‡ä»¶æ‰©å±•å</span>
    <span class="code-string">extensions</span>: [<span class="code-string">'.js'</span>, <span class="code-string">'.jsx'</span>, <span class="code-string">'.ts'</span>, <span class="code-string">'.tsx'</span>, <span class="code-string">'.json'</span>],

    <span class="code-comment">// æ¨¡å—æŸ¥æ‰¾ç›®å½•</span>
    <span class="code-string">modules</span>: [
      <span class="code-string">'node_modules'</span>,
      path.<span class="code-function">resolve</span>(__dirname, <span class="code-string">'src'</span>), <span class="code-comment">// å¯ä»¥ç›´æ¥å¯¼å…¥srcä¸‹çš„æ–‡ä»¶</span>
    ],

    <span class="code-comment">// mainå­—æ®µæ›¿ä»£ï¼šæŒ‡å®šåŒ…çš„å…¥å£æ–‡ä»¶å­—æ®µ</span>
    <span class="code-string">mainFields</span>: [<span class="code-string">'browser'</span>, <span class="code-string">'module'</span>, <span class="code-string">'main'</span>],

    <span class="code-comment">// ç¬¦åˆæ¡ä»¶çš„å¯¼å‡º</span>
    <span class="code-string">conditionNames</span>: [<span class="code-string">'import'</span>, <span class="code-string">'module'</span>, <span class="code-string">'browser'</span>, <span class="code-string">'default'</span>],
  }
};

<span class="code-comment">// ä½¿ç”¨åˆ«ååçš„å¯¼å…¥</span>
<span class="code-keyword">import</span> Button <span class="code-keyword">from</span> <span class="code-string">'@components/Button'</span>; <span class="code-comment">// è€Œä¸æ˜¯ '../../../components/Button'</span>
<span class="code-keyword">import</span> { debounce } <span class="code-keyword">from</span> <span class="code-string">'@utils/helpers'</span>;
</div>

                                        <div>
                                            <div class="warning-box rounded-lg p-4 mb-4">
                                                <h6 class="font-semibold text-yellow-300 mb-2">æ¨¡å—è§£æé¡ºåº</h6>
                                                <ol class="text-sm space-y-1">
                                                    <li>1. <strong>ç»å¯¹è·¯å¾„ï¼š</strong> ç›´æ¥ä½¿ç”¨è·¯å¾„</li>
                                                    <li>2. <strong>ç›¸å¯¹è·¯å¾„ï¼š</strong> ç›¸å¯¹äºå½“å‰æ–‡ä»¶</li>
                                                    <li>3. <strong>æ¨¡å—åï¼š</strong> åœ¨ modules ç›®å½•ä¸­æŸ¥æ‰¾</li>
                                                    <li>4. <strong>åˆ«åæ›¿æ¢ï¼š</strong> åº”ç”¨ alias é…ç½®</li>
                                                    <li>5. <strong>æ‰©å±•åè¡¥å…¨ï¼š</strong> å°è¯•æ·»åŠ æ‰©å±•å</li>
                                                </ol>
                                            </div>

                                            <div class="code-block text-sm">
<span class="code-comment">// è§£æè¿‡ç¨‹ç¤ºä¾‹</span>
<span class="code-comment">// è¾“å…¥ï¼šimport Button from '@components/Button'</span>

<span class="code-comment">// æ­¥éª¤1ï¼šåˆ«åæ›¿æ¢</span>
<span class="code-comment">// '@components/Button' -> 'src/components/Button'</span>

<span class="code-comment">// æ­¥éª¤2ï¼šæ‰©å±•åå°è¯•</span>
<span class="code-comment">// 'src/components/Button.js' âŒ</span>
<span class="code-comment">// 'src/components/Button.jsx' âœ… æ‰¾åˆ°äº†ï¼</span>

<span class="code-comment">// æ­¥éª¤3ï¼šå¦‚æœæ˜¯ç›®å½•ï¼ŒæŸ¥æ‰¾indexæ–‡ä»¶</span>
<span class="code-comment">// 'src/components/Button/index.jsx'</span>

<span class="code-comment">// æ€§èƒ½ä¼˜åŒ–ï¼šç¼“å­˜è§£æç»“æœ</span>
<span class="code-keyword">const</span> resolveCache = <span class="code-keyword">new</span> <span class="code-function">Map</span>();
<span class="code-keyword">function</span> <span class="code-function">resolve</span>(request, context) {
  <span class="code-keyword">const</span> cacheKey = <span class="code-string">`${request}:${context}`</span>;
  <span class="code-keyword">if</span> (resolveCache.<span class="code-function">has</span>(cacheKey)) {
    <span class="code-keyword">return</span> resolveCache.<span class="code-function">get</span>(cacheKey);
  }
  <span class="code-comment">// æ‰§è¡Œå®é™…è§£æ...</span>
}
</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="technique-highlight rounded-lg p-6">
                                    <h5 class="text-lg font-semibold mb-4 text-purple-400">Bundle ç”Ÿæˆè¿‡ç¨‹ï¼šä»æ¨¡å—åˆ°æ–‡ä»¶çš„è½¬æ¢</h5>
                                    
                                    <div class="code-block text-sm">
<span class="code-comment">// ç®€åŒ–ç‰ˆçš„Webpackè¿è¡Œæ—¶ä»£ç </span>
(<span class="code-keyword">function</span>(modules) { <span class="code-comment">// webpackBootstrap</span>
  <span class="code-comment">// æ¨¡å—ç¼“å­˜</span>
  <span class="code-keyword">var</span> installedModules = {};

  <span class="code-comment">// requireå‡½æ•°å®ç°</span>
  <span class="code-keyword">function</span> <span class="code-function">__webpack_require__</span>(moduleId) {
    <span class="code-comment">// æ£€æŸ¥æ¨¡å—æ˜¯å¦åœ¨ç¼“å­˜ä¸­</span>
    <span class="code-keyword">if</span>(installedModules[moduleId]) {
      <span class="code-keyword">return</span> installedModules[moduleId].<span class="code-string">exports</span>;
    }

    <span class="code-comment">// åˆ›å»ºæ–°æ¨¡å—å¹¶æ”¾å…¥ç¼“å­˜</span>
    <span class="code-keyword">var</span> module = installedModules[moduleId] = {
      <span class="code-string">i</span>: moduleId,
      <span class="code-string">l</span>: <span class="code-keyword">false</span>,        <span class="code-comment">// æ˜¯å¦å·²åŠ è½½</span>
      <span class="code-string">exports</span>: {}     <span class="code-comment">// å¯¼å‡ºå¯¹è±¡</span>
    };

    <span class="code-comment">// æ‰§è¡Œæ¨¡å—å‡½æ•°</span>
    modules[moduleId].<span class="code-function">call</span>(
      module.<span class="code-string">exports</span>, 
      module, 
      module.<span class="code-string">exports</span>, 
      __webpack_require__
    );

    <span class="code-comment">// æ ‡è®°æ¨¡å—ä¸ºå·²åŠ è½½</span>
    module.<span class="code-string">l</span> = <span class="code-keyword">true</span>;
    <span class="code-keyword">return</span> module.<span class="code-string">exports</span>;
  }

  <span class="code-comment">// å¯åŠ¨åº”ç”¨ï¼šåŠ è½½å…¥å£æ¨¡å—</span>
  <span class="code-keyword">return</span> <span class="code-function">__webpack_require__</span>(<span class="code-string">"./src/index.js"</span>);
})({
  <span class="code-comment">// æ¨¡å—æ˜ å°„è¡¨</span>
  <span class="code-string">"./src/index.js"</span>: (<span class="code-keyword">function</span>(module, exports, __webpack_require__) {
    <span class="code-keyword">var</span> _App = <span class="code-function">__webpack_require__</span>(<span class="code-string">"./src/App.js"</span>);
    <span class="code-comment">// æ¨¡å—ä»£ç ...</span>
  }),
  
  <span class="code-string">"./src/App.js"</span>: (<span class="code-keyword">function</span>(module, exports, __webpack_require__) {
    <span class="code-keyword">var</span> _react = <span class="code-function">__webpack_require__</span>(<span class="code-string">"react"</span>);
    <span class="code-comment">// ç»„ä»¶ä»£ç ...</span>
  }),

  <span class="code-string">"react"</span>: (<span class="code-keyword">function</span>(module, exports) {
    <span class="code-comment">// Reactåº“ä»£ç ...</span>
  })
});

<span class="code-comment">// ä»£ç åˆ†å‰²åçš„å¼‚æ­¥åŠ è½½</span>
<span class="code-function">__webpack_require__.ensure = <span class="code-keyword">function</span>(chunkIds, callback) {
  <span class="code-keyword">var</span> promises = [];
  
  chunkIds.<span class="code-function">forEach</span>(<span class="code-keyword">function</span>(chunkId) {
    <span class="code-keyword">if</span>(!installedChunks[chunkId]) {
      <span class="code-keyword">var</span> script = document.<span class="code-function">createElement</span>(<span class="code-string">'script'</span>);
      script.<span class="code-string">src</span> = <span class="code-string">`${chunkId}.chunk.js`</span>;
      document.<span class="code-string">head</span>.<span class="code-function">appendChild</span>(script);
      
      promises.<span class="code-function">push</span>(<span class="code-keyword">new</span> Promise(resolve => {
        script.<span class="code-string">onload</span> = resolve;
      }));
    }
  });
  
  Promise.<span class="code-function">all</span>(promises).<span class="code-function">then</span>(callback);
};
</div>

                                    <div class="tip-box rounded-lg p-4 mt-4">
                                        <h6 class="font-semibold text-green-300 mb-2">Bundle åˆ†ææŠ€å·§</h6>
                                        <ul class="text-sm space-y-1">
                                            <li>â€¢ <strong>webpack-bundle-analyzerï¼š</strong> å¯è§†åŒ–åˆ†æBundleç»„æˆ</li>
                                            <li>â€¢ <strong>source-map-explorerï¼š</strong> åˆ†ææºç åœ¨Bundleä¸­çš„å æ¯”</li>
                                            <li>â€¢ <strong>bundlephobiaï¼š</strong> æ£€æŸ¥npmåŒ…çš„å¤§å°å½±å“</li>
                                            <li>â€¢ <strong>webpack-statsï¼š</strong> è¯¦ç»†çš„æ„å»ºç»Ÿè®¡ä¿¡æ¯</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 2.3.2 Loaderä¸Pluginæ·±åº¦å®šåˆ¶ -->
                        <div class="knowledge-card rounded-lg p-8 mb-8">
                            <h4 class="text-2xl font-bold mb-6 text-red-300">2.3.2 Loaderä¸Pluginæ·±åº¦å®šåˆ¶ï¼šæ‰“é€ ä¸“å±çš„"é­”æ³•é“å…·"</h4>

                            <p class="text-gray-300 mb-6 leading-relaxed">
                                Loaderå’ŒPluginå°±åƒæ˜¯æœ¬å°å§çš„"é­”æ³•é“å…·ç®±"ï¼Loaderè´Ÿè´£è½¬æ¢ï¼ŒPluginè´Ÿè´£æ‰©å±•ã€‚æƒ³è¦çœŸæ­£æŒæ¡Webpackï¼Œå°±å¿…é¡»å­¦ä¼šåˆ¶ä½œå±äºè‡ªå·±çš„é“å…·ï¼
                            </p>

                            <div class="space-y-8">
                                <div class="technique-highlight rounded-lg p-6">
                                    <h5 class="text-lg font-semibold mb-4 text-yellow-400">LoaderåŸç†ä¸è‡ªå®šä¹‰å¼€å‘</h5>
                                    
                                    <p class="text-gray-300 mb-4 text-sm leading-relaxed">
                                        Loaderæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶æºæ–‡ä»¶å†…å®¹ï¼Œè¿”å›è½¬æ¢åçš„å†…å®¹ã€‚å°±è¿™ä¹ˆç®€å•ï¼ä½†ç®€å•ä¸­è—ç€å¤§æ™ºæ…§ï½
                                    </p>

                                    <div class="grid lg:grid-cols-2 gap-6">
                                        <div>
                                            <h6 class="font-semibold text-blue-300 mb-3">è‡ªå®šä¹‰Loaderå®æˆ˜</h6>
                                            <div class="code-block text-xs">
<span class="code-comment">// my-awesome-loader.js</span>
<span class="code-keyword">const</span> loaderUtils = <span class="code-function">require</span>(<span class="code-string">'loader-utils'</span>);
<span class="code-keyword">const</span> validateOptions = <span class="code-function">require</span>(<span class="code-string">'schema-utils'</span>);

<span class="code-comment">// é€‰é¡¹éªŒè¯schema</span>
<span class="code-keyword">const</span> schema = {
  <span class="code-string">type</span>: <span class="code-string">'object'</span>,
  <span class="code-string">properties</span>: {
    <span class="code-string">prefix</span>: { <span class="code-string">type</span>: <span class="code-string">'string'</span> },
    <span class="code-string">suffix</span>: { <span class="code-string">type</span>: <span class="code-string">'string'</span> }
  }
};

<span class="code-comment">// åŒæ­¥Loader</span>
module.exports = <span class="code-keyword">function</span>(source) {
  <span class="code-comment">// è·å–é…ç½®é€‰é¡¹</span>
  <span class="code-keyword">const</span> options = loaderUtils.<span class="code-function">getOptions</span>(<span class="code-keyword">this</span>) || {};
  
  <span class="code-comment">// éªŒè¯é€‰é¡¹</span>
  <span class="code-function">validateOptions</span>(schema, options, {
    <span class="code-string">name</span>: <span class="code-string">'My Awesome Loader'</span>,
    <span class="code-string">baseDataPath</span>: <span class="code-string">'options'</span>
  });

  <span class="code-comment">// å¤„ç†æºç </span>
  <span class="code-keyword">const</span> { prefix = <span class="code-string">''</span>, suffix = <span class="code-string">''</span> } = options;
  
  <span class="code-comment">// æ·»åŠ å‰ç¼€å’Œåç¼€æ³¨é‡Š</span>
  <span class="code-keyword">const</span> result = <span class="code-string">`
/* ${prefix} - ç”±æœ¬å°å§çš„loaderå¤„ç† */
${source}
/* ${suffix} - å¤„ç†å®Œæˆ */
`</span>;

  <span class="code-comment">// è¿”å›å¤„ç†ç»“æœ</span>
  <span class="code-keyword">return</span> result;
};

<span class="code-comment">// å¼‚æ­¥Loaderç¤ºä¾‹</span>
module.exports = <span class="code-keyword">function</span>(source) {
  <span class="code-keyword">const</span> callback = <span class="code-keyword">this</span>.<span class="code-function">async</span>(); <span class="code-comment">// è·å–å¼‚æ­¥å›è°ƒ</span>
  
  <span class="code-comment">// æ¨¡æ‹Ÿå¼‚æ­¥å¤„ç†</span>
  <span class="code-function">setTimeout</span>(() => {
    <span class="code-keyword">try</span> {
      <span class="code-keyword">const</span> result = <span class="code-function">processSource</span>(source);
      <span class="code-comment">// æˆåŠŸå›è°ƒï¼šcallback(error, result, sourceMap, meta)</span>
      <span class="code-function">callback</span>(<span class="code-keyword">null</span>, result);
    } <span class="code-keyword">catch</span> (error) {
      <span class="code-comment">// é”™è¯¯å›è°ƒ</span>
      <span class="code-function">callback</span>(error);
    }
  }, <span class="code-number">100</span>);
};

<span class="code-comment">// å¤„ç†äºŒè¿›åˆ¶æ–‡ä»¶çš„Loader</span>
module.exports.<span class="code-string">raw</span> = <span class="code-keyword">true</span>; <span class="code-comment">// å£°æ˜å¤„ç†åŸå§‹Buffer</span>
module.exports = <span class="code-keyword">function</span>(source) {
  <span class="code-comment">// source æ˜¯ Buffer ç±»å‹</span>
  <span class="code-function">console.log</span>(<span class="code-string">'æ–‡ä»¶å¤§å°:'</span>, source.<span class="code-string">length</span>);
  
  <span class="code-comment">// å¯ä»¥å¤„ç†å›¾ç‰‡ã€å­—ä½“ç­‰äºŒè¿›åˆ¶æ–‡ä»¶</span>
  <span class="code-keyword">return</span> source;
};
</div>
                                        </div>

                                        <div>
                                            <h6 class="font-semibold text-green-300 mb-3">Loaderé…ç½®ä¸ä½¿ç”¨</h6>
                                            <div class="code-block text-xs">
<span class="code-comment">// webpack.config.js</span>
module.exports = {
  <span class="code-string">module</span>: {
    <span class="code-string">rules</span>: [
      {
        <span class="code-string">test</span>: <span class="code-string">/\.special$/</span>,
        <span class="code-string">use</span>: [
          {
            <span class="code-string">loader</span>: path.<span class="code-function">resolve</span>(__dirname, <span class="code-string">'./my-awesome-loader.js'</span>),
            <span class="code-string">options</span>: {
              <span class="code-string">prefix</span>: <span class="code-string">'æœ¬å°å§åˆ¶ä½œ'</span>,
              <span class="code-string">suffix</span>: <span class="code-string">'è´¨é‡ä¿è¯'</span>
            }
          }
        ]
      },

      <span class="code-comment">// Loaderé“¾å¼è°ƒç”¨</span>
      {
        <span class="code-string">test</span>: <span class="code-string">/\.js$/</span>,
        <span class="code-string">use</span>: [
          <span class="code-string">'babel-loader'</span>,      <span class="code-comment">// 3. ES6+ -> ES5</span>
          <span class="code-string">'ts-loader'</span>,        <span class="code-comment">// 2. TS -> JS</span>
          <span class="code-string">'my-custom-loader'</span>  <span class="code-comment">// 1. è‡ªå®šä¹‰å¤„ç†ï¼ˆä»å³åˆ°å·¦æ‰§è¡Œï¼‰</span>
        ]
      },

      <span class="code-comment">// å†…è”Loader</span>
      {
        <span class="code-string">test</span>: <span class="code-string">/\.css$/</span>,
        <span class="code-comment">// ä½¿ç”¨ ! åˆ†éš”å¤šä¸ªloader</span>
        <span class="code-string">loader</span>: <span class="code-string">'style-loader!css-loader!postcss-loader'</span>
      }
    ]
  }
};

<span class="code-comment">// å¤æ‚Loaderï¼šå¤„ç†Vueå•æ–‡ä»¶ç»„ä»¶</span>
module.exports = <span class="code-keyword">function</span>(source) {
  <span class="code-keyword">const</span> { parse } = <span class="code-function">require</span>(<span class="code-string">'@vue/compiler-sfc'</span>);
  
  <span class="code-comment">// è§£æVueå•æ–‡ä»¶</span>
  <span class="code-keyword">const</span> { descriptor } = <span class="code-function">parse</span>(source);
  
  <span class="code-keyword">let</span> output = <span class="code-string">''</span>;
  
  <span class="code-comment">// å¤„ç†template</span>
  <span class="code-keyword">if</span> (descriptor.<span class="code-string">template</span>) {
    output += <span class="code-string">`\n// Template\n${descriptor.template.content}`</span>;
  }
  
  <span class="code-comment">// å¤„ç†script</span>
  <span class="code-keyword">if</span> (descriptor.<span class="code-string">script</span>) {
    output += <span class="code-string">`\n// Script\n${descriptor.script.content}`</span>;
  }
  
  <span class="code-comment">// å¤„ç†style</span>
  descriptor.<span class="code-string">styles</span>.<span class="code-function">forEach</span>((style, index) => {
    output += <span class="code-string">`\n// Style ${index}\n${style.content}`</span>;
  });
  
  <span class="code-keyword">return</span> output;
};
</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="technique-highlight rounded-lg p-6">
                                    <h5 class="text-lg font-semibold mb-4 text-purple-400">Pluginå¼€å‘ï¼šæ‰©å±•Webpackçš„æ— é™å¯èƒ½</h5>
                                    
                                    <p class="text-gray-300 mb-4 text-sm leading-relaxed">
                                        Pluginå°±åƒæ˜¯Webpackçš„"æ’ä»¶ç³»ç»Ÿ"ï¼Œå¯ä»¥åœ¨æ„å»ºè¿‡ç¨‹çš„å„ä¸ªé˜¶æ®µæ’å…¥è‡ªå®šä¹‰é€»è¾‘ã€‚åŸºäºäº‹ä»¶é©±åŠ¨çš„æ¶æ„ï¼Œéå¸¸çµæ´»ï¼
                                    </p>

                                    <div class="code-block text-sm">
<span class="code-comment">// my-plugin.js - è‡ªå®šä¹‰æ’ä»¶</span>
<span class="code-keyword">class</span> <span class="code-function">MyAwesomePlugin</span> {
  <span class="code-function">constructor</span>(options = {}) {
    <span class="code-keyword">this</span>.<span class="code-string">options</span> = options;
  }

  <span class="code-comment">// Pluginçš„æ ¸å¿ƒæ–¹æ³•ï¼šapply</span>
  <span class="code-function">apply</span>(compiler) {
    <span class="code-keyword">const</span> pluginName = <span class="code-string">'MyAwesomePlugin'</span>;

    <span class="code-comment">// 1. ç¼–è¯‘å¼€å§‹æ—¶</span>
    compiler.<span class="code-string">hooks</span>.<span class="code-string">compile</span>.<span class="code-function">tap</span>(pluginName, (params) => {
      <span class="code-function">console.log</span>(<span class="code-string">'ğŸ“¦ æœ¬å°å§å¼€å§‹ç¼–è¯‘äº†...'</span>);
    });

    <span class="code-comment">// 2. ç¼–è¯‘å®Œæˆæ—¶</span>
    compiler.<span class="code-string">hooks</span>.<span class="code-string">done</span>.<span class="code-function">tap</span>(pluginName, (stats) => {
      <span class="code-keyword">const</span> { time, hash } = stats.<span class="code-function">toJson</span>();
      <span class="code-function">console.log</span>(<span class="code-string">`âœ¨ ç¼–è¯‘å®Œæˆï¼è€—æ—¶: ${time}ms, Hash: ${hash}`</span>);
    });

    <span class="code-comment">// 3. ç”ŸæˆAssetsæ—¶ï¼ˆå¼‚æ­¥é’©å­ï¼‰</span>
    compiler.<span class="code-string">hooks</span>.<span class="code-string">emit</span>.<span class="code-function">tapAsync</span>(pluginName, (compilation, callback) => {
      <span class="code-comment">// æ·»åŠ è‡ªå®šä¹‰æ–‡ä»¶åˆ°è¾“å‡º</span>
      <span class="code-keyword">const</span> filename = <span class="code-string">'build-info.json'</span>;
      <span class="code-keyword">const</span> buildInfo = {
        <span class="code-string">timestamp</span>: <span class="code-keyword">new</span> <span class="code-function">Date</span>().<span class="code-function">toISOString</span>(),
        <span class="code-string">author</span>: <span class="code-string">'æœ¬å°å§'</span>,
        <span class="code-string">webpack</span>: compiler.<span class="code-string">webpack</span>.<span class="code-string">version</span>,
        <span class="code-string">modules</span>: compilation.<span class="code-string">modules</span>.<span class="code-string">size</span>,
        <span class="code-string">chunks</span>: compilation.<span class="code-string">chunks</span>.<span class="code-string">size</span>
      };

      <span class="code-comment">// æ·»åŠ æ–‡ä»¶åˆ°èµ„æºåˆ—è¡¨</span>
      compilation.<span class="code-string">assets</span>[filename] = {
        <span class="code-function">source</span>() {
          <span class="code-keyword">return</span> JSON.<span class="code-function">stringify</span>(buildInfo, <span class="code-keyword">null</span>, <span class="code-number">2</span>);
        },
        <span class="code-function">size</span>() {
          <span class="code-keyword">return</span> <span class="code-keyword">this</span>.<span class="code-function">source</span>().<span class="code-string">length</span>;
        }
      };

      <span class="code-function">callback</span>(); <span class="code-comment">// å¼‚æ­¥é’©å­å¿…é¡»è°ƒç”¨callback</span>
    });

    <span class="code-comment">// 4. ä½¿ç”¨Promiseçš„å¼‚æ­¥é’©å­</span>
    compiler.<span class="code-string">hooks</span>.<span class="code-string">emit</span>.<span class="code-function">tapPromise</span>(pluginName, (compilation) => {
      <span class="code-keyword">return</span> <span class="code-keyword">new</span> Promise((resolve, reject) => {
        <span class="code-comment">// å¼‚æ­¥å¤„ç†é€»è¾‘</span>
        <span class="code-function">setTimeout</span>(() => {
          <span class="code-function">console.log</span>(<span class="code-string">'ğŸ‰ æœ¬å°å§çš„å¼‚æ­¥ä»»åŠ¡å®Œæˆäº†ï¼'</span>);
          <span class="code-function">resolve</span>();
        }, <span class="code-number">100</span>);
      });
    });

    <span class="code-comment">// 5. ç›‘å¬ç‰¹å®šæ–‡ä»¶å˜åŒ–ï¼ˆå¼€å‘æ¨¡å¼ï¼‰</span>
    <span class="code-keyword">if</span> (compiler.<span class="code-string">options</span>.<span class="code-string">mode</span> === <span class="code-string">'development'</span>) {
      compiler.<span class="code-string">hooks</span>.<span class="code-string">watchRun</span>.<span class="code-function">tap</span>(pluginName, (compiler) => {
        <span class="code-keyword">const</span> changedFiles = <span class="code-function">getChangedFiles</span>(compiler);
        <span class="code-keyword">if</span> (changedFiles.<span class="code-string">length</span> > <span class="code-number">0</span>) {
          <span class="code-function">console.log</span>(<span class="code-string">'ğŸ“ æ£€æµ‹åˆ°æ–‡ä»¶å˜åŒ–:'</span>, changedFiles);
        }
      });
    }
  }
}

<span class="code-comment">// é«˜çº§Pluginï¼šä»£ç åˆ†ææ’ä»¶</span>
<span class="code-keyword">class</span> <span class="code-function">CodeAnalysisPlugin</span> {
  <span class="code-function">apply</span>(compiler) {
    compiler.<span class="code-string">hooks</span>.<span class="code-string">afterResolve</span>.<span class="code-function">tap</span>(<span class="code-string">'CodeAnalysisPlugin'</span>, (result) => {
      <span class="code-comment">// åˆ†ææ¨¡å—ä¾èµ–</span>
      <span class="code-keyword">const</span> { resource, dependencies } = result;
      
      <span class="code-comment">// æ£€æµ‹å¾ªç¯ä¾èµ–</span>
      <span class="code-keyword">this</span>.<span class="code-function">detectCircularDependencies</span>(result);
      
      <span class="code-comment">// æ£€æµ‹æœªä½¿ç”¨çš„å¯¼å…¥</span>
      <span class="code-keyword">this</span>.<span class="code-function">detectUnusedImports</span>(result);
    });
  }

  <span class="code-function">detectCircularDependencies</span>(result) {
    <span class="code-comment">// å¾ªç¯ä¾èµ–æ£€æµ‹é€»è¾‘</span>
  }

  <span class="code-function">detectUnusedImports</span>(result) {
    <span class="code-comment">// æœªä½¿ç”¨å¯¼å…¥æ£€æµ‹é€»è¾‘</span>
  }
}

module.exports = { MyAwesomePlugin, CodeAnalysisPlugin };
</div>

                                    <div class="grid lg:grid-cols-2 gap-4 mt-4">
                                        <div class="tip-box rounded-lg p-4">
                                            <h6 class="font-semibold text-green-300 mb-2">Pluginå¼€å‘æœ€ä½³å®è·µ</h6>
                                            <ul class="text-xs space-y-1">
                                                <li>â€¢ <strong>æ˜ç¡®é’©å­ï¼š</strong> é€‰æ‹©æ­£ç¡®çš„webpacké’©å­</li>
                                                <li>â€¢ <strong>é”™è¯¯å¤„ç†ï¼š</strong> å¦¥å–„å¤„ç†å¼‚å¸¸æƒ…å†µ</li>
                                                <li>â€¢ <strong>æ€§èƒ½è€ƒè™‘ï¼š</strong> é¿å…é˜»å¡æ„å»ºæµç¨‹</li>
                                                <li>â€¢ <strong>æ–‡æ¡£å‹å¥½ï¼š</strong> æä¾›æ¸…æ™°çš„é…ç½®è¯´æ˜</li>
                                            </ul>
                                        </div>

                                        <div class="warning-box rounded-lg p-4">
                                            <h6 class="font-semibold text-yellow-300 mb-2">å¸¸è§å¼€å‘é™·é˜±</h6>
                                            <ul class="text-xs space-y-1">
                                                <li>â€¢ <strong>å¼‚æ­¥å¿˜è®°å›è°ƒï¼š</strong> å¼‚æ­¥é’©å­å¿…é¡»è°ƒç”¨callback</li>
                                                <li>â€¢ <strong>Hookæ‹¼å†™é”™è¯¯ï¼š</strong> ä»”ç»†æ£€æŸ¥é’©å­åç§°</li>
                                                <li>â€¢ <strong>å†…å­˜æ³„æ¼ï¼š</strong> é¿å…åˆ›å»ºè¿‡å¤šçš„å¼•ç”¨</li>
                                                <li>â€¢ <strong>ç‰ˆæœ¬å…¼å®¹ï¼š</strong> è€ƒè™‘ä¸åŒwebpackç‰ˆæœ¬çš„å…¼å®¹æ€§</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 2.3.3 æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ -->
                        <div class="knowledge-card rounded-lg p-8">
                            <h4 class="text-2xl font-bold mb-6 text-cyan-300">2.3.3 æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µï¼šè®©æ„å»ºé€Ÿåº¦"é£èµ·æ¥"ï¼</h4>

                            <p class="text-gray-300 mb-6 leading-relaxed">
                                æ„å»ºæ…¢ï¼Ÿæ‰“åŒ…å¤§ï¼Ÿæœ¬å°å§æœ€ä¸èƒ½å¿å—æ•ˆç‡ä½ä¸‹äº†ï¼æ¥å­¦å­¦è¿™äº›ä¼˜åŒ–æŠ€å·§ï¼Œè®©ä½ çš„Webpacké…ç½®é£èµ·æ¥ï½
                            </p>

                            <div class="feature-grid">
                                <div class="feature-card">
                                    <h5 class="text-lg font-semibold mb-4 text-yellow-400">æ„å»ºé€Ÿåº¦ä¼˜åŒ–</h5>
                                    <div class="code-block text-xs mb-4">
<span class="code-comment">// å¤šçº¿ç¨‹/å¤šè¿›ç¨‹æ„å»º</span>
module.exports = {
  <span class="code-string">module</span>: {
    <span class="code-string">rules</span>: [
      {
        <span class="code-string">test</span>: <span class="code-string">/\.js$/</span>,
        <span class="code-string">use</span>: [
          <span class="code-comment">// thread-loader å¼€å¯å¤šçº¿ç¨‹</span>
          <span class="code-string">'thread-loader'</span>,
          <span class="code-string">'babel-loader'</span>
        ]
      }
    ]
  },

  <span class="code-comment">// ç¼“å­˜æ„å»ºç»“æœ</span>
  <span class="code-string">cache</span>: {
    <span class="code-string">type</span>: <span class="code-string">'filesystem'</span>,     <span class="code-comment">// æ–‡ä»¶ç³»ç»Ÿç¼“å­˜</span>
    <span class="code-string">buildDependencies</span>: {
      config: [__filename]   <span class="code-comment">// é…ç½®å˜åŒ–æ—¶æ¸…ç¼“å­˜</span>
    }
  },

  <span class="code-comment">// ä¼˜åŒ–æ¨¡å—è§£æ</span>
  <span class="code-string">resolve</span>: {
    <span class="code-string">modules</span>: [path.<span class="code-function">resolve</span>(<span class="code-string">'node_modules'</span>)], <span class="code-comment">// æŒ‡å®šæŸ¥æ‰¾è·¯å¾„</span>
    <span class="code-string">extensions</span>: [<span class="code-string">'.js'</span>, <span class="code-string">'.jsx'</span>],         <span class="code-comment">// å‡å°‘å°è¯•æ‰©å±•å</span>
    <span class="code-string">alias</span>: {
      <span class="code-comment">// ç›´æ¥æŒ‡å‘å‹ç¼©ç‰ˆæœ¬</span>
      <span class="code-string">'lodash'</span>: <span class="code-string">'lodash/index.js'</span>
    }
  }
};

<span class="code-comment">// å¼€å‘ç¯å¢ƒä¼˜åŒ–</span>
<span class="code-keyword">if</span> (process.<span class="code-string">env</span>.<span class="code-string">NODE_ENV</span> === <span class="code-string">'development'</span>) {
  config.<span class="code-string">devtool</span> = <span class="code-string">'eval-cheap-module-source-map'</span>; <span class="code-comment">// å¿«é€Ÿsourcemap</span>
  config.<span class="code-string">optimization</span>.<span class="code-string">removeAvailableModules</span> = <span class="code-keyword">false</span>;
  config.<span class="code-string">optimization</span>.<span class="code-string">removeEmptyChunks</span> = <span class="code-keyword">false</span>;
  config.<span class="code-string">optimization</span>.<span class="code-string">splitChunks</span> = <span class="code-keyword">false</span>;
}
</div>
                                </div>

                                <div class="feature-card">
                                    <h5 class="text-lg font-semibold mb-4 text-green-400">Bundleå¤§å°ä¼˜åŒ–</h5>
                                    <div class="code-block text-xs mb-4">
<span class="code-comment">// Tree Shakingé…ç½®</span>
module.exports = {
  <span class="code-string">mode</span>: <span class="code-string">'production'</span>,  <span class="code-comment">// å¯ç”¨å†…ç½®ä¼˜åŒ–</span>
  <span class="code-string">optimization</span>: {
    <span class="code-string">usedExports</span>: <span class="code-keyword">true</span>,      <span class="code-comment">// æ ‡è®°æœªä½¿ç”¨å¯¼å‡º</span>
    <span class="code-string">sideEffects</span>: <span class="code-keyword">false</span>,     <span class="code-comment">// æ‰€æœ‰æ¨¡å—æ— å‰¯ä½œç”¨</span>
    
    <span class="code-comment">// ä»£ç åˆ†å‰²</span>
    <span class="code-string">splitChunks</span>: {
      <span class="code-string">chunks</span>: <span class="code-string">'all'</span>,
      <span class="code-string">cacheGroups</span>: {
        <span class="code-string">vendor</span>: {
          <span class="code-string">test</span>: <span class="code-string">/[\\/]node_modules[\\/]/</span>,
          <span class="code-string">name</span>: <span class="code-string">'vendors'</span>,
          <span class="code-string">priority</span>: <span class="code-number">10</span>
        },
        <span class="code-string">common</span>: {
          <span class="code-string">name</span>: <span class="code-string">'common'</span>,
          <span class="code-string">minChunks</span>: <span class="code-number">2</span>,
          <span class="code-string">priority</span>: <span class="code-number">5</span>
        }
      }
    }
  },

  <span class="code-comment">// package.json sideEffectsé…ç½®</span>
  <span class="code-string">sideEffects</span>: [
    <span class="code-string">"*.css"</span>,           <span class="code-comment">// CSSæ–‡ä»¶æœ‰å‰¯ä½œç”¨</span>
    <span class="code-string">"./src/polyfills.js"</span> <span class="code-comment">// polyfillæœ‰å‰¯ä½œç”¨</span>
  ]
};

<span class="code-comment">// åŠ¨æ€å¯¼å…¥å®ç°æ‡’åŠ è½½</span>
<span class="code-keyword">const</span> LazyComponent = React.<span class="code-function">lazy</span>(() =>
  <span class="code-keyword">import</span>(<span class="code-comment">/* webpackChunkName: "lazy-component" */</span> <span class="code-string">'./LazyComponent'</span>)
);
</div>
                                </div>

                                <div class="feature-card">
                                    <h5 class="text-lg font-semibold mb-4 text-purple-400">ç›‘æ§ä¸åˆ†æ</h5>
                                    <div class="code-block text-xs mb-4">
<span class="code-comment">// webpack-bundle-analyzer é…ç½®</span>
<span class="code-keyword">const</span> { BundleAnalyzerPlugin } = <span class="code-function">require</span>(<span class="code-string">'webpack-bundle-analyzer'</span>);

module.exports = {
  <span class="code-string">plugins</span>: [
    <span class="code-keyword">new</span> <span class="code-function">BundleAnalyzerPlugin</span>({
      <span class="code-string">analyzerMode</span>: process.<span class="code-string">env</span>.<span class="code-string">ANALYZE</span> ? <span class="code-string">'server'</span> : <span class="code-string">'disabled'</span>,
      <span class="code-string">openAnalyzer</span>: <span class="code-keyword">false</span>
    })
  ]
};

<span class="code-comment">// æ€§èƒ½é¢„ç®—é…ç½®</span>
module.exports = {
  <span class="code-string">performance</span>: {
    <span class="code-string">maxAssetSize</span>: <span class="code-number">250000</span>,    <span class="code-comment">// å•ä¸ªæ–‡ä»¶æœ€å¤§250KB</span>
    <span class="code-string">maxEntrypointSize</span>: <span class="code-number">250000</span>, <span class="code-comment">// å…¥å£æ–‡ä»¶æœ€å¤§250KB</span>
    <span class="code-string">hints</span>: <span class="code-string">'warning'</span>         <span class="code-comment">// è¶…å‡ºæ—¶è­¦å‘Š</span>
  }
};

<span class="code-comment">// è‡ªå®šä¹‰æ€§èƒ½ç›‘æ§æ’ä»¶</span>
<span class="code-keyword">class</span> <span class="code-function">PerformanceMonitorPlugin</span> {
  <span class="code-function">apply</span>(compiler) {
    compiler.<span class="code-string">hooks</span>.<span class="code-string">done</span>.<span class="code-function">tap</span>(<span class="code-string">'PerformanceMonitor'</span>, (stats) => {
      <span class="code-keyword">const</span> { time, assets } = stats.<span class="code-function">toJson</span>();
      
      <span class="code-function">console.log</span>(<span class="code-string">`ğŸ“Š æ„å»ºæ€§èƒ½æŠ¥å‘Š:`</span>);
      <span class="code-function">console.log</span>(<span class="code-string">`   æ„å»ºæ—¶é—´: ${time}ms`</span>);
      <span class="code-function">console.log</span>(<span class="code-string">`   æ–‡ä»¶æ•°é‡: ${Object.keys(assets).length}`</span>);
      
      <span class="code-keyword">const</span> totalSize = Object.<span class="code-function">values</span>(assets)
        .<span class="code-function">reduce</span>((sum, asset) => sum + asset.<span class="code-string">size</span>, <span class="code-number">0</span>);
      <span class="code-function">console.log</span>(<span class="code-string">`   æ€»å¤§å°: ${(totalSize / 1024).toFixed(2)}KB`</span>);
    });
  }
}
</div>
                                </div>
                            </div>

                            <div class="technique-highlight rounded-lg p-6 mt-8">
                                <h6 class="font-semibold text-purple-300 mb-2 text-center">æœ¬å°å§çš„Webpackæ€§èƒ½ä¼˜åŒ–å¿ƒå¾—</h6>
                                <div class="grid md:grid-cols-2 gap-6 text-sm">
                                    <div>
                                        <h7 class="font-semibold text-green-300">å¼€å‘ç¯å¢ƒä¼˜åŒ–</h7>
                                        <ul class="mt-2 space-y-1">
                                            <li>â€¢ ä½¿ç”¨å¿«é€Ÿçš„ source-map</li>
                                            <li>â€¢ å…³é—­ç”Ÿäº§ç¯å¢ƒçš„ä¼˜åŒ–</li>
                                            <li>â€¢ å¯ç”¨æ¨¡å—çƒ­æ›¿æ¢(HMR)</li>
                                            <li>â€¢ ä½¿ç”¨ cache-loader ç¼“å­˜ç»“æœ</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h7 class="font-semibold text-blue-300">ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–</h7>
                                        <ul class="mt-2 space-y-1">
                                            <li>â€¢ å¯ç”¨æ‰€æœ‰å‹ç¼©å’Œä¼˜åŒ–</li>
                                            <li>â€¢ åˆç†é…ç½®ä»£ç åˆ†å‰²</li>
                                            <li>â€¢ ä½¿ç”¨ CDN åŠ è½½ç¬¬ä¸‰æ–¹åº“</li>
                                            <li>â€¢ å¼€å¯ gzip å‹ç¼©</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- PWA -->
                    <div class="mb-8">
                        <h3 class="text-3xl font-bold mb-8 text-purple-400">2.4 PWA æ¸è¿›å¼Webåº”ç”¨ï¼šè®©ä½ çš„ç½‘é¡µ"ç‹¬ç«‹è¡Œèµ°"ï¼Œåª²ç¾åŸç”Ÿåº”ç”¨ä½“éªŒï¼</h3>

                        <div class="bg-gradient-to-r from-purple-900 to-pink-900 rounded-lg p-6 mb-8">
                            <p class="text-lg italic text-center">
                                "ç½‘é¡µå°±åªèƒ½åœ¨æµè§ˆå™¨é‡Œçœ‹çœ‹ï¼Ÿå¤ª low äº†ï¼è®©ä½ çš„ç½‘é¡µä¹Ÿèƒ½åƒ App ä¸€æ ·å‰å®³ï¼"
                            </p>
                        </div>

                        <!-- 2.4.1 PWAæ ¸å¿ƒæŠ€æœ¯æ ˆ -->
                        <div class="knowledge-card rounded-lg p-8 mb-8">
                            <h4 class="text-2xl font-bold mb-6 text-purple-300">2.4.1 PWAæ ¸å¿ƒæŠ€æœ¯æ ˆï¼šä¸‰å¤§æ³•å®è®©ç½‘é¡µ"è¶…ç¥"</h4>

                            <p class="text-gray-300 mb-6 leading-relaxed">
                                PWA å¯ä¸æ˜¯éšä¾¿è´´ä¸ªæ ‡ç­¾å°±èƒ½å«çš„ï¼è¦æˆä¸ºçœŸæ­£çš„æ¸è¿›å¼ Web åº”ç”¨ï¼Œéœ€è¦æŒæ¡ä¸‰å¤§æ³•å®ï¼šService Workerã€Web App Manifest å’Œ HTTPSã€‚æœ¬å°å§è¿™å°±è¯¦ç»†ç»™ä½ è®²è§£ï¼
                            </p>

                            <div class="space-y-8">
                                <div class="technique-highlight rounded-lg p-6">
                                    <h5 class="text-lg font-semibold mb-4 text-yellow-400">Service Workerï¼šç½‘é¡µçš„"å¹•åè‹±é›„"</h5>
                                    
                                    <p class="text-gray-300 mb-4 text-sm">Service Worker å°±åƒæ˜¯ä½ ç½‘é¡µçš„"ç§äººåŠ©ç†"ï¼Œåœ¨åå°é»˜é»˜å·¥ä½œï¼Œå¤„ç†ç½‘ç»œè¯·æ±‚ã€æ¨é€é€šçŸ¥ã€åå°åŒæ­¥ç­‰ç­‰ã€‚æœ€å‰å®³çš„æ˜¯ï¼Œå®ƒèƒ½è®©ä½ çš„åº”ç”¨ç¦»çº¿ä¹Ÿèƒ½ç”¨ï¼</p>

                                    <div class="grid lg:grid-cols-2 gap-6">
                                        <div>
                                            <h6 class="font-semibold text-blue-300 mb-3">Service Worker ç”Ÿå‘½å‘¨æœŸ</h6>
                                            <div class="code-block text-xs">
<span class="code-comment">// main.js - æ³¨å†ŒService Worker</span>
<span class="code-keyword">if</span> (<span class="code-string">'serviceWorker'</span> <span class="code-keyword">in</span> navigator) {
  window.<span class="code-function">addEventListener</span>(<span class="code-string">'load'</span>, () => {
    navigator.<span class="code-string">serviceWorker</span>.<span class="code-function">register</span>(<span class="code-string">'/sw.js'</span>)
      .<span class="code-function">then</span>(registration => {
        <span class="code-function">console.log</span>(<span class="code-string">'âœ… SWæ³¨å†ŒæˆåŠŸ:'</span>, registration.<span class="code-string">scope</span>);
        
        <span class="code-comment">// ç›‘å¬æ›´æ–°</span>
        registration.<span class="code-function">addEventListener</span>(<span class="code-string">'updatefound'</span>, () => {
          <span class="code-keyword">const</span> newWorker = registration.<span class="code-string">installing</span>;
          newWorker.<span class="code-function">addEventListener</span>(<span class="code-string">'statechange'</span>, () => {
            <span class="code-keyword">if</span> (newWorker.<span class="code-string">state</span> === <span class="code-string">'installed'</span>) {
              <span class="code-comment">// æ–°ç‰ˆæœ¬å¯ç”¨</span>
              <span class="code-function">showUpdateNotification</span>();
            }
          });
        });
      })
      .<span class="code-function">catch</span>(error => {
        <span class="code-function">console.error</span>(<span class="code-string">'âŒ SWæ³¨å†Œå¤±è´¥:'</span>, error);
      });
  });
}

<span class="code-comment">// æ˜¾ç¤ºæ›´æ–°é€šçŸ¥</span>
<span class="code-keyword">function</span> <span class="code-function">showUpdateNotification</span>() {
  <span class="code-keyword">if</span> (<span class="code-function">confirm</span>(<span class="code-string">'å‘ç°æ–°ç‰ˆæœ¬ï¼Œæ˜¯å¦ç«‹å³æ›´æ–°ï¼Ÿ'</span>)) {
    window.<span class="code-string">location</span>.<span class="code-function">reload</span>();
  }
}

<span class="code-comment">// ç›‘å¬SWæ§åˆ¶å˜åŒ–</span>
navigator.<span class="code-string">serviceWorker</span>.<span class="code-function">addEventListener</span>(<span class="code-string">'controllerchange'</span>, () => {
  <span class="code-function">console.log</span>(<span class="code-string">'ğŸ”„ SWæ§åˆ¶æƒå·²è½¬ç§»'</span>);
});
</div>
                                        </div>

                                        <div>
                                            <h6 class="font-semibold text-green-300 mb-3">SWäº‹ä»¶ä¸ç”Ÿå‘½å‘¨æœŸé’©å­</h6>
                                            <div class="architecture-diagram rounded-lg p-4">
                                                <div class="text-center text-xs space-y-2">
                                                    <div class="flow-step">
                                                        <div class="w-8 h-8 bg-blue-500 rounded-full mx-auto mb-1 flex items-center justify-center text-white font-bold">1</div>
                                                        <p><strong>Installing</strong><br>ä¸‹è½½å’Œå®‰è£…</p>
                                                    </div>
                                                    <div>â†“</div>
                                                    <div class="flow-step">
                                                        <div class="w-8 h-8 bg-green-500 rounded-full mx-auto mb-1 flex items-center justify-center text-white font-bold">2</div>
                                                        <p><strong>Installed</strong><br>å®‰è£…å®Œæˆï¼Œç­‰å¾…æ¿€æ´»</p>
                                                    </div>
                                                    <div>â†“</div>
                                                    <div class="flow-step">
                                                        <div class="w-8 h-8 bg-yellow-500 rounded-full mx-auto mb-1 flex items-center justify-center text-white font-bold">3</div>
                                                        <p><strong>Activating</strong><br>æ¿€æ´»ä¸­</p>
                                                    </div>
                                                    <div>â†“</div>
                                                    <div class="flow-step">
                                                        <div class="w-8 h-8 bg-purple-500 rounded-full mx-auto mb-1 flex items-center justify-center text-white font-bold">4</div>
                                                        <p><strong>Activated</strong><br>æ¿€æ´»å®Œæˆï¼Œæ§åˆ¶é¡µé¢</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="technique-highlight rounded-lg p-6">
                                    <h5 class="text-lg font-semibold mb-4 text-green-400">å®Œæ•´çš„Service Workerå®ç°</h5>
                                    
                                    <div class="code-block text-sm">
<span class="code-comment">// sw.js - Service Worker å®Œæ•´å®ç°</span>
<span class="code-keyword">const</span> CACHE_NAME = <span class="code-string">'my-pwa-v1.2.0'</span>;
<span class="code-keyword">const</span> STATIC_CACHE = <span class="code-string">'static-v1.2.0'</span>;
<span class="code-keyword">const</span> DYNAMIC_CACHE = <span class="code-string">'dynamic-v1.2.0'</span>;

<span class="code-comment">// éœ€è¦ç¼“å­˜çš„é™æ€èµ„æº</span>
<span class="code-keyword">const</span> STATIC_ASSETS = [
  <span class="code-string">'/'</span>,
  <span class="code-string">'/index.html'</span>,
  <span class="code-string">'/styles/app.css'</span>,
  <span class="code-string">'/scripts/app.js'</span>,
  <span class="code-string">'/images/icon-192.png'</span>,
  <span class="code-string">'/images/icon-512.png'</span>,
  <span class="code-string">'/offline.html'</span> <span class="code-comment">// ç¦»çº¿é¡µé¢</span>
];

<span class="code-comment">// å®‰è£…äº‹ä»¶ï¼šç¼“å­˜é™æ€èµ„æº</span>
self.<span class="code-function">addEventListener</span>(<span class="code-string">'install'</span>, event => {
  <span class="code-function">console.log</span>(<span class="code-string">'ğŸ“¦ SWå®‰è£…ä¸­...'</span>);
  
  event.<span class="code-function">waitUntil</span>(
    caches.<span class="code-function">open</span>(STATIC_CACHE)
      .<span class="code-function">then</span>(cache => {
        <span class="code-function">console.log</span>(<span class="code-string">'ğŸ“¥ ç¼“å­˜é™æ€èµ„æº'</span>);
        <span class="code-keyword">return</span> cache.<span class="code-function">addAll</span>(STATIC_ASSETS);
      })
      .<span class="code-function">then</span>(() => {
        <span class="code-comment">// å¼ºåˆ¶æ¿€æ´»æ–°SW</span>
        <span class="code-keyword">return</span> self.<span class="code-function">skipWaiting</span>();
      })
  );
});

<span class="code-comment">// æ¿€æ´»äº‹ä»¶ï¼šæ¸…ç†æ—§ç¼“å­˜</span>
self.<span class="code-function">addEventListener</span>(<span class="code-string">'activate'</span>, event => {
  <span class="code-function">console.log</span>(<span class="code-string">'ğŸš€ SWæ¿€æ´»ä¸­...'</span>);
  
  event.<span class="code-function">waitUntil</span>(
    caches.<span class="code-function">keys</span>()
      .<span class="code-function">then</span>(cacheNames => {
        <span class="code-keyword">return</span> Promise.<span class="code-function">all</span>(
          cacheNames.<span class="code-function">map</span>(cacheName => {
            <span class="code-keyword">if</span> (![STATIC_CACHE, DYNAMIC_CACHE].<span class="code-function">includes</span>(cacheName)) {
              <span class="code-function">console.log</span>(<span class="code-string">'ğŸ—‘ï¸ åˆ é™¤æ—§ç¼“å­˜:'</span>, cacheName);
              <span class="code-keyword">return</span> caches.<span class="code-function">delete</span>(cacheName);
            }
          })
        );
      })
      .<span class="code-function">then</span>(() => {
        <span class="code-comment">// ç«‹å³æ§åˆ¶æ‰€æœ‰é¡µé¢</span>
        <span class="code-keyword">return</span> self.clients.<span class="code-function">claim</span>();
      })
  );
});

<span class="code-comment">// ç½‘ç»œè¯·æ±‚æ‹¦æˆªï¼šå®ç°ç¼“å­˜ç­–ç•¥</span>
self.<span class="code-function">addEventListener</span>(<span class="code-string">'fetch'</span>, event => {
  <span class="code-keyword">const</span> { request } = event;
  <span class="code-keyword">const</span> url = <span class="code-keyword">new</span> <span class="code-function">URL</span>(request.<span class="code-string">url</span>);

  <span class="code-comment">// è·³è¿‡éGETè¯·æ±‚</span>
  <span class="code-keyword">if</span> (request.<span class="code-string">method</span> !== <span class="code-string">'GET'</span>) <span class="code-keyword">return</span>;

  <span class="code-comment">// APIè¯·æ±‚ä½¿ç”¨ç½‘ç»œä¼˜å…ˆç­–ç•¥</span>
  <span class="code-keyword">if</span> (url.<span class="code-string">pathname</span>.<span class="code-function">startsWith</span>(<span class="code-string">'/api/'</span>)) {
    event.<span class="code-function">respondWith</span>(<span class="code-function">networkFirst</span>(request));
    <span class="code-keyword">return</span>;
  }

  <span class="code-comment">// é™æ€èµ„æºä½¿ç”¨ç¼“å­˜ä¼˜å…ˆç­–ç•¥</span>
  <span class="code-keyword">if</span> (STATIC_ASSETS.<span class="code-function">includes</span>(url.<span class="code-string">pathname</span>)) {
    event.<span class="code-function">respondWith</span>(<span class="code-function">cacheFirst</span>(request));
    <span class="code-keyword">return</span>;
  }

  <span class="code-comment">// å…¶ä»–è¯·æ±‚ä½¿ç”¨å¿«é€Ÿç¼“å­˜ç­–ç•¥</span>
  event.<span class="code-function">respondWith</span>(<span class="code-function">staleWhileRevalidate</span>(request));
});

<span class="code-comment">// ç¼“å­˜ç­–ç•¥1ï¼šç¼“å­˜ä¼˜å…ˆ</span>
<span class="code-keyword">async</span> <span class="code-keyword">function</span> <span class="code-function">cacheFirst</span>(request) {
  <span class="code-keyword">const</span> cache = <span class="code-keyword">await</span> caches.<span class="code-function">open</span>(STATIC_CACHE);
  <span class="code-keyword">const</span> cachedResponse = <span class="code-keyword">await</span> cache.<span class="code-function">match</span>(request);
  
  <span class="code-keyword">if</span> (cachedResponse) {
    <span class="code-keyword">return</span> cachedResponse;
  }

  <span class="code-keyword">try</span> {
    <span class="code-keyword">const</span> networkResponse = <span class="code-keyword">await</span> <span class="code-function">fetch</span>(request);
    cache.<span class="code-function">put</span>(request, networkResponse.<span class="code-function">clone</span>());
    <span class="code-keyword">return</span> networkResponse;
  } <span class="code-keyword">catch</span> (error) {
    <span class="code-comment">// ç½‘ç»œå¤±è´¥ï¼Œè¿”å›ç¦»çº¿é¡µé¢</span>
    <span class="code-keyword">if</span> (request.<span class="code-string">mode</span> === <span class="code-string">'navigate'</span>) {
      <span class="code-keyword">return</span> cache.<span class="code-function">match</span>(<span class="code-string">'/offline.html'</span>);
    }
    <span class="code-keyword">throw</span> error;
  }
}

<span class="code-comment">// ç¼“å­˜ç­–ç•¥2ï¼šç½‘ç»œä¼˜å…ˆ</span>
<span class="code-keyword">async</span> <span class="code-keyword">function</span> <span class="code-function">networkFirst</span>(request) {
  <span class="code-keyword">const</span> cache = <span class="code-keyword">await</span> caches.<span class="code-function">open</span>(DYNAMIC_CACHE);
  
  <span class="code-keyword">try</span> {
    <span class="code-keyword">const</span> networkResponse = <span class="code-keyword">await</span> <span class="code-function">fetch</span>(request);
    cache.<span class="code-function">put</span>(request, networkResponse.<span class="code-function">clone</span>());
    <span class="code-keyword">return</span> networkResponse;
  } <span class="code-keyword">catch</span> (error) {
    <span class="code-keyword">const</span> cachedResponse = <span class="code-keyword">await</span> cache.<span class="code-function">match</span>(request);
    <span class="code-keyword">if</span> (cachedResponse) {
      <span class="code-keyword">return</span> cachedResponse;
    }
    <span class="code-keyword">throw</span> error;
  }
}

<span class="code-comment">// ç¼“å­˜ç­–ç•¥3ï¼šå¿«é€Ÿç¼“å­˜ï¼ˆstale-while-revalidateï¼‰</span>
<span class="code-keyword">async</span> <span class="code-keyword">function</span> <span class="code-function">staleWhileRevalidate</span>(request) {
  <span class="code-keyword">const</span> cache = <span class="code-keyword">await</span> caches.<span class="code-function">open</span>(DYNAMIC_CACHE);
  <span class="code-keyword">const</span> cachedResponse = <span class="code-keyword">await</span> cache.<span class="code-function">match</span>(request);
  
  <span class="code-comment">// åå°æ›´æ–°ç¼“å­˜</span>
  <span class="code-keyword">const</span> fetchPromise = <span class="code-function">fetch</span>(request).<span class="code-function">then</span>(networkResponse => {
    cache.<span class="code-function">put</span>(request, networkResponse.<span class="code-function">clone</span>());
    <span class="code-keyword">return</span> networkResponse;
  });

  <span class="code-comment">// è¿”å›ç¼“å­˜ç»“æœï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œå¦åˆ™ç­‰å¾…ç½‘ç»œ</span>
  <span class="code-keyword">return</span> cachedResponse || fetchPromise;
}

<span class="code-comment">// æ¨é€é€šçŸ¥äº‹ä»¶</span>
self.<span class="code-function">addEventListener</span>(<span class="code-string">'push'</span>, event => {
  <span class="code-keyword">const</span> options = {
    <span class="code-string">body</span>: event.<span class="code-string">data</span> ? event.<span class="code-string">data</span>.<span class="code-function">text</span>() : <span class="code-string">'é»˜è®¤é€šçŸ¥å†…å®¹'</span>,
    <span class="code-string">icon</span>: <span class="code-string">'/images/icon-192.png'</span>,
    <span class="code-string">badge</span>: <span class="code-string">'/images/badge.png'</span>,
    <span class="code-string">vibrate</span>: [<span class="code-number">100</span>, <span class="code-number">50</span>, <span class="code-number">100</span>],
    <span class="code-string">data</span>: {
      <span class="code-string">dateOfArrival</span>: Date.<span class="code-function">now</span>(),
      <span class="code-string">primaryKey</span>: <span class="code-string">'2'</span>
    },
    <span class="code-string">actions</span>: [
      {
        <span class="code-string">action</span>: <span class="code-string">'explore'</span>,
        <span class="code-string">title</span>: <span class="code-string">'æŸ¥çœ‹è¯¦æƒ…'</span>,
        <span class="code-string">icon</span>: <span class="code-string">'/images/checkmark.png'</span>
      },
      {
        <span class="code-string">action</span>: <span class="code-string">'close'</span>,
        <span class="code-string">title</span>: <span class="code-string">'å…³é—­'</span>,
        <span class="code-string">icon</span>: <span class="code-string">'/images/xmark.png'</span>
      }
    ]
  };

  event.<span class="code-function">waitUntil</span>(
    self.<span class="code-string">registration</span>.<span class="code-function">showNotification</span>(<span class="code-string">'æœ¬å°å§çš„PWAé€šçŸ¥'</span>, options)
  );
});

<span class="code-comment">// é€šçŸ¥ç‚¹å‡»äº‹ä»¶</span>
self.<span class="code-function">addEventListener</span>(<span class="code-string">'notificationclick'</span>, event => {
  event.<span class="code-function">notification.close</span>();

  <span class="code-keyword">if</span> (event.<span class="code-string">action</span> === <span class="code-string">'explore'</span>) {
    <span class="code-comment">// æ‰“å¼€åº”ç”¨</span>
    event.<span class="code-function">waitUntil</span>(
      clients.<span class="code-function">openWindow</span>(<span class="code-string">'/'</span>)
    );
  }
});
</div>
                                </div>

                                <div class="technique-highlight rounded-lg p-6">
                                    <h5 class="text-lg font-semibold mb-4 text-orange-400">Web App Manifestï¼šåº”ç”¨çš„"èº«ä»½è¯"</h5>
                                    
                                    <div class="grid lg:grid-cols-2 gap-6">
                                        <div>
                                            <h6 class="font-semibold text-blue-300 mb-3">åŸºç¡€é…ç½®</h6>
                                            <div class="code-block text-xs">
<span class="code-comment">// manifest.json</span>
{
  <span class="code-string">"name"</span>: <span class="code-string">"æœ¬å°å§çš„è¶…å¼ºPWAåº”ç”¨"</span>,
  <span class="code-string">"short_name"</span>: <span class="code-string">"è¶…å¼ºPWA"</span>,
  <span class="code-string">"description"</span>: <span class="code-string">"è¿™æ˜¯æœ¬å°å§åˆ¶ä½œçš„PWAåº”ç”¨"</span>,
  <span class="code-string">"start_url"</span>: <span class="code-string">"/"</span>,
  <span class="code-string">"scope"</span>: <span class="code-string">"/"</span>,
  <span class="code-string">"display"</span>: <span class="code-string">"standalone"</span>,
  <span class="code-string">"orientation"</span>: <span class="code-string">"portrait"</span>,
  <span class="code-string">"theme_color"</span>: <span class="code-string">"#667eea"</span>,
  <span class="code-string">"background_color"</span>: <span class="code-string">"#ffffff"</span>,
  
  <span class="code-string">"icons"</span>: [
    {
      <span class="code-string">"src"</span>: <span class="code-string">"/images/icon-72x72.png"</span>,
      <span class="code-string">"sizes"</span>: <span class="code-string">"72x72"</span>,
      <span class="code-string">"type"</span>: <span class="code-string">"image/png"</span>
    },
    {
      <span class="code-string">"src"</span>: <span class="code-string">"/images/icon-192x192.png"</span>,
      <span class="code-string">"sizes"</span>: <span class="code-string">"192x192"</span>,
      <span class="code-string">"type"</span>: <span class="code-string">"image/png"</span>,
      <span class="code-string">"purpose"</span>: <span class="code-string">"any maskable"</span>
    },
    {
      <span class="code-string">"src"</span>: <span class="code-string">"/images/icon-512x512.png"</span>,
      <span class="code-string">"sizes"</span>: <span class="code-string">"512x512"</span>,
      <span class="code-string">"type"</span>: <span class="code-string">"image/png"</span>
    }
  ],
  
  <span class="code-string">"categories"</span>: [<span class="code-string">"productivity"</span>, <span class="code-string">"utilities"</span>],
  <span class="code-string">"lang"</span>: <span class="code-string">"zh-CN"</span>,
  <span class="code-string">"dir"</span>: <span class="code-string">"ltr"</span>
}

<span class="code-comment">// HTMLä¸­å¼•ç”¨manifest</span>
&lt;<span class="code-function">link</span> <span class="code-string">rel</span>=<span class="code-string">"manifest"</span> <span class="code-string">href</span>=<span class="code-string">"/manifest.json"</span>&gt;

<span class="code-comment">// iOS Safariå…¼å®¹æ€§metaæ ‡ç­¾</span>
&lt;<span class="code-function">meta</span> <span class="code-string">name</span>=<span class="code-string">"apple-mobile-web-app-capable"</span> <span class="code-string">content</span>=<span class="code-string">"yes"</span>&gt;
&lt;<span class="code-function">meta</span> <span class="code-string">name</span>=<span class="code-string">"apple-mobile-web-app-status-bar-style"</span> <span class="code-string">content</span>=<span class="code-string">"black"</span>&gt;
&lt;<span class="code-function">meta</span> <span class="code-string">name</span>=<span class="code-string">"apple-mobile-web-app-title"</span> <span class="code-string">content</span>=<span class="code-string">"è¶…å¼ºPWA"</span>&gt;
&lt;<span class="code-function">link</span> <span class="code-string">rel</span>=<span class="code-string">"apple-touch-icon"</span> <span class="code-string">href</span>=<span class="code-string">"/images/icon-192x192.png"</span>&gt;
</div>
                                        </div>

                                        <div>
                                            <h6 class="font-semibold text-green-300 mb-3">é«˜çº§åŠŸèƒ½</h6>
                                            <div class="code-block text-xs">
<span class="code-comment">// é«˜çº§manifesté…ç½®</span>
{
  <span class="code-comment">// å¿«æ·æ–¹å¼</span>
  <span class="code-string">"shortcuts"</span>: [
    {
      <span class="code-string">"name"</span>: <span class="code-string">"æ–°å»ºæ–‡æ¡£"</span>,
      <span class="code-string">"short_name"</span>: <span class="code-string">"æ–°å»º"</span>,
      <span class="code-string">"description"</span>: <span class="code-string">"åˆ›å»ºæ–°çš„æ–‡æ¡£"</span>,
      <span class="code-string">"url"</span>: <span class="code-string">"/new"</span>,
      <span class="code-string">"icons"</span>: [
        {
          <span class="code-string">"src"</span>: <span class="code-string">"/images/new-icon.png"</span>,
          <span class="code-string">"sizes"</span>: <span class="code-string">"96x96"</span>
        }
      ]
    }
  ],

  <span class="code-comment">// å±å¹•æˆªå›¾ï¼ˆç”¨äºåº”ç”¨å•†åº—ï¼‰</span>
  <span class="code-string">"screenshots"</span>: [
    {
      <span class="code-string">"src"</span>: <span class="code-string">"/images/screenshot1.png"</span>,
      <span class="code-string">"sizes"</span>: <span class="code-string">"1280x720"</span>,
      <span class="code-string">"type"</span>: <span class="code-string">"image/png"</span>
    },
    {
      <span class="code-string">"src"</span>: <span class="code-string">"/images/screenshot2.png"</span>,
      <span class="code-string">"sizes"</span>: <span class="code-string">"1280x720"</span>,
      <span class="code-string">"type"</span>: <span class="code-string">"image/png"</span>
    }
  ],

  <span class="code-comment">// åˆ†äº«ç›®æ ‡</span>
  <span class="code-string">"share_target"</span>: {
    <span class="code-string">"action"</span>: <span class="code-string">"/share"</span>,
    <span class="code-string">"method"</span>: <span class="code-string">"POST"</span>,
    <span class="code-string">"params"</span>: {
      <span class="code-string">"title"</span>: <span class="code-string">"title"</span>,
      <span class="code-string">"text"</span>: <span class="code-string">"text"</span>,
      <span class="code-string">"url"</span>: <span class="code-string">"url"</span>
    }
  },

  <span class="code-comment">// åè®®å¤„ç†</span>
  <span class="code-string">"protocol_handlers"</span>: [
    {
      <span class="code-string">"protocol"</span>: <span class="code-string">"mailto"</span>,
      <span class="code-string">"url"</span>: <span class="code-string">"/compose?to=%s"</span>
    }
  ]
}

<span class="code-comment">// JavaScriptä¸­æ£€æµ‹å®‰è£…çŠ¶æ€</span>
window.<span class="code-function">addEventListener</span>(<span class="code-string">'beforeinstallprompt'</span>, (e) => {
  <span class="code-comment">// é˜»æ­¢Chrome 67åŠæ›´æ—©ç‰ˆæœ¬çš„è‡ªåŠ¨æç¤º</span>
  e.<span class="code-function">preventDefault</span>();
  
  <span class="code-comment">// ä¿å­˜äº‹ä»¶å¼•ç”¨ï¼Œç¨åä½¿ç”¨</span>
  <span class="code-keyword">window</span>.<span class="code-string">deferredPrompt</span> = e;
  
  <span class="code-comment">// æ˜¾ç¤ºè‡ªå®šä¹‰å®‰è£…æŒ‰é’®</span>
  <span class="code-function">showInstallButton</span>();
});

<span class="code-keyword">function</span> <span class="code-function">showInstallPrompt</span>() {
  <span class="code-keyword">if</span> (<span class="code-keyword">window</span>.<span class="code-string">deferredPrompt</span>) {
    <span class="code-keyword">window</span>.<span class="code-string">deferredPrompt</span>.<span class="code-function">prompt</span>();
    
    <span class="code-keyword">window</span>.<span class="code-string">deferredPrompt</span>.<span class="code-string">userChoice</span>.<span class="code-function">then</span>((result) => {
      <span class="code-keyword">if</span> (result.<span class="code-string">outcome</span> === <span class="code-string">'accepted'</span>) {
        <span class="code-function">console.log</span>(<span class="code-string">'ç”¨æˆ·æ¥å—äº†å®‰è£…æç¤º'</span>);
      }
      <span class="code-keyword">window</span>.<span class="code-string">deferredPrompt</span> = <span class="code-keyword">null</span>;
    });
  }
}
</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 2.4.2 ç¦»çº¿åŠŸèƒ½ä¸æ¨é€é€šçŸ¥ -->
                        <div class="knowledge-card rounded-lg p-8">
                            <h4 class="text-2xl font-bold mb-6 text-cyan-300">2.4.2 ç¦»çº¿åŠŸèƒ½ä¸æ¨é€é€šçŸ¥ï¼šè®©ç”¨æˆ·éšæ—¶éšåœ°çˆ±ä¸Šä½ çš„åº”ç”¨</h4>

                            <p class="text-gray-300 mb-6 leading-relaxed">
                                ç¦»çº¿åŠŸèƒ½å’Œæ¨é€é€šçŸ¥æ˜¯ PWA çš„ä¸¤å¤§æ€æ‰‹é”ï¼æ²¡ç½‘ä¹Ÿèƒ½ç”¨ï¼Œæœ‰æ¶ˆæ¯è¿˜èƒ½æ¨é€ï¼Œè¿™æ ·çš„ä½“éªŒè°ä¸çˆ±ï¼Ÿæ¥çœ‹çœ‹æœ¬å°å§æ˜¯æ€ä¹ˆå®ç°çš„ï½
                            </p>

                            <div class="space-y-8">
                                <div class="technique-highlight rounded-lg p-6">
                                    <h5 class="text-lg font-semibold mb-4 text-yellow-400">ç¦»çº¿åŠŸèƒ½å®ç°ç­–ç•¥</h5>
                                    
                                    <div class="grid lg:grid-cols-2 gap-6">
                                        <div>
                                            <h6 class="font-semibold text-blue-300 mb-3">ç¦»çº¿é¡µé¢ä¸ä¼˜é›…é™çº§</h6>
                                            <div class="code-block text-xs">
<span class="code-comment">// offline.html - ç¦»çº¿é¡µé¢</span>
&lt;!DOCTYPE html&gt;
&lt;<span class="code-function">html</span> <span class="code-string">lang</span>=<span class="code-string">"zh-CN"</span>&gt;
&lt;<span class="code-function">head</span>&gt;
  &lt;<span class="code-function">meta</span> <span class="code-string">charset</span>=<span class="code-string">"UTF-8"</span>&gt;
  &lt;<span class="code-function">title</span>&gt;ç¦»çº¿æ¨¡å¼ - æœ¬å°å§çš„PWA&lt;/<span class="code-function">title</span>&gt;
  &lt;<span class="code-function">style</span>&gt;
    .<span class="code-function">offline-container</span> {
      <span class="code-string">display</span>: <span class="code-string">flex</span>;
      <span class="code-string">flex-direction</span>: <span class="code-string">column</span>;
      <span class="code-string">align-items</span>: <span class="code-string">center</span>;
      <span class="code-string">justify-content</span>: <span class="code-string">center</span>;
      <span class="code-string">min-height</span>: <span class="code-string">100vh</span>;
      <span class="code-string">text-align</span>: <span class="code-string">center</span>;
      <span class="code-string">padding</span>: <span class="code-string">2rem</span>;
    }
  &lt;/<span class="code-function">style</span>&gt;
&lt;/<span class="code-function">head</span>&gt;
&lt;<span class="code-function">body</span>&gt;
  &lt;<span class="code-function">div</span> <span class="code-string">class</span>=<span class="code-string">"offline-container"</span>&gt;
    &lt;<span class="code-function">h1</span>&gt;ğŸŒ å“å‘€ï¼Œç½‘ç»œè·‘ä¸¢äº†ï¼&lt;/<span class="code-function">h1</span>&gt;
    &lt;<span class="code-function">p</span>&gt;åˆ«æ‹…å¿ƒï¼Œæœ¬å°å§çš„åº”ç”¨è¿˜èƒ½è¿è¡Œä¸€äº›åŸºæœ¬åŠŸèƒ½å“¦ï½&lt;/<span class="code-function">p</span>&gt;
    &lt;<span class="code-function">button</span> <span class="code-string">onclick</span>=<span class="code-string">"location.reload()"</span>&gt;é‡æ–°è¿æ¥&lt;/<span class="code-function">button</span>&gt;
  &lt;/<span class="code-function">div</span>&gt;
&lt;/<span class="code-function">body</span>&gt;
&lt;/<span class="code-function">html</span>&gt;

<span class="code-comment">// app.js - ç½‘ç»œçŠ¶æ€æ£€æµ‹</span>
<span class="code-keyword">class</span> <span class="code-function">NetworkManager</span> {
  <span class="code-function">constructor</span>() {
    <span class="code-keyword">this</span>.<span class="code-function">setupNetworkListeners</span>();
    <span class="code-keyword">this</span>.<span class="code-function">updateNetworkStatus</span>();
  }

  <span class="code-function">setupNetworkListeners</span>() {
    window.<span class="code-function">addEventListener</span>(<span class="code-string">'online'</span>, () => {
      <span class="code-function">console.log</span>(<span class="code-string">'ğŸŸ¢ ç½‘ç»œå·²è¿æ¥'</span>);
      <span class="code-keyword">this</span>.<span class="code-function">onNetworkChange</span>(<span class="code-keyword">true</span>);
    });

    window.<span class="code-function">addEventListener</span>(<span class="code-string">'offline'</span>, () => {
      <span class="code-function">console.log</span>(<span class="code-string">'ğŸ”´ ç½‘ç»œå·²æ–­å¼€'</span>);
      <span class="code-keyword">this</span>.<span class="code-function">onNetworkChange</span>(<span class="code-keyword">false</span>);
    });
  }

  <span class="code-function">onNetworkChange</span>(isOnline) {
    <span class="code-keyword">const</span> statusBar = document.<span class="code-function">getElementById</span>(<span class="code-string">'network-status'</span>);
    <span class="code-keyword">if</span> (statusBar) {
      statusBar.<span class="code-string">textContent</span> = isOnline 
        ? <span class="code-string">'åœ¨çº¿'</span> 
        : <span class="code-string">'ç¦»çº¿æ¨¡å¼'</span>;
      statusBar.<span class="code-string">className</span> = isOnline 
        ? <span class="code-string">'status-online'</span> 
        : <span class="code-string">'status-offline'</span>;
    }

    <span class="code-keyword">if</span> (isOnline) {
      <span class="code-keyword">this</span>.<span class="code-function">syncPendingData</span>();
    }
  }

  <span class="code-keyword">async</span> <span class="code-function">syncPendingData</span>() {
    <span class="code-comment">// åŒæ­¥ç¦»çº¿æœŸé—´çš„æ•°æ®</span>
    <span class="code-keyword">const</span> pendingData = <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-function">getPendingData</span>();
    
    <span class="code-keyword">for</span> (<span class="code-keyword">const</span> item <span class="code-keyword">of</span> pendingData) {
      <span class="code-keyword">try</span> {
        <span class="code-keyword">await</span> <span class="code-function">fetch</span>(item.<span class="code-string">url</span>, {
          <span class="code-string">method</span>: <span class="code-string">'POST'</span>,
          <span class="code-string">body</span>: JSON.<span class="code-function">stringify</span>(item.<span class="code-string">data</span>),
          <span class="code-string">headers</span>: {
            <span class="code-string">'Content-Type'</span>: <span class="code-string">'application/json'</span>
          }
        });
        
        <span class="code-comment">// åŒæ­¥æˆåŠŸï¼Œåˆ é™¤æœ¬åœ°æ•°æ®</span>
        <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-function">removePendingItem</span>(item.<span class="code-string">id</span>);
      } <span class="code-keyword">catch</span> (error) {
        <span class="code-function">console.error</span>(<span class="code-string">'åŒæ­¥å¤±è´¥:'</span>, error);
      }
    }
  }
}

<span class="code-keyword">const</span> networkManager = <span class="code-keyword">new</span> <span class="code-function">NetworkManager</span>();
</div>
                                        </div>

                                        <div>
                                            <h6 class="font-semibold text-green-300 mb-3">IndexedDB ç¦»çº¿å­˜å‚¨</h6>
                                            <div class="code-block text-xs">
<span class="code-comment">// offline-storage.js - ç¦»çº¿æ•°æ®ç®¡ç†</span>
<span class="code-keyword">class</span> <span class="code-function">OfflineStorage</span> {
  <span class="code-function">constructor</span>() {
    <span class="code-keyword">this</span>.<span class="code-string">dbName</span> = <span class="code-string">'PWA_Offline_DB'</span>;
    <span class="code-keyword">this</span>.<span class="code-string">version</span> = <span class="code-number">1</span>;
    <span class="code-keyword">this</span>.<span class="code-string">db</span> = <span class="code-keyword">null</span>;
  }

  <span class="code-keyword">async</span> <span class="code-function">init</span>() {
    <span class="code-keyword">return</span> <span class="code-keyword">new</span> Promise((resolve, reject) => {
      <span class="code-keyword">const</span> request = indexedDB.<span class="code-function">open</span>(<span class="code-keyword">this</span>.<span class="code-string">dbName</span>, <span class="code-keyword">this</span>.<span class="code-string">version</span>);

      request.<span class="code-string">onerror</span> = () => <span class="code-function">reject</span>(request.<span class="code-string">error</span>);
      request.<span class="code-string">onsuccess</span> = () => {
        <span class="code-keyword">this</span>.<span class="code-string">db</span> = request.<span class="code-string">result</span>;
        <span class="code-function">resolve</span>(<span class="code-keyword">this</span>.<span class="code-string">db</span>);
      };

      request.<span class="code-string">onupgradeneeded</span> = (event) => {
        <span class="code-keyword">const</span> db = event.<span class="code-string">target</span>.<span class="code-string">result</span>;

        <span class="code-comment">// åˆ›å»ºå¯¹è±¡å­˜å‚¨</span>
        <span class="code-keyword">if</span> (!db.<span class="code-string">objectStoreNames</span>.<span class="code-function">contains</span>(<span class="code-string">'articles'</span>)) {
          <span class="code-keyword">const</span> articleStore = db.<span class="code-function">createObjectStore</span>(<span class="code-string">'articles'</span>, {
            <span class="code-string">keyPath</span>: <span class="code-string">'id'</span>,
            <span class="code-string">autoIncrement</span>: <span class="code-keyword">true</span>
          });
          articleStore.<span class="code-function">createIndex</span>(<span class="code-string">'title'</span>, <span class="code-string">'title'</span>, { <span class="code-string">unique</span>: <span class="code-keyword">false</span> });
        }

        <span class="code-keyword">if</span> (!db.<span class="code-string">objectStoreNames</span>.<span class="code-function">contains</span>(<span class="code-string">'offline_queue'</span>)) {
          db.<span class="code-function">createObjectStore</span>(<span class="code-string">'offline_queue'</span>, {
            <span class="code-string">keyPath</span>: <span class="code-string">'id'</span>,
            <span class="code-string">autoIncrement</span>: <span class="code-keyword">true</span>
          });
        }
      };
    });
  }

  <span class="code-keyword">async</span> <span class="code-function">saveArticle</span>(article) {
    <span class="code-keyword">const</span> transaction = <span class="code-keyword">this</span>.<span class="code-string">db</span>.<span class="code-function">transaction</span>([<span class="code-string">'articles'</span>], <span class="code-string">'readwrite'</span>);
    <span class="code-keyword">const</span> store = transaction.<span class="code-function">objectStore</span>(<span class="code-string">'articles'</span>);
    
    <span class="code-keyword">return</span> <span class="code-keyword">new</span> Promise((resolve, reject) => {
      <span class="code-keyword">const</span> request = store.<span class="code-function">add</span>({
        ...article,
        <span class="code-string">savedAt</span>: <span class="code-keyword">new</span> <span class="code-function">Date</span>().<span class="code-function">toISOString</span>()
      });

      request.<span class="code-string">onsuccess</span> = () => <span class="code-function">resolve</span>(request.<span class="code-string">result</span>);
      request.<span class="code-string">onerror</span> = () => <span class="code-function">reject</span>(request.<span class="code-string">error</span>);
    });
  }

  <span class="code-keyword">async</span> <span class="code-function">getOfflineArticles</span>() {
    <span class="code-keyword">const</span> transaction = <span class="code-keyword">this</span>.<span class="code-string">db</span>.<span class="code-function">transaction</span>([<span class="code-string">'articles'</span>], <span class="code-string">'readonly'</span>);
    <span class="code-keyword">const</span> store = transaction.<span class="code-function">objectStore</span>(<span class="code-string">'articles'</span>);

    <span class="code-keyword">return</span> <span class="code-keyword">new</span> Promise((resolve, reject) => {
      <span class="code-keyword">const</span> request = store.<span class="code-function">getAll</span>();
      request.<span class="code-string">onsuccess</span> = () => <span class="code-function">resolve</span>(request.<span class="code-string">result</span>);
      request.<span class="code-string">onerror</span> = () => <span class="code-function">reject</span>(request.<span class="code-string">error</span>);
    });
  }

  <span class="code-keyword">async</span> <span class="code-function">addToOfflineQueue</span>(action) {
    <span class="code-keyword">const</span> transaction = <span class="code-keyword">this</span>.<span class="code-string">db</span>.<span class="code-function">transaction</span>([<span class="code-string">'offline_queue'</span>], <span class="code-string">'readwrite'</span>);
    <span class="code-keyword">const</span> store = transaction.<span class="code-function">objectStore</span>(<span class="code-string">'offline_queue'</span>);

    <span class="code-keyword">return</span> <span class="code-keyword">new</span> Promise((resolve, reject) => {
      <span class="code-keyword">const</span> request = store.<span class="code-function">add</span>({
        ...action,
        <span class="code-string">timestamp</span>: Date.<span class="code-function">now</span>()
      });

      request.<span class="code-string">onsuccess</span> = () => <span class="code-function">resolve</span>(request.<span class="code-string">result</span>);
      request.<span class="code-string">onerror</span> = () => <span class="code-function">reject</span>(request.<span class="code-string">error</span>);
    });
  }
}

<span class="code-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="code-keyword">const</span> storage = <span class="code-keyword">new</span> <span class="code-function">OfflineStorage</span>();
<span class="code-keyword">await</span> storage.<span class="code-function">init</span>();

<span class="code-comment">// ä¿å­˜æ–‡ç« ä¾›ç¦»çº¿é˜…è¯»</span>
<span class="code-keyword">await</span> storage.<span class="code-function">saveArticle</span>({
  <span class="code-string">title</span>: <span class="code-string">'æœ¬å°å§çš„æŠ€æœ¯åˆ†äº«'</span>,
  <span class="code-string">content</span>: <span class="code-string">'PWAå¼€å‘å¿ƒå¾—...'</span>,
  <span class="code-string">author</span>: <span class="code-string">'æœ¬å°å§'</span>
});
</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="technique-highlight rounded-lg p-6">
                                    <h5 class="text-lg font-semibold mb-4 text-purple-400">æ¨é€é€šçŸ¥å®Œæ•´å®ç°</h5>
                                    
                                    <div class="code-block text-sm">
<span class="code-comment">// push-notifications.js - æ¨é€é€šçŸ¥ç®¡ç†</span>
<span class="code-keyword">class</span> <span class="code-function">PushNotificationManager</span> {
  <span class="code-function">constructor</span>() {
    <span class="code-keyword">this</span>.<span class="code-string">vapidPublicKey</span> = <span class="code-string">'ä½ çš„VAPIDå…¬é’¥'</span>;
    <span class="code-keyword">this</span>.<span class="code-string">subscription</span> = <span class="code-keyword">null</span>;
  }

  <span class="code-comment">// æ£€æŸ¥æ¨é€é€šçŸ¥æ”¯æŒ</span>
  <span class="code-function">isSupported</span>() {
    <span class="code-keyword">return</span> <span class="code-string">'serviceWorker'</span> <span class="code-keyword">in</span> navigator && 
           <span class="code-string">'PushManager'</span> <span class="code-keyword">in</span> window &&
           <span class="code-string">'Notification'</span> <span class="code-keyword">in</span> window;
  }

  <span class="code-comment">// è¯·æ±‚é€šçŸ¥æƒé™</span>
  <span class="code-keyword">async</span> <span class="code-function">requestPermission</span>() {
    <span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.<span class="code-function">isSupported</span>()) {
      <span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-function">Error</span>(<span class="code-string">'æ¨é€é€šçŸ¥ä¸è¢«æ”¯æŒ'</span>);
    }

    <span class="code-keyword">const</span> permission = <span class="code-keyword">await</span> Notification.<span class="code-function">requestPermission</span>();
    
    <span class="code-keyword">switch</span> (permission) {
      <span class="code-keyword">case</span> <span class="code-string">'granted'</span>:
        <span class="code-function">console.log</span>(<span class="code-string">'ğŸ”” é€šçŸ¥æƒé™å·²æˆäºˆ'</span>);
        <span class="code-keyword">return</span> <span class="code-keyword">true</span>;
      <span class="code-keyword">case</span> <span class="code-string">'denied'</span>:
        <span class="code-function">console.log</span>(<span class="code-string">'ğŸš« é€šçŸ¥æƒé™è¢«æ‹’ç»'</span>);
        <span class="code-keyword">return</span> <span class="code-keyword">false</span>;
      <span class="code-keyword">default</span>:
        <span class="code-function">console.log</span>(<span class="code-string">'â¸ï¸ é€šçŸ¥æƒé™å¾…å†³å®š'</span>);
        <span class="code-keyword">return</span> <span class="code-keyword">false</span>;
    }
  }

  <span class="code-comment">// è®¢é˜…æ¨é€æœåŠ¡</span>
  <span class="code-keyword">async</span> <span class="code-function">subscribe</span>() {
    <span class="code-keyword">if</span> (!<span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-function">requestPermission</span>()) {
      <span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-function">Error</span>(<span class="code-string">'é€šçŸ¥æƒé™è¢«æ‹’ç»'</span>);
    }

    <span class="code-keyword">const</span> registration = <span class="code-keyword">await</span> navigator.<span class="code-string">serviceWorker</span>.<span class="code-function">ready</span>;

    <span class="code-comment">// æ£€æŸ¥ç°æœ‰è®¢é˜…</span>
    <span class="code-keyword">let</span> subscription = <span class="code-keyword">await</span> registration.<span class="code-string">pushManager</span>.<span class="code-function">getSubscription</span>();

    <span class="code-keyword">if</span> (!subscription) {
      <span class="code-comment">// åˆ›å»ºæ–°è®¢é˜…</span>
      subscription = <span class="code-keyword">await</span> registration.<span class="code-string">pushManager</span>.<span class="code-function">subscribe</span>({
        <span class="code-string">userVisibleOnly</span>: <span class="code-keyword">true</span>,
        <span class="code-string">applicationServerKey</span>: <span class="code-keyword">this</span>.<span class
code-function">urlBase64ToUint8Array</span>(<span class="code-keyword">this</span>.<span class="code-string">vapidPublicKey</span>)
      });
    }

    <span class="code-keyword">this</span>.<span class="code-string">subscription</span> = subscription;

    <span class="code-comment">// å‘é€è®¢é˜…ä¿¡æ¯åˆ°æœåŠ¡å™¨</span>
    <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-function">sendSubscriptionToServer</span>(subscription);
    
    <span class="code-keyword">return</span> subscription;
  }

  <span class="code-comment">// å‘é€è®¢é˜…ä¿¡æ¯åˆ°æœåŠ¡å™¨</span>
  <span class="code-keyword">async</span> <span class="code-function">sendSubscriptionToServer</span>(subscription) {
    <span class="code-keyword">try</span> {
      <span class="code-keyword">const</span> response = <span class="code-keyword">await</span> <span class="code-function">fetch</span>(<span class="code-string">'/api/push/subscribe'</span>, {
        <span class="code-string">method</span>: <span class="code-string">'POST'</span>,
        <span class="code-string">headers</span>: {
          <span class="code-string">'Content-Type'</span>: <span class="code-string">'application/json'</span>
        },
        <span class="code-string">body</span>: JSON.<span class="code-function">stringify</span>({
          <span class="code-string">subscription</span>,
          <span class="code-string">userAgent</span>: navigator.<span class="code-string">userAgent</span>,
          <span class="code-string">timestamp</span>: <span class="code-keyword">new</span> <span class="code-function">Date</span>().<span class="code-function">toISOString</span>()
        })
      });

      <span class="code-keyword">if</span> (!response.<span class="code-string">ok</span>) {
        <span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-function">Error</span>(<span class="code-string">'è®¢é˜…å‘é€å¤±è´¥'</span>);
      }

      <span class="code-function">console.log</span>(<span class="code-string">'âœ… æ¨é€è®¢é˜…æˆåŠŸ'</span>);
    } <span class="code-keyword">catch</span> (error) {
      <span class="code-function">console.error</span>(<span class="code-string">'âŒ æ¨é€è®¢é˜…å¤±è´¥:'</span>, error);
    }
  }

  <span class="code-comment">// Base64è½¬Uint8Arrayå·¥å…·å‡½æ•°</span>
  <span class="code-function">urlBase64ToUint8Array</span>(base64String) {
    <span class="code-keyword">const</span> padding = <span class="code-string">'='</span>.<span class="code-function">repeat</span>((<span class="code-number">4</span> - base64String.<span class="code-string">length</span> % <span class="code-number">4</span>) % <span class="code-number">4</span>);
    <span class="code-keyword">const</span> base64 = (base64String + padding)
      .<span class="code-function">replace</span>(<span class="code-string">/\-/g</span>, <span class="code-string">'+'</span>)
      .<span class="code-function">replace</span>(<span class="code-string">/_/g</span>, <span class="code-string">'/'</span>);

    <span class="code-keyword">const</span> rawData = window.<span class="code-function">atob</span>(base64);
    <span class="code-keyword">const</span> outputArray = <span class="code-keyword">new</span> <span class="code-function">Uint8Array</span>(rawData.<span class="code-string">length</span>);

    <span class="code-keyword">for</span> (<span class="code-keyword">let</span> i = <span class="code-number">0</span>; i &lt; rawData.<span class="code-string">length</span>; ++i) {
      outputArray[i] = rawData.<span class="code-function">charCodeAt</span>(i);
    }

    <span class="code-keyword">return</span> outputArray;
  }

  <span class="code-comment">// æ˜¾ç¤ºæœ¬åœ°é€šçŸ¥</span>
  <span class="code-function">showNotification</span>(title, options = {}) {
    <span class="code-keyword">if</span> (Notification.<span class="code-string">permission</span> === <span class="code-string">'granted'</span>) {
      <span class="code-keyword">const</span> defaultOptions = {
        <span class="code-string">body</span>: <span class="code-string">'æ¥è‡ªæœ¬å°å§PWAçš„æ¶ˆæ¯'</span>,
        <span class="code-string">icon</span>: <span class="code-string">'/images/icon-192x192.png'</span>,
        <span class="code-string">badge</span>: <span class="code-string">'/images/badge.png'</span>,
        <span class="code-string">tag</span>: <span class="code-string">'pwa-notification'</span>,
        <span class="code-string">timestamp</span>: Date.<span class="code-function">now</span>(),
        <span class="code-string">requireInteraction</span>: <span class="code-keyword">true</span>,
        <span class="code-string">actions</span>: [
          {
            <span class="code-string">action</span>: <span class="code-string">'open'</span>,
            <span class="code-string">title</span>: <span class="code-string">'æ‰“å¼€åº”ç”¨'</span>,
            <span class="code-string">icon</span>: <span class="code-string">'/images/open.png'</span>
          },
          {
            <span class="code-string">action</span>: <span class="code-string">'close'</span>,
            <span class="code-string">title</span>: <span class="code-string">'å…³é—­'</span>,
            <span class="code-string">icon</span>: <span class="code-string">'/images/close.png'</span>
          }
        ]
      };

      <span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-function">Notification</span>(title, { ...defaultOptions, ...options });
    }
  }
}

<span class="code-comment">// æœåŠ¡ç«¯æ¨é€ç¤ºä¾‹ï¼ˆNode.js + web-pushï¼‰</span>
<span class="code-keyword">const</span> webpush = <span class="code-function">require</span>(<span class="code-string">'web-push'</span>);

<span class="code-comment">// VAPIDå¯†é’¥é…ç½®</span>
webpush.<span class="code-function">setVapidDetails</span>(
  <span class="code-string">'mailto:your-email@example.com'</span>,
  <span class="code-string">'ä½ çš„VAPIDå…¬é’¥'</span>,
  <span class="code-string">'ä½ çš„VAPIDç§é’¥'</span>
);

<span class="code-comment">// å‘é€æ¨é€é€šçŸ¥</span>
<span class="code-keyword">async</span> <span class="code-keyword">function</span> <span class="code-function">sendPushNotification</span>(subscription, payload) {
  <span class="code-keyword">try</span> {
    <span class="code-keyword">const</span> result = <span class="code-keyword">await</span> webpush.<span class="code-function">sendNotification</span>(subscription, JSON.<span class="code-function">stringify</span>(payload));
    <span class="code-function">console.log</span>(<span class="code-string">'æ¨é€å‘é€æˆåŠŸ:'</span>, result);
    <span class="code-keyword">return</span> result;
  } <span class="code-keyword">catch</span> (error) {
    <span class="code-function">console.error</span>(<span class="code-string">'æ¨é€å‘é€å¤±è´¥:'</span>, error);
    <span class="code-keyword">throw</span> error;
  }
}

<span class="code-comment">// æ‰¹é‡æ¨é€</span>
<span class="code-keyword">async</span> <span class="code-keyword">function</span> <span class="code-function">sendBatchNotifications</span>(subscriptions, payload) {
  <span class="code-keyword">const</span> promises = subscriptions.<span class="code-function">map</span>(subscription => 
    <span class="code-function">sendPushNotification</span>(subscription, payload)
      .<span class="code-function">catch</span>(error => ({ error, subscription }))
  );

  <span class="code-keyword">const</span> results = <span class="code-keyword">await</span> Promise.<span class="code-function">all</span>(promises);
  
  <span class="code-comment">// å¤„ç†å¤±è´¥çš„è®¢é˜…ï¼ˆå¯èƒ½éœ€è¦ä»æ•°æ®åº“åˆ é™¤ï¼‰</span>
  <span class="code-keyword">const</span> failedSubscriptions = results.<span class="code-function">filter</span>(result => result.<span class="code-string">error</span>);
  
  <span class="code-keyword">if</span> (failedSubscriptions.<span class="code-string">length</span> > <span class="code-number">0</span>) {
    <span class="code-function">console.log</span>(<span class="code-string">`${failedSubscriptions.length} ä¸ªè®¢é˜…å‘é€å¤±è´¥`</span>);
  }

  <span class="code-keyword">return</span> results;
}

<span class="code-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="code-keyword">const</span> pushManager = <span class="code-keyword">new</span> <span class="code-function">PushNotificationManager</span>();

<span class="code-comment">// åˆå§‹åŒ–æ¨é€</span>
<span class="code-keyword">if</span> (pushManager.<span class="code-function">isSupported</span>()) {
  pushManager.<span class="code-function">subscribe</span>()
    .<span class="code-function">then</span>(() => <span class="code-function">console.log</span>(<span class="code-string">'æ¨é€é€šçŸ¥å·²è®¾ç½®'</span>))
    .<span class="code-function">catch</span>(error => <span class="code-function">console.error</span>(<span class="code-string">'æ¨é€è®¾ç½®å¤±è´¥:'</span>, error));
}
</div>
                                </div>
                            </div>

                            <div class="warning-box rounded-lg p-4 mt-6">
                                <h6 class="font-semibold text-yellow-300 mb-2">PWAæ€§èƒ½ä¸ç”¨æˆ·ä½“éªŒè¦ç‚¹</h6>
                                <ul class="text-sm space-y-1">
                                    <li>â€¢ <strong>é¦–é¡µåŠ è½½ï¼š</strong> ç¡®ä¿é¦–é¡µèƒ½åœ¨3ç§’å†…åŠ è½½å®Œæˆ</li>
                                    <li>â€¢ <strong>ç¦»çº¿ä½“éªŒï¼š</strong> æ ¸å¿ƒåŠŸèƒ½åœ¨ç¦»çº¿çŠ¶æ€ä¸‹ä»å¯ä½¿ç”¨</li>
                                    <li>â€¢ <strong>å®‰è£…æç¤ºï¼š</strong> é€‚æ—¶å¼•å¯¼ç”¨æˆ·å®‰è£…åˆ°æ¡Œé¢</li>
                                    <li>â€¢ <strong>é€šçŸ¥é¢‘ç‡ï¼š</strong> æ§åˆ¶æ¨é€é€šçŸ¥é¢‘ç‡ï¼Œé¿å…æ‰“æ‰°ç”¨æˆ·</li>
                                </ul>
                            </div>

                            <div class="technique-highlight rounded-lg p-6 mt-6">
                                <h6 class="font-semibold text-purple-300 mb-2 text-center">æœ¬å°å§çš„PWAå¼€å‘å¿ƒå¾—</h6>
                                <p class="text-center text-sm text-gray-300 italic">
                                    "PWAä¸åªæ˜¯æŠ€æœ¯çš„å †ç Œï¼Œæ›´æ˜¯ç”¨æˆ·ä½“éªŒçš„è‰ºæœ¯ï¼è®°ä½ï¼š<br>
                                    <strong>æ¸è¿›å¢å¼ºï¼Œä¼˜é›…é™çº§ï¼Œå§‹ç»ˆä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒã€‚</strong><br>
                                    è®©ä½ çš„Webåº”ç”¨ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç½‘é¡µï¼Œè€Œæ˜¯çœŸæ­£çš„æ•°å­—åŒ–ä½“éªŒï¼"
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- åç«¯è¿›é˜¶ -->
        <section id="backend" class="py-16">
            <div class="max-w-6xl mx-auto px-4">
                <div class="chapter-card rounded-2xl p-8 mb-8">
                    <h2 class="text-4xl font-bold mb-8 text-center">
                        <span class="text-red-400">ä¸‰ã€</span> åç«¯è¿›é˜¶ï¼šæœåŠ¡å™¨é‚£ç‚¹äº‹å„¿ï¼Œä¹Ÿä¸æ˜¯é‚£ä¹ˆéš¾å˜›ï¼ˆæ‰æ€ªï¼‰ï¼æƒ³æˆä¸ºå¤§ä½¬ï¼Œåç«¯ä¹Ÿå¾—ç¡¬ï¼
                    </h2>

                    <div class="bg-gradient-to-r from-red-900 to-orange-900 rounded-lg p-6 mb-8">
                        <p class="text-lg italic text-center">
                            "å‰ç«¯çš„å°æŠŠæˆç©å¤Ÿäº†ï¼Ÿæ¥åç«¯çœ‹çœ‹çœŸæœ¬äº‹å§ï¼è¿™é‡Œçš„æŒ‘æˆ˜ï¼Œå¯ä¸æ˜¯ç›–çš„ï¼"
                        </p>
                    </div>

                    <!-- å¾®æœåŠ¡æ¶æ„ -->
                    <div class="mb-16">
                        <h3 class="text-3xl font-bold mb-8 text-yellow-400">3.1 å¾®æœåŠ¡æ¶æ„çš„è‰ºæœ¯ï¼šä»"ä¸€å¨åº”ç”¨"åˆ°"ä¸€ç¾¤å°èœœèœ‚"çš„ä¼˜é›…è½¬èº«ï¼</h3>

                        <div class="bg-gradient-to-r from-yellow-900 to-orange-900 rounded-lg p-6 mb-8">
                            <p class="text-lg italic text-center">
                                "æŠŠæ‰€æœ‰åŠŸèƒ½å¡ä¸€ä¸ªå¤§ç®±å­é‡Œï¼Ÿå“¼ï¼Œç¬¨æ­»äº†ï¼è®©å®ƒä»¬å˜æˆä¸€ç¾¤èƒ½å¹²çš„å°èœœèœ‚ï¼Œåˆ†å·¥åˆä½œï¼"
                            </p>
                        </div>

                        <!-- 3.1.1 å¾®æœåŠ¡è®¾è®¡åŸåˆ™ä¸æ¨¡å¼ -->
                        <div class="knowledge-card rounded-lg p-8 mb-8">
                            <h4 class="text-2xl font-bold mb-6 text-yellow-300">3.1.1 å¾®æœåŠ¡è®¾è®¡åŸåˆ™ä¸æ¨¡å¼ï¼šæ„å»ºå¼¹æ€§åˆ†å¸ƒå¼ç³»ç»Ÿ</h4>

                            <p class="text-gray-300 mb-6 leading-relaxed">
                                å¾®æœåŠ¡å¯ä¸æ˜¯æŠŠåº”ç”¨éšä¾¿åˆ‡å‡ åˆ€å°±å®Œäº‹äº†ï¼è¿™é‡Œé¢çš„å­¦é—®å¤§ç€å‘¢ã€‚æœ¬å°å§ä»Šå¤©å°±æ¥å‘Šè¯‰ä½ ï¼Œå¦‚ä½•ä¼˜é›…åœ°å°†å•ä½“åº”ç”¨æ‹†åˆ†æˆä¸€ç¾¤é«˜æ•ˆåä½œçš„"å°èœœèœ‚"ã€‚
                            </p>

                            <div class="space-y-8">
                                <div class="technique-highlight rounded-lg p-6">
                                    <h5 class="text-lg font-semibold mb-4 text-green-400">å•ä½“åˆ°å¾®æœåŠ¡çš„æ¼”è¿›ä¹‹è·¯</h5>
                                    
                                    <div class="grid lg:grid-cols-2 gap-6">
                                        <div>
                                            <h6 class="font-semibold text-blue-300 mb-3">å•ä½“åº”ç”¨çš„ç—›ç‚¹</h6>
                                            <div class="code-block text-sm">
<span class="code-comment">// å…¸å‹çš„å•ä½“åº”ç”¨ç»“æ„ - æ‰€æœ‰åŠŸèƒ½è€¦åˆåœ¨ä¸€èµ·</span>
<span class="code-keyword">class</span> <span class="code-function">MonolithicECommerceApp</span> {
  <span class="code-comment">// ç”¨æˆ·ç®¡ç†</span>
  <span class="code-function">registerUser</span>(userData) {
    <span class="code-comment">// ç›´æ¥æ“ä½œæ•°æ®åº“</span>
    <span class="code-keyword">this</span>.<span class="code-string">database</span>.<span class="code-function">users</span>.<span class="code-function">create</span>(userData);
    <span class="code-comment">// ç›´æ¥è°ƒç”¨é‚®ä»¶æœåŠ¡</span>
    <span class="code-keyword">this</span>.<span class="code-function">sendWelcomeEmail</span>(userData.<span class="code-string">email</span>);
    <span class="code-comment">// ç›´æ¥æ›´æ–°åº“å­˜</span>
    <span class="code-keyword">this</span>.<span class="code-function">initializeUserInventory</span>(userData.<span class="code-string">id</span>);
  }

  <span class="code-comment">// è®¢å•å¤„ç†</span>
  <span class="code-function">createOrder</span>(orderData) {
    <span class="code-comment">// æ‰€æœ‰é€»è¾‘éƒ½åœ¨ä¸€ä¸ªåœ°æ–¹</span>
    <span class="code-keyword">this</span>.<span class="code-function">validateUser</span>(orderData.<span class="code-string">userId</span>);
    <span class="code-keyword">this</span>.<span class="code-function">checkInventory</span>(orderData.<span class="code-string">items</span>);
    <span class="code-keyword">this</span>.<span class="code-function">processPayment</span>(orderData.<span class="code-string">payment</span>);
    <span class="code-keyword">this</span>.<span class="code-function">updateInventory</span>(orderData.<span class="code-string">items</span>);
    <span class="code-keyword">this</span>.<span class="code-function">createShipment</span>(orderData);
    <span class="code-keyword">this</span>.<span class="code-function">sendConfirmationEmail</span>(orderData);
  }

  <span class="code-comment">// æ”¯ä»˜å¤„ç†</span>
  <span class="code-function">processPayment</span>(paymentData) {
    <span class="code-comment">// ç´§å¯†è€¦åˆçš„æ”¯ä»˜é€»è¾‘</span>
    <span class="code-keyword">if</span> (paymentData.<span class="code-string">method</span> === <span class="code-string">'credit_card'</span>) {
      <span class="code-comment">// ä¿¡ç”¨å¡å¤„ç†...</span>
    } <span class="code-keyword">else</span> <span class="code-keyword">if</span> (paymentData.<span class="code-string">method</span> === <span class="code-string">'paypal'</span>) {
      <span class="code-comment">// PayPal å¤„ç†...</span>
    }
    <span class="code-comment">// éš¾ä»¥æ‰©å±•å’Œç»´æŠ¤</span>
  }
}

<span class="code-comment">// å•ä½“åº”ç”¨çš„é—®é¢˜</span>
<span class="code-keyword">const</span> problems = {
  <span class="code-string">scalability</span>: <span class="code-string">'æ•´ä¸ªåº”ç”¨å¿…é¡»ä¸€èµ·æ‰©å±•'</span>,
  <span class="code-string">technology</span>: <span class="code-string">'è¢«ç»‘å®šåˆ°å•ä¸€æŠ€æœ¯æ ˆ'</span>,
  <span class="code-string">deployment</span>: <span class="code-string">'å°æ”¹åŠ¨ä¹Ÿè¦å…¨é‡éƒ¨ç½²'</span>,
  <span class="code-string">reliability</span>: <span class="code-string">'ä¸€ä¸ªæ¨¡å—å‡ºé”™å½±å“æ•´ä½“'</span>,
  <span class="code-string">teamWork</span>: <span class="code-string">'å¤šå›¢é˜Ÿéš¾ä»¥å¹¶è¡Œå¼€å‘'</span>
};
</div>

                                            <div class="warning-box rounded-lg p-4 mt-4">
                                                <h7 class="font-semibold text-yellow-300 mb-2">å•ä½“åº”ç”¨çš„"æ­»äº¡èºæ—‹"</h7>
                                                <ul class="text-xs space-y-1">
                                                    <li>â€¢ <strong>ä»£ç è†¨èƒ€ï¼š</strong> åŠŸèƒ½è¶Šæ¥è¶Šå¤šï¼Œä»£ç è¶Šæ¥è¶Šéš¾ç»´æŠ¤</li>
                                                    <li>â€¢ <strong>éƒ¨ç½²ææƒ§ï¼š</strong> æ”¹ä¸€è¡Œä»£ç ä¹Ÿè¦å…¨é‡å›å½’æµ‹è¯•</li>
                                                    <li>â€¢ <strong>æŠ€æœ¯å€ºåŠ¡ï¼š</strong> éš¾ä»¥å¼•å…¥æ–°æŠ€æœ¯ï¼Œè¢«æ—§æ¡†æ¶ç»‘æ¶</li>
                                                    <li>â€¢ <strong>å›¢é˜Ÿç“¶é¢ˆï¼š</strong> æ‰€æœ‰å¼€å‘è€…éƒ½è¦ç†Ÿæ‚‰æ•´ä¸ªä»£ç åº“</li>
                                                </ul>
                                            </div>
                                        </div>

                                        <div>
                                            <h6 class="font-semibold text-green-300 mb-3">å¾®æœåŠ¡æ‹†åˆ†ç­–ç•¥</h6>
                                            <div class="architecture-diagram rounded-lg p-4 mb-4">
                                                <h7 class="font-semibold text-cyan-300 mb-3 text-center">é¢†åŸŸé©±åŠ¨è®¾è®¡(DDD)æ‹†åˆ†</h7>
                                                <div class="grid grid-cols-2 gap-4 text-xs">
                                                    <div class="bg-blue-900 bg-opacity-30 p-3 rounded text-center">
                                                        <p class="font-semibold text-blue-300">ç”¨æˆ·æœåŠ¡</p>
                                                        <p>æ³¨å†Œã€ç™»å½•ã€ä¸ªäººèµ„æ–™</p>
                                                    </div>
                                                    <div class="bg-green-900 bg-opacity-30 p-3 rounded text-center">
                                                        <p class="font-semibold text-green-300">å•†å“æœåŠ¡</p>
                                                        <p>å•†å“ç®¡ç†ã€åº“å­˜ã€åˆ†ç±»</p>
                                                    </div>
                                                    <div class="bg-purple-900 bg-opacity-30 p-3 rounded text-center">
                                                        <p class="font-semibold text-purple-300">è®¢å•æœåŠ¡</p>
                                                        <p>è®¢å•åˆ›å»ºã€çŠ¶æ€ç®¡ç†</p>
                                                    </div>
                                                    <div class="bg-orange-900 bg-opacity-30 p-3 rounded text-center">
                                                        <p class="font-semibold text-orange-300">æ”¯ä»˜æœåŠ¡</p>
                                                        <p>æ”¯ä»˜å¤„ç†ã€é€€æ¬¾</p>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="code-block text-sm">
<span class="code-comment">// å¾®æœåŠ¡æ‹†åˆ†åçš„æ¶æ„</span>
<span class="code-comment">// ç”¨æˆ·æœåŠ¡ - ä¸“æ³¨ç”¨æˆ·ç®¡ç†</span>
<span class="code-keyword">class</span> <span class="code-function">UserService</span> {
  <span class="code-keyword">async</span> <span class="code-function">registerUser</span>(userData) {
    <span class="code-keyword">const</span> user = <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-string">userRepository</span>.<span class="code-function">create</span>(userData);
    
    <span class="code-comment">// å‘å¸ƒäº‹ä»¶ï¼Œä¸ç›´æ¥è°ƒç”¨å…¶ä»–æœåŠ¡</span>
    <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-string">eventBus</span>.<span class="code-function">publish</span>(<span class="code-string">'user.registered'</span>, {
      <span class="code-string">userId</span>: user.<span class="code-string">id</span>,
      <span class="code-string">email</span>: user.<span class="code-string">email</span>,
      <span class="code-string">timestamp</span>: <span class="code-keyword">new</span> <span class="code-function">Date</span>()
    });

    <span class="code-keyword">return</span> user;
  }

  <span class="code-keyword">async</span> <span class="code-function">getUserById</span>(userId) {
    <span class="code-keyword">return</span> <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-string">userRepository</span>.<span class="code-function">findById</span>(userId);
  }
}

<span class="code-comment">// è®¢å•æœåŠ¡ - ä¸“æ³¨è®¢å•å¤„ç†</span>
<span class="code-keyword">class</span> <span class="code-function">OrderService</span> {
  <span class="code-keyword">async</span> <span class="code-function">createOrder</span>(orderData) {
    <span class="code-comment">// é€šè¿‡APIè°ƒç”¨å…¶ä»–æœåŠ¡</span>
    <span class="code-keyword">const</span> user = <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-string">userClient</span>.<span class="code-function">getUser</span>(orderData.<span class="code-string">userId</span>);
    <span class="code-keyword">const</span> inventory = <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-string">inventoryClient</span>.<span class="code-function">checkStock</span>(orderData.<span class="code-string">items</span>);

    <span class="code-comment">// åˆ›å»ºè®¢å•</span>
    <span class="code-keyword">const</span> order = <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-string">orderRepository</span>.<span class="code-function">create</span>({
      ...orderData,
      <span class="code-string">status</span>: <span class="code-string">'pending'</span>,
      <span class="code-string">createdAt</span>: <span class="code-keyword">new</span> <span class="code-function">Date</span>()
    });

    <span class="code-comment">// å‘å¸ƒè®¢å•åˆ›å»ºäº‹ä»¶</span>
    <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-string">eventBus</span>.<span class="code-function">publish</span>(<span class="code-string">'order.created'</span>, order);

    <span class="code-keyword">return</span> order;
  }
}

<span class="code-comment">// API Gateway - ç»Ÿä¸€å…¥å£</span>
<span class="code-keyword">class</span> <span class="code-function">APIGateway</span> {
  <span class="code-function">constructor</span>() {
    <span class="code-keyword">this</span>.<span class="code-string">routes</span> = <span class="code-keyword">new</span> <span class="code-function">Map</span>();
    <span class="code-keyword">this</span>.<span class="code-function">setupRoutes</span>();
  }

  <span class="code-function">setupRoutes</span>() {
    <span class="code-keyword">this</span>.<span class="code-string">routes</span>.<span class="code-function">set</span>(<span class="code-string">'/api/users'</span>, <span class="code-string">'http://user-service:3001'</span>);
    <span class="code-keyword">this</span>.<span class="code-string">routes</span>.<span class="code-function">set</span>(<span class="code-string">'/api/orders'</span>, <span class="code-string">'http://order-service:3002'</span>);
    <span class="code-keyword">this</span>.<span class="code-string">routes</span>.<span class="code-function">set</span>(<span class="code-string">'/api/products'</span>, <span class="code-string">'http://product-service:3003'</span>);
  }

  <span class="code-keyword">async</span> <span class="code-function">routeRequest</span>(request) {
    <span class="code-keyword">const</span> servicePath = <span class="code-keyword">this</span>.<span class="code-function">findServiceForPath</span>(request.<span class="code-string">path</span>);
    <span class="code-keyword">return</span> <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-function">forwardToService</span>(servicePath, request);
  }
}
</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="technique-highlight rounded-lg p-6">
                                    <h5 class="text-lg font-semibold mb-4 text-purple-400">å¾®æœåŠ¡é€šä¿¡æ¨¡å¼</h5>
                                    
                                    <div class="grid lg:grid-cols-2 gap-6">
                                        <div>
                                            <h6 class="font-semibold text-blue-300 mb-3">åŒæ­¥é€šä¿¡ï¼šREST & GraphQL</h6>
                                            <div class="code-block text-xs">
<span class="code-comment">// REST API å®¢æˆ·ç«¯</span>
<span class="code-keyword">class</span> <span class="code-function">ServiceClient</span> {
  <span class="code-function">constructor</span>(baseURL, timeout = <span class="code-number">5000</span>) {
    <span class="code-keyword">this</span>.<span class="code-string">baseURL</span> = baseURL;
    <span class="code-keyword">this</span>.<span class="code-string">timeout</span> = timeout;
    <span class="code-keyword">this</span>.<span class="code-string">retryCount</span> = <span class="code-number">3</span>;
  }

  <span class="code-keyword">async</span> <span class="code-function">request</span>(method, path, data = <span class="code-keyword">null</span>) {
    <span class="code-keyword">const</span> url = <span class="code-string">`${<span class="code-keyword">this</span>.<span class="code-string">baseURL</span>}${path}`</span>;
    
    <span class="code-keyword">for</span> (<span class="code-keyword">let</span> attempt = <span class="code-number">1</span>; attempt &lt;= <span class="code-keyword">this</span>.<span class="code-string">retryCount</span>; attempt++) {
      <span class="code-keyword">try</span> {
        <span class="code-keyword">const</span> response = <span class="code-keyword">await</span> <span class="code-function">fetch</span>(url, {
          <span class="code-string">method</span>,
          <span class="code-string">headers</span>: {
            <span class="code-string">'Content-Type'</span>: <span class="code-string">'application/json'</span>,
            <span class="code-string">'X-Request-ID'</span>: <span class="code-function">generateRequestId</span>(),
            <span class="code-string">'Authorization'</span>: <span class="code-string">`Bearer ${<span class="code-function">getAuthToken</span>()}`</span>
          },
          <span class="code-string">body</span>: data ? JSON.<span class="code-function">stringify</span>(data) : <span class="code-keyword">undefined</span>,
          <span class="code-string">signal</span>: AbortSignal.<span class="code-function">timeout</span>(<span class="code-keyword">this</span>.<span class="code-string">timeout</span>)
        });

        <span class="code-keyword">if</span> (!response.<span class="code-string">ok</span>) {
          <span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-function">Error</span>(<span class="code-string">`HTTP ${response.status}: ${response.statusText}`</span>);
        }

        <span class="code-keyword">return</span> <span class="code-keyword">await</span> response.<span class="code-function">json</span>();
      } <span class="code-keyword">catch</span> (error) {
        <span class="code-keyword">if</span> (attempt === <span class="code-keyword">this</span>.<span class="code-string">retryCount</span>) {
          <span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-function">ServiceError</span>(<span class="code-string">`æœåŠ¡è°ƒç”¨å¤±è´¥: ${error.message}`</span>);
        }
        
        <span class="code-comment">// æŒ‡æ•°é€€é¿é‡è¯•</span>
        <span class="code-keyword">await</span> <span class="code-function">sleep</span>(Math.<span class="code-function">pow</span>(<span class="code-number">2</span>, attempt) * <span class="code-number">1000</span>);
      }
    }
  }
}

<span class="code-comment">// æœåŠ¡ç†”æ–­å™¨</span>
<span class="code-keyword">class</span> <span class="code-function">CircuitBreaker</span> {
  <span class="code-function">constructor</span>(threshold = <span class="code-number">5</span>, resetTime = <span class="code-number">60000</span>) {
    <span class="code-keyword">this</span>.<span class="code-string">threshold</span> = threshold;
    <span class="code-keyword">this</span>.<span class="code-string">resetTime</span> = resetTime;
    <span class="code-keyword">this</span>.<span class="code-string">failureCount</span> = <span class="code-number">0</span>;
    <span class="code-keyword">this</span>.<span class="code-string">state</span> = <span class="code-string">'CLOSED'</span>; <span class="code-comment">// CLOSED, OPEN, HALF_OPEN</span>
    <span class="code-keyword">this</span>.<span class="code-string">nextAttempt</span> = <span class="code-number">0</span>;
  }

  <span class="code-keyword">async</span> <span class="code-function">execute</span>(operation) {
    <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.<span class="code-string">state</span> === <span class="code-string">'OPEN'</span>) {
      <span class="code-keyword">if</span> (Date.<span class="code-function">now</span>() &lt; <span class="code-keyword">this</span>.<span class="code-string">nextAttempt</span>) {
        <span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-function">Error</span>(<span class="code-string">'Circuit breaker is OPEN'</span>);
      }
      <span class="code-keyword">this</span>.<span class="code-string">state</span> = <span class="code-string">'HALF_OPEN'</span>;
    }

    <span class="code-keyword">try</span> {
      <span class="code-keyword">const</span> result = <span class="code-keyword">await</span> <span class="code-function">operation</span>();
      <span class="code-keyword">this</span>.<span class="code-function">onSuccess</span>();
      <span class="code-keyword">return</span> result;
    } <span class="code-keyword">catch</span> (error) {
      <span class="code-keyword">this</span>.<span class="code-function">onFailure</span>();
      <span class="code-keyword">throw</span> error;
    }
  }

  <span class="code-function">onSuccess</span>() {
    <span class="code-keyword">this</span>.<span class="code-string">failureCount</span> = <span class="code-number">0</span>;
    <span class="code-keyword">this</span>.<span class="code-string">state</span> = <span class="code-string">'CLOSED'</span>;
  }

  <span class="code-function">onFailure</span>() {
    <span class="code-keyword">this</span>.<span class="code-string">failureCount</span>++;
    <span class="code-keyword">if</span> (<span class="code-keyword">this</span>.<span class="code-string">failureCount</span> >= <span class="code-keyword">this</span>.<span class="code-string">threshold</span>) {
      <span class="code-keyword">this</span>.<span class="code-string">state</span> = <span class="code-string">'OPEN'</span>;
      <span class="code-keyword">this</span>.<span class="code-string">nextAttempt</span> = Date.<span class="code-function">now</span>() + <span class="code-keyword">this</span>.<span class="code-string">resetTime</span>;
    }
  }
}
</div>
                                        </div>

                                        <div>
                                            <h6 class="font-semibold text-green-300 mb-3">å¼‚æ­¥é€šä¿¡ï¼šäº‹ä»¶é©±åŠ¨æ¶æ„</h6>
                                            <div class="code-block text-xs">
<span class="code-comment">// äº‹ä»¶æ€»çº¿å®ç°</span>
<span class="code-keyword">class</span> <span class="code-function">EventBus</span> {
  <span class="code-function">constructor</span>() {
    <span class="code-keyword">this</span>.<span class="code-string">subscribers</span> = <span class="code-keyword">new</span> <span class="code-function">Map</span>();
  }

  <span class="code-function">subscribe</span>(eventType, handler) {
    <span class="code-keyword">if</span> (!<span class="code-keyword">this</span>.<span class="code-string">subscribers</span>.<span class="code-function">has</span>(eventType)) {
      <span class="code-keyword">this</span>.<span class="code-string">subscribers</span>.<span class="code-function">set</span>(eventType, []);
    }
    <span class="code-keyword">this</span>.<span class="code-string">subscribers</span>.<span class="code-function">get</span>(eventType).<span class="code-function">push</span>(handler);
  }

  <span class="code-keyword">async</span> <span class="code-function">publish</span>(eventType, eventData) {
    <span class="code-keyword">const</span> event = {
      <span class="code-string">id</span>: <span class="code-function">generateEventId</span>(),
      <span class="code-string">type</span>: eventType,
      <span class="code-string">data</span>: eventData,
      <span class="code-string">timestamp</span>: <span class="code-keyword">new</span> <span class="code-function">Date</span>().<span class="code-function">toISOString</span>(),
      <span class="code-string">source</span>: process.<span class="code-string">env</span>.<span class="code-string">SERVICE_NAME</span>
    };

    <span class="code-keyword">const</span> handlers = <span class="code-keyword">this</span>.<span class="code-string">subscribers</span>.<span class="code-function">get</span>(eventType) || [];
    
    <span class="code-comment">// å¹¶è¡Œå¤„ç†äº‹ä»¶</span>
    <span class="code-keyword">const</span> promises = handlers.<span class="code-function">map</span>(<span class="code-keyword">async</span> (handler) => {
      <span class="code-keyword">try</span> {
        <span class="code-keyword">await</span> <span class="code-function">handler</span>(event);
      } <span class="code-keyword">catch</span> (error) {
        <span class="code-function">console.error</span>(<span class="code-string">`äº‹ä»¶å¤„ç†å¤±è´¥: ${eventType}`</span>, error);
        <span class="code-comment">// å¯ä»¥è€ƒè™‘é‡è¯•æˆ–æ­»ä¿¡é˜Ÿåˆ—</span>
      }
    });

    <span class="code-keyword">await</span> Promise.<span class="code-function">allSettled</span>(promises);
  }
}

<span class="code-comment">// Saga æ¨¡å¼ - åˆ†å¸ƒå¼äº‹åŠ¡</span>
<span class="code-keyword">class</span> <span class="code-function">OrderSaga</span> {
  <span class="code-function">constructor</span>(eventBus) {
    <span class="code-keyword">this</span>.<span class="code-string">eventBus</span> = eventBus;
    <span class="code-keyword">this</span>.<span class="code-function">setupEventHandlers</span>();
  }

  <span class="code-function">setupEventHandlers</span>() {
    <span class="code-keyword">this</span>.<span class="code-string">eventBus</span>.<span class="code-function">subscribe</span>(<span class="code-string">'order.created'</span>, <span class="code-keyword">this</span>.<span class="code-function">handleOrderCreated</span>.<span class="code-function">bind</span>(<span class="code-keyword">this</span>));
    <span class="code-keyword">this</span>.<span class="code-string">eventBus</span>.<span class="code-function">subscribe</span>(<span class="code-string">'payment.completed'</span>, <span class="code-keyword">this</span>.<span class="code-function">handlePaymentCompleted</span>.<span class="code-function">bind</span>(<span class="code-keyword">this</span>));
    <span class="code-keyword">this</span>.<span class="code-string">eventBus</span>.<span class="code-function">subscribe</span>(<span class="code-string">'payment.failed'</span>, <span class="code-keyword">this</span>.<span class="code-function">handlePaymentFailed</span>.<span class="code-function">bind</span>(<span class="code-keyword">this</span>));
  }

  <span class="code-keyword">async</span> <span class="code-function">handleOrderCreated</span>(event) {
    <span class="code-keyword">const</span> { orderId, amount, userId } = event.<span class="code-string">data</span>;
    
    <span class="code-keyword">try</span> {
      <span class="code-comment">// ç¬¬ä¸€æ­¥ï¼šé¢„ç•™åº“å­˜</span>
      <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-string">inventoryService</span>.<span class="code-function">reserve</span>(orderId, event.<span class="code-string">data</span>.<span class="code-string">items</span>);
      
      <span class="code-comment">// ç¬¬äºŒæ­¥ï¼šå¤„ç†æ”¯ä»˜</span>
      <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-string">paymentService</span>.<span class="code-function">charge</span>(orderId, amount, userId);
      
    } <span class="code-keyword">catch</span> (error) {
      <span class="code-comment">// è¡¥å¿æ“ä½œ</span>
      <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-function">compensateOrderCreation</span>(orderId);
    }
  }

  <span class="code-keyword">async</span> <span class="code-function">compensateOrderCreation</span>(orderId) {
    <span class="code-comment">// å›æ»šè®¢å•ç›¸å…³çš„æ‰€æœ‰æ“ä½œ</span>
    <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-string">inventoryService</span>.<span class="code-function">release</span>(orderId);
    <span class="code-keyword">await</span> <span class="code-keyword">this</span>.<span class="code-string">orderService</span>.<span class="code-function">cancel</span>(orderId);
    
    <span class="code-keyword">this</span>.<span class="code-string">eventBus</span>.<span class="code-function">publish</span>(<span class="code-string">'order.failed'</span>, { orderId });
  }
}
</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ç»§ç»­å…¶ä»–ç« èŠ‚çš„å†…å®¹ï¼Œä¿æŒç›¸åŒçš„è¯¦ç»†ç¨‹åº¦å’Œé£æ ¼ -->
                    </div>
                </div>
            </div>
        </section>

        <!-- è¿™é‡Œåº”è¯¥ç»§ç»­åŒ…å«åç«¯è¿›é˜¶çš„å…¶ä»–éƒ¨åˆ†ï¼ˆDockerã€Redisã€æ¶ˆæ¯é˜Ÿåˆ—ï¼‰ã€å…¨æ ˆèåˆã€åº•å±‚åŸç†ç­‰ç« èŠ‚ -->
        <!-- ç”±äºç¯‡å¹…é™åˆ¶ï¼Œè¿™é‡Œåªå±•ç¤ºäº†éƒ¨åˆ†å†…å®¹çš„è¯¦ç»†æ‰©å±• -->

        <!-- ç»ˆç«  -->
        <section id="conclusion" class="gradient-bg py-16">
            <div class="max-w-6xl mx-auto px-4">
                <div class="chapter-card rounded-2xl p-8 text-center">
                    <h2 class="text-4xl font-bold mb-8">
                        <span class="text-pink-400">å…­ã€</span> ç»ˆç« ï¼šå˜›ï¼Œæœ¬å°å§çš„å€¾å›Šç›¸æˆå°±åˆ°è¿™é‡Œäº†ï¼Œå‰©ä¸‹çš„è·¯ï¼Œè‡ªå·±å¥½å¥½èµ°å§ï¼
                    </h2>

                    <div class="bg-gradient-to-r from-pink-900 to-purple-900 rounded-lg p-6 mb-8">
                        <p class="text-lg italic">
                            "å“¼... æœ¬å°å§å¯æ˜¯æŠŠæ¯•ç”Ÿæ‰€å­¦ï¼ˆæ‰ä¸æ˜¯ï¼ï¼‰éƒ½æ•™ç»™ä½ äº†ã€‚èƒ½å­¦åˆ°å¤šå°‘ï¼Œå°±çœ‹ä½ è‡ªå·±çš„é€ åŒ–äº†ã€‚"
                        </p>
                    </div>

                    <div class="bg-black bg-opacity-30 rounded-lg p-8">
                        <div class="floating-element inline-block">
                            <div class="w-16 h-16 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full mx-auto mb-4"></div>
                        </div>
                        <p class="text-2xl font-bold text-white mb-4">
                            å…¨æ ˆå¼€å‘ä¹‹è·¯ï¼Œæ°¸æ— æ­¢å¢ƒï¼
                        </p>
                        <p class="text-lg text-gray-300 mb-6">
                            æœ¬æ•™ç¨‹è™½ç„¶ç»“æŸäº†ï¼Œä½†ä½ çš„å­¦ä¹ ä¹‹æ—…æ‰åˆšåˆšå¼€å§‹ã€‚<br>
                            è®°ä½ï¼ŒçœŸæ­£çš„å…¨æ ˆé«˜æ‰‹ä¸æ˜¯çŸ¥é“å¤šå°‘æŠ€æœ¯ï¼Œ<br>
                            è€Œæ˜¯æ‹¥æœ‰æŒç»­å­¦ä¹ å’Œè§£å†³é—®é¢˜çš„èƒ½åŠ›ï¼
                        </p>
                        <div class="text-sm text-gray-400">
                            <p>é¢„è®¡å­—æ•°ï¼šçº¦ 50000 å­—</p>
                            <p>æ¶µç›–ï¼šå‰ç«¯è¿›é˜¶ã€åç«¯è¿›é˜¶ã€å…¨æ ˆèåˆã€åº•å±‚åŸç†</p>
                            <p class="text-pink-300 italic mt-2">"å“¼ï¼Œä¹Ÿå°±å‹‰å¼ºç®—æ˜¯å…¥é—¨çº§åˆ«çš„æ•™ç¨‹å•¦ï¼"</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- åº•éƒ¨ -->
    <footer class="bg-black py-8 text-center text-gray-400">
        <div class="max-w-4xl mx-auto px-4">
            <p class="mb-2">Â© 2024 å…¨æ ˆå¼€å‘è¿›é˜¶æ•™ç¨‹ - æœ¬å°å§çš„å‚²å¨‡æŠ€æœ¯åˆ†äº«</p>
            <p class="text-sm">
                "è®°ä½ï¼Œè¿™åªæ˜¯ä¸ªå¼€å§‹ã€‚çœŸæ­£çš„é«˜æ‰‹ä¹‹è·¯ï¼Œè¿˜åœ¨åé¢ç­‰ç€ä½ å‘¢ï¼"
            </p>
            <div class="mt-4">
                <span class="inline-block w-2 h-2 bg-pink-400 rounded-full mx-1"></span>
                <span class="inline-block w-2 h-2 bg-purple-400 rounded-full mx-1"></span>
                <span class="inline-block w-2 h-2 bg-blue-400 rounded-full mx-1"></span>
            </div>
        </div>
    </footer>

    <script>
        // è¿›åº¦æ¡æ›´æ–°
        function updateProgressBar() {
            const scrollTop = window.pageYOffset;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrollPercent = (scrollTop / docHeight) * 100;
            document.getElementById('progressBar').style.width = scrollPercent + '%';
        }

        // å¹³æ»‘æ»šåŠ¨
        function scrollToSection(selector) {
            document.querySelector(selector).scrollIntoView({
                behavior: 'smooth'
            });
        }

        // å¯¼èˆªç‚¹æ›´æ–°
        function updateNavDots() {
            const sections = ['intro', 'frontend', 'backend', 'fullstack', 'principles', 'conclusion'];
            const scrollTop = window.pageYOffset + 100;

            sections.forEach(sectionId => {
                const section = document.getElementById(sectionId);
                const navDot = document.querySelector(`[data-section="${sectionId}"]`);

                if (section && navDot) {
                    const sectionTop = section.offsetTop;
                    const sectionBottom = sectionTop + section.offsetHeight;

                    if (scrollTop >= sectionTop && scrollTop < sectionBottom) {
                        navDot.classList.add('active');
                    } else {
                        navDot.classList.remove('active');
                    }
                }
            });
        }

        // å¯¼èˆªç‚¹ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.nav-dot').forEach(dot => {
            dot.addEventListener('click', () => {
                const sectionId = dot.getAttribute('data-section');
                const section = document.getElementById(sectionId);
                if (section) {
                    section.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // ç›‘å¬æ»šåŠ¨äº‹ä»¶
        window.addEventListener('scroll', () => {
            updateProgressBar();
            updateNavDots();
        });

        // é¡µé¢åŠ è½½å®Œæˆæ—¶çš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            updateProgressBar();
            updateNavDots();

            // æ·»åŠ åŠ¨ç”»æ•ˆæœ
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });

            // è§‚å¯Ÿæ‰€æœ‰ç« èŠ‚å¡ç‰‡
            document.querySelectorAll('.chapter-card').forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'all 0.6s ease';
                observer.observe(card);
            });
        });

        // ä»£ç å—è¯­æ³•é«˜äº®æ•ˆæœå¢å¼º
        document.querySelectorAll('.code-block').forEach(block => {
            block.addEventListener('click', () => {
                // å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(block.textContent).then(() => {
                        // æ˜¾ç¤ºå¤åˆ¶æˆåŠŸæç¤º
                        const originalBg = block.style.background;
                        block.style.background = 'rgba(34, 197, 94, 0.2)';
                        setTimeout(() => {
                            block.style.background = originalBg;
                        }, 200);
                    });
                }
            });
        });
    </script>
</body>
</html>



